!function(a,b,c,d){"use strict";function e(a){return("string"==typeof a||a instanceof String)&&(a=a.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),a}var f=function(b){for(var c=b.length,d=a("head");c--;)0===d.has("."+b[c]).length&&d.append('<meta class="'+b[c]+'" />')};f(["foundation-mq-small","foundation-mq-small-only","foundation-mq-medium","foundation-mq-medium-only","foundation-mq-large","foundation-mq-large-only","foundation-mq-xlarge","foundation-mq-xlarge-only","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),a(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof c.body&&FastClick.attach(c.body)});var g=function(b,d){if("string"==typeof b){if(d){var e;if(d.jquery){if(e=d[0],!e)return d}else e=d;return a(e.querySelectorAll(b))}return a(c.querySelectorAll(b))}return a(b,d)},h=function(a){var b=[];return a||b.push("data"),this.namespace.length>0&&b.push(this.namespace),b.push(this.name),b.join("-")},i=function(a){for(var b=a.split("-"),c=b.length,d=[];c--;)0!==c?d.push(b[c]):this.namespace.length>0?d.push(this.namespace,b[c]):d.push(b[c]);return d.reverse().join("-")},j=function(b,c){var d=this,e=function(){var e=g(this),f=!e.data(d.attr_name(!0)+"-init");e.data(d.attr_name(!0)+"-init",a.extend({},d.settings,c||b,d.data_options(e))),f&&d.events(this)};return g(this.scope).is("["+this.attr_name()+"]")?e.call(this.scope):g("["+this.attr_name()+"]",this.scope).each(e),"string"==typeof b?this[b].call(this,c):void 0},k=function(a,b){function c(){b(a[0])}function d(){if(this.one("load",c),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var a=this.attr("src"),b=a.match(/\?/)?"&":"?";b+="random="+(new Date).getTime(),this.attr("src",a+b)}}return a.attr("src")?void(a[0].complete||4===a[0].readyState?c():d.call(a)):void c()};/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */
b.matchMedia||(b.matchMedia=function(){var a=b.styleMedia||b.media;if(!a){var d=c.createElement("style"),e=c.getElementsByTagName("script")[0],f=null;d.type="text/css",d.id="matchmediajs-test",e.parentNode.insertBefore(d,e),f="getComputedStyle"in b&&b.getComputedStyle(d,null)||d.currentStyle,a={matchMedium:function(a){var b="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return d.styleSheet?d.styleSheet.cssText=b:d.textContent=b,"1px"===f.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a){function c(){d&&(g(c),i&&a.fx.tick())}for(var d,e=0,f=["webkit","moz"],g=b.requestAnimationFrame,h=b.cancelAnimationFrame,i="undefined"!=typeof a.fx;e<f.length&&!g;e++)g=b[f[e]+"RequestAnimationFrame"],h=h||b[f[e]+"CancelAnimationFrame"]||b[f[e]+"CancelRequestAnimationFrame"];g?(b.requestAnimationFrame=g,b.cancelAnimationFrame=h,i&&(a.fx.timer=function(b){b()&&a.timers.push(b)&&!d&&(d=!0,c())},a.fx.stop=function(){d=!1})):(b.requestAnimationFrame=function(a){var c=(new Date).getTime(),d=Math.max(0,16-(c-e)),f=b.setTimeout(function(){a(c+d)},d);return e=c+d,f},b.cancelAnimationFrame=function(a){clearTimeout(a)})}(a),b.Foundation={name:"Foundation",version:"5.5.2",media_queries:{small:g(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"small-only":g(".foundation-mq-small-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:g(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"medium-only":g(".foundation-mq-medium-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:g(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"large-only":g(".foundation-mq-large-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:g(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"xlarge-only":g(".foundation-mq-xlarge-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:g(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:a("<style></style>").appendTo("head")[0].sheet,global:{namespace:d},init:function(a,c,d,e,f){var h=[a,d,e,f],i=[];if(this.rtl=/rtl/i.test(g("html").attr("dir")),this.scope=a||this.scope,this.set_namespace(),c&&"string"==typeof c&&!/reflow/i.test(c))this.libs.hasOwnProperty(c)&&i.push(this.init_lib(c,h));else for(var j in this.libs)i.push(this.init_lib(j,c));return g(b).load(function(){g(b).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")}),a},init_lib:function(b,c){return this.libs.hasOwnProperty(b)?(this.patch(this.libs[b]),c&&c.hasOwnProperty(b)?("undefined"!=typeof this.libs[b].settings?a.extend(!0,this.libs[b].settings,c[b]):"undefined"!=typeof this.libs[b].defaults&&a.extend(!0,this.libs[b].defaults,c[b]),this.libs[b].init.apply(this.libs[b],[this.scope,c[b]])):(c=c instanceof Array?c:new Array(c),this.libs[b].init.apply(this.libs[b],c))):function(){}},patch:function(a){a.scope=this.scope,a.namespace=this.global.namespace,a.rtl=this.rtl,a.data_options=this.utils.data_options,a.attr_name=h,a.add_namespace=i,a.bindings=j,a.S=this.utils.S},inherit:function(a,b){for(var c=b.split(" "),d=c.length;d--;)this.utils.hasOwnProperty(c[d])&&(a[c[d]]=this.utils[c[d]])},set_namespace:function(){var b=this.global.namespace===d?a(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=b===d||/false/i.test(b)?"":b},libs:{},utils:{S:g,throttle:function(a,b){var c=null;return function(){var d=this,e=arguments;null==c&&(c=setTimeout(function(){a.apply(d,e),c=null},b))}},debounce:function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},data_options:function(b,c){function d(a){return!isNaN(a-0)&&null!==a&&""!==a&&a!==!1&&a!==!0}function e(b){return"string"==typeof b?a.trim(b):b}c=c||"options";var f,g,h,i={},j=function(a){var b=Foundation.global.namespace;return a.data(b.length>0?b+"-"+c:c)},k=j(b);if("object"==typeof k)return k;for(h=(k||":").split(";"),f=h.length;f--;)g=h[f].split(":"),g=[g[0],g.slice(1).join(":")],/true/i.test(g[1])&&(g[1]=!0),/false/i.test(g[1])&&(g[1]=!1),d(g[1])&&(-1===g[1].indexOf(".")?g[1]=parseInt(g[1],10):g[1]=parseFloat(g[1])),2===g.length&&g[0].length>0&&(i[e(g[0])]=e(g[1]));return i},register_media:function(b,c){Foundation.media_queries[b]===d&&(a("head").append('<meta class="'+c+'"/>'),Foundation.media_queries[b]=e(a("."+c).css("font-family")))},add_custom_rule:function(a,b){if(b===d&&Foundation.stylesheet)Foundation.stylesheet.insertRule(a,Foundation.stylesheet.cssRules.length);else{var c=Foundation.media_queries[b];c!==d&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[b]+"{ "+a+" }",Foundation.stylesheet.cssRules.length)}},image_loaded:function(a,b){function c(a){for(var b=a.length,c=b-1;c>=0;c--)if(a.attr("height")===d)return!1;return!0}var e=this,f=a.length;(0===f||c(a))&&b(a),a.each(function(){k(e.S(this),function(){f-=1,0===f&&b(a)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)},match:function(a){return b.matchMedia(a).matches},is_small_up:function(){return this.match(Foundation.media_queries.small)},is_medium_up:function(){return this.match(Foundation.media_queries.medium)},is_large_up:function(){return this.match(Foundation.media_queries.large)},is_xlarge_up:function(){return this.match(Foundation.media_queries.xlarge)},is_xxlarge_up:function(){return this.match(Foundation.media_queries.xxlarge)},is_small_only:function(){return!(this.is_medium_up()||this.is_large_up()||this.is_xlarge_up()||this.is_xxlarge_up())},is_medium_only:function(){return this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_large_only:function(){return this.is_medium_up()&&this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xxlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&this.is_xxlarge_up()}}},a.fn.foundation=function(){var a=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(a)),this})}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.abide={name:"abide",version:"5.5.2",settings:{live_validate:!0,validate_on_blur:!0,focus_on_invalid:!0,error_labels:!0,error_class:"error",timeout:1e3,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,url:/^(https?|ftp|file|ssh):\/\/([-;:&=\+\$,\w]+@{1})?([-A-Za-z0-9\.]+)+:?(\d+)?((\/[-\+~%\/\.\w]+)?\??([-\+=&;%@\.\w]+)?#?([\w]+)?)?/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,8}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,day_month_year:/^(0[1-9]|[12][0-9]|3[01])[- \/.](0[1-9]|1[012])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},validators:{equalTo:function(a,b,d){var e=c.getElementById(a.getAttribute(this.add_namespace("data-equalto"))).value,f=a.value,g=e===f;return g}}},timer:null,init:function(a,b,c){this.bindings(b,c)},events:function(b){function c(a,b){clearTimeout(d.timer),d.timer=setTimeout(function(){d.validate([a],b)}.bind(a),f.timeout)}var d=this,e=d.S(b).attr("novalidate","novalidate"),f=e.data(this.attr_name(!0)+"-init")||{};this.invalid_attr=this.add_namespace("data-invalid"),e.off(".abide").on("submit.fndtn.abide",function(a){var b=/ajax/i.test(d.S(this).attr(d.attr_name()));return d.validate(d.S(this).find("input, textarea, select").not(":hidden, [data-abide-ignore]").get(),a,b)}).on("validate.fndtn.abide",function(a){"manual"===f.validate_on&&d.validate([a.target],a)}).on("reset",function(b){return d.reset(a(this),b)}).find("input, textarea, select").not(":hidden, [data-abide-ignore]").off(".abide").on("blur.fndtn.abide change.fndtn.abide",function(a){f.validate_on_blur&&f.validate_on_blur===!0&&c(this,a),"change"===f.validate_on&&c(this,a)}).on("keydown.fndtn.abide",function(a){f.live_validate&&f.live_validate===!0&&9!=a.which&&c(this,a),"tab"===f.validate_on&&9===a.which?c(this,a):"change"===f.validate_on&&c(this,a)}).on("focus",function(b){navigator.userAgent.match(/iPad|iPhone|Android|BlackBerry|Windows Phone|webOS/i)&&a("html, body").animate({scrollTop:a(b.target).offset().top},100)})},reset:function(b,c){var d=this;b.removeAttr(d.invalid_attr),a("["+d.invalid_attr+"]",b).removeAttr(d.invalid_attr),a("."+d.settings.error_class,b).not("small").removeClass(d.settings.error_class),a(":input",b).not(":button, :submit, :reset, :hidden, [data-abide-ignore]").val("").removeAttr(d.invalid_attr)},validate:function(a,b,c){for(var d=this.parse_patterns(a),e=d.length,f=this.S(a[0]).closest("form"),g=/submit/.test(b.type),h=0;e>h;h++)if(!d[h]&&(g||c))return this.settings.focus_on_invalid&&a[h].focus(),f.trigger("invalid.fndtn.abide"),this.S(a[h]).closest("form").attr(this.invalid_attr,""),!1;return(g||c)&&f.trigger("valid.fndtn.abide"),f.removeAttr(this.invalid_attr),c?!1:!0},parse_patterns:function(a){for(var b=a.length,c=[];b--;)c.push(this.pattern(a[b]));return this.check_validation_and_apply_styles(c)},pattern:function(a){var b=a.getAttribute("type"),c="string"==typeof a.getAttribute("required"),d=a.getAttribute("pattern")||"";return this.settings.patterns.hasOwnProperty(d)&&d.length>0?[a,this.settings.patterns[d],c]:d.length>0?[a,new RegExp(d),c]:this.settings.patterns.hasOwnProperty(b)?[a,this.settings.patterns[b],c]:(d=/.*/,[a,d,c])},check_validation_and_apply_styles:function(b){var c=b.length,d=[],e=this.S(b[0][0]).closest("[data-"+this.attr_name(!0)+"]");for(e.data(this.attr_name(!0)+"-init")||{};c--;){var f,g,h=b[c][0],i=b[c][2],j=h.value.trim(),k=this.S(h).parent(),l=h.getAttribute(this.add_namespace("data-abide-validator")),m="radio"===h.type,n="checkbox"===h.type,o=this.S('label[for="'+h.getAttribute("id")+'"]'),p=i?h.value.length>0:!0,q=[];if(h.getAttribute(this.add_namespace("data-equalto"))&&(l="equalTo"),f=k.is("label")?k.parent():k,m&&i)q.push(this.valid_radio(h,i));else if(n&&i)q.push(this.valid_checkbox(h,i));else if(l){for(var r=l.split(" "),s=!0,t=!0,u=0;u<r.length;u++)g=this.settings.validators[r[u]].apply(this,[h,i,f]),q.push(g),t=g&&s,s=g;t?(this.S(h).removeAttr(this.invalid_attr),f.removeClass("error"),o.length>0&&this.settings.error_labels&&o.removeClass(this.settings.error_class).removeAttr("role"),a(h).triggerHandler("valid")):(this.S(h).attr(this.invalid_attr,""),f.addClass("error"),o.length>0&&this.settings.error_labels&&o.addClass(this.settings.error_class).attr("role","alert"),a(h).triggerHandler("invalid"))}else if(q.push(b[c][1].test(j)&&p||!i&&h.value.length<1||a(h).attr("disabled")?!0:!1),q=[q.every(function(a){return a})],q[0])this.S(h).removeAttr(this.invalid_attr),h.setAttribute("aria-invalid","false"),h.removeAttribute("aria-describedby"),f.removeClass(this.settings.error_class),o.length>0&&this.settings.error_labels&&o.removeClass(this.settings.error_class).removeAttr("role"),a(h).triggerHandler("valid");else{this.S(h).attr(this.invalid_attr,""),h.setAttribute("aria-invalid","true");var v=f.find("small."+this.settings.error_class,"span."+this.settings.error_class),w=v.length>0?v[0].id:"";w.length>0&&h.setAttribute("aria-describedby",w),f.addClass(this.settings.error_class),o.length>0&&this.settings.error_labels&&o.addClass(this.settings.error_class).attr("role","alert"),a(h).triggerHandler("invalid")}d=d.concat(q)}return d},valid_checkbox:function(b,c){var b=this.S(b),d=b.is(":checked")||!c||b.get(0).getAttribute("disabled");return d?(b.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class),a(b).triggerHandler("valid")):(b.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class),a(b).triggerHandler("invalid")),d},valid_radio:function(b,c){for(var d=b.getAttribute("name"),e=this.S(b).closest("[data-"+this.attr_name(!0)+"]").find("[name='"+d+"']"),f=e.length,g=!1,h=!1,i=0;f>i;i++)e[i].getAttribute("disabled")?(h=!0,g=!0):e[i].checked?g=!0:h&&(g=!1);for(var i=0;f>i;i++)g?(this.S(e[i]).removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class),a(e[i]).triggerHandler("valid")):(this.S(e[i]).attr(this.invalid_attr,"").parent().addClass(this.settings.error_class),a(e[i]).triggerHandler("invalid"));return g},valid_equal:function(a,b,d){var e=c.getElementById(a.getAttribute(this.add_namespace("data-equalto"))).value,f=a.value,g=e===f;return g?(this.S(a).removeAttr(this.invalid_attr),d.removeClass(this.settings.error_class),label.length>0&&settings.error_labels&&label.removeClass(this.settings.error_class)):(this.S(a).attr(this.invalid_attr,""),d.addClass(this.settings.error_class),label.length>0&&settings.error_labels&&label.addClass(this.settings.error_class)),g},valid_oneof:function(a,b,c,d){var a=this.S(a),e=this.S("["+this.add_namespace("data-oneof")+"]"),f=e.filter(":checked").length>0;if(f?a.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):a.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class),!d){var g=this;e.each(function(){g.valid_oneof.call(g,this,null,null,!0)})}return f},reflow:function(a,b){var c=this,d=c.S("["+this.attr_name()+"]").attr("novalidate","novalidate");c.S(d).each(function(a,b){c.events(b)})}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.accordion={name:"accordion",version:"5.5.2",settings:{content_class:"content",active_class:"active",multi_expand:!1,toggleable:!0,callback:function(){}},init:function(a,b,c){this.bindings(b,c)},events:function(b){var c=this,d=this.S;c.create(this.S(b)),d(this.scope).off(".fndtn.accordion").on("click.fndtn.accordion","["+this.attr_name()+"] > dd > a, ["+this.attr_name()+"] > li > a",function(b){var e=d(this).closest("["+c.attr_name()+"]"),f=c.attr_name()+"="+e.attr(c.attr_name()),g=e.data(c.attr_name(!0)+"-init")||c.settings,h=d("#"+this.href.split("#")[1]),i=a("> dd, > li",e),j=i.children("."+g.content_class),k=j.filter("."+g.active_class);return b.preventDefault(),e.attr(c.attr_name())&&(j=j.add("["+f+"] dd > ."+g.content_class+", ["+f+"] li > ."+g.content_class),i=i.add("["+f+"] dd, ["+f+"] li")),g.toggleable&&h.is(k)?(h.parent("dd, li").toggleClass(g.active_class,!1),h.toggleClass(g.active_class,!1),d(this).attr("aria-expanded",function(a,b){return"true"===b?"false":"true"}),g.callback(h),h.triggerHandler("toggled",[e]),void e.triggerHandler("toggled",[h])):(g.multi_expand||(j.removeClass(g.active_class),i.removeClass(g.active_class),i.children("a").attr("aria-expanded","false")),h.addClass(g.active_class).parent().addClass(g.active_class),g.callback(h),h.triggerHandler("toggled",[e]),e.triggerHandler("toggled",[h]),void d(this).attr("aria-expanded","true"))})},create:function(b){var c=this,d=b,e=a("> .accordion-navigation",d),f=d.data(c.attr_name(!0)+"-init")||c.settings;e.children("a").attr("aria-expanded","false"),e.has("."+f.content_class+"."+f.active_class).children("a").attr("aria-expanded","true"),f.multi_expand&&b.attr("aria-multiselectable","true")},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.alert={name:"alert",version:"5.5.2",settings:{callback:function(){}},init:function(a,b,c){this.bindings(b,c)},events:function(){var b=this,c=this.S;a(this.scope).off(".alert").on("click.fndtn.alert","["+this.attr_name()+"] .close",function(a){var d=c(this).closest("["+b.attr_name()+"]"),e=d.data(b.attr_name(!0)+"-init")||b.settings;a.preventDefault(),Modernizr.csstransitions?(d.addClass("alert-close"),d.on("transitionend webkitTransitionEnd oTransitionEnd",function(a){c(this).trigger("close.fndtn.alert").remove(),e.callback()})):d.fadeOut(300,function(){c(this).trigger("close.fndtn.alert").remove(),e.callback()})})},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.clearing={name:"clearing",version:"5.5.2",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><div class="clearing-touch-label"></div><img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /><p class="clearing-caption"></p><a href="#" class="clearing-main-prev"><span></span></a><a href="#" class="clearing-main-next"><span></span></a></div><img class="clearing-preload-next" style="display: none" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /><img class="clearing-preload-prev" style="display: none" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" />'},close_selectors:".clearing-close, div.clearing-blackout",open_selectors:"",skip_selector:"",touch_label:"",init:!1,locked:!1},init:function(a,b,c){var d=this;Foundation.inherit(this,"throttle image_loaded"),this.bindings(b,c),d.S(this.scope).is("["+this.attr_name()+"]")?this.assemble(d.S("li",this.scope)):d.S("["+this.attr_name()+"]",this.scope).each(function(){d.assemble(d.S("li",this))})},events:function(d){var e=this,f=e.S,g=a(".scroll-container");g.length>0&&(this.scope=g),f(this.scope).off(".clearing").on("click.fndtn.clearing","ul["+this.attr_name()+"] li "+this.settings.open_selectors,function(a,b,c){var b=b||f(this),c=c||b,d=b.next("li"),g=b.closest("["+e.attr_name()+"]").data(e.attr_name(!0)+"-init"),h=f(a.target);a.preventDefault(),g||(e.init(),g=b.closest("["+e.attr_name()+"]").data(e.attr_name(!0)+"-init")),c.hasClass("visible")&&b[0]===c[0]&&d.length>0&&e.is_open(b)&&(c=d,h=f("img",c)),e.open(h,b,c),e.update_paddles(c)}).on("click.fndtn.clearing",".clearing-main-next",function(a){e.nav(a,"next")}).on("click.fndtn.clearing",".clearing-main-prev",function(a){e.nav(a,"prev")}).on("click.fndtn.clearing",this.settings.close_selectors,function(a){Foundation.libs.clearing.close(a,this)}),a(c).on("keydown.fndtn.clearing",function(a){e.keydown(a)}),f(b).off(".clearing").on("resize.fndtn.clearing",function(){e.resize()}),this.swipe_events(d)},swipe_events:function(a){var b=this,c=b.S;c(this.scope).on("touchstart.fndtn.clearing",".visible-img",function(a){a.touches||(a=a.originalEvent);var b={start_page_x:a.touches[0].pageX,start_page_y:a.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:d};c(this).data("swipe-transition",b),a.stopPropagation()}).on("touchmove.fndtn.clearing",".visible-img",function(a){if(a.touches||(a=a.originalEvent),!(a.touches.length>1||a.scale&&1!==a.scale)){var d=c(this).data("swipe-transition");if("undefined"==typeof d&&(d={}),d.delta_x=a.touches[0].pageX-d.start_page_x,Foundation.rtl&&(d.delta_x=-d.delta_x),"undefined"==typeof d.is_scrolling&&(d.is_scrolling=!!(d.is_scrolling||Math.abs(d.delta_x)<Math.abs(a.touches[0].pageY-d.start_page_y))),!d.is_scrolling&&!d.active){a.preventDefault();var e=d.delta_x<0?"next":"prev";d.active=!0,b.nav(a,e)}}}).on("touchend.fndtn.clearing",".visible-img",function(a){c(this).data("swipe-transition",{}),a.stopPropagation()})},assemble:function(b){var c=b.parent();if(!c.parent().hasClass("carousel")){c.after('<div id="foundationClearingHolder"></div>');var d=c.detach(),e="";if(null!=d[0]){e=d[0].outerHTML;var f=this.S("#foundationClearingHolder"),g=c.data(this.attr_name(!0)+"-init"),h={grid:'<div class="carousel">'+e+"</div>",viewing:g.templates.viewing},i='<div class="clearing-assembled"><div>'+h.viewing+h.grid+"</div></div>",j=this.settings.touch_label;Modernizr.touch&&(i=a(i).find(".clearing-touch-label").html(j).end()),f.after(i).remove()}}},open:function(b,d,e){function f(){setTimeout(function(){this.image_loaded(m,function(){1!==m.outerWidth()||o?g.call(this,m):f.call(this)}.bind(this))}.bind(this),100)}function g(b){var c=a(b);c.css("visibility","visible"),c.trigger("imageVisible"),i.css("overflow","hidden"),j.addClass("clearing-blackout"),k.addClass("clearing-container"),l.show(),this.fix_height(e).caption(h.S(".clearing-caption",l),h.S("img",e)).center_and_label(b,n).shift(d,e,function(){e.closest("li").siblings().removeClass("visible"),e.closest("li").addClass("visible")}),l.trigger("opened.fndtn.clearing")}var h=this,i=a(c.body),j=e.closest(".clearing-assembled"),k=h.S("div",j).first(),l=h.S(".visible-img",k),m=h.S("img",l).not(b),n=h.S(".clearing-touch-label",k),o=!1,p={};a("body").on("touchmove",function(a){a.preventDefault()}),m.error(function(){o=!0}),this.locked()||(l.trigger("open.fndtn.clearing"),p=this.load(b),p.interchange?m.attr("data-interchange",p.interchange).foundation("interchange","reflow"):m.attr("src",p.src).attr("data-interchange",""),m.css("visibility","hidden"),f.call(this))},close:function(b,d){b.preventDefault();var e,f,g=function(a){return/blackout/.test(a.selector)?a:a.closest(".clearing-blackout")}(a(d)),h=a(c.body);return d===b.target&&g&&(h.css("overflow",""),e=a("div",g).first(),f=a(".visible-img",e),f.trigger("close.fndtn.clearing"),this.settings.prev_index=0,a("ul["+this.attr_name()+"]",g).attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout"),e.removeClass("clearing-container"),f.hide(),f.trigger("closed.fndtn.clearing")),a("body").off("touchmove"),!1},is_open:function(a){return a.parent().prop("style").length>0},keydown:function(b){var c=a(".clearing-blackout ul["+this.attr_name()+"]"),d=this.rtl?37:39,e=this.rtl?39:37,f=27;b.which===d&&this.go(c,"next"),b.which===e&&this.go(c,"prev"),b.which===f&&this.S("a.clearing-close").trigger("click.fndtn.clearing")},nav:function(b,c){var d=a("ul["+this.attr_name()+"]",".clearing-blackout");b.preventDefault(),this.go(d,c)},resize:function(){var b=a("img",".clearing-blackout .visible-img"),c=a(".clearing-touch-label",".clearing-blackout");b.length&&(this.center_and_label(b,c),b.trigger("resized.fndtn.clearing"))},fix_height:function(a){var b=a.parent().children(),c=this;return b.each(function(){var a=c.S(this),b=a.find("img");a.height()>b.outerHeight()&&a.addClass("fix-height")}).closest("ul").width(100*b.length+"%"),this},update_paddles:function(a){a=a.closest("li");var b=a.closest(".carousel").siblings(".visible-img");a.next().length>0?this.S(".clearing-main-next",b).removeClass("disabled"):this.S(".clearing-main-next",b).addClass("disabled"),a.prev().length>0?this.S(".clearing-main-prev",b).removeClass("disabled"):this.S(".clearing-main-prev",b).addClass("disabled")},center_and_label:function(a,b){return b.css(!this.rtl&&b.length>0?{marginLeft:-(b.outerWidth()/2),marginTop:-(a.outerHeight()/2)-b.outerHeight()-10}:{marginRight:-(b.outerWidth()/2),marginTop:-(a.outerHeight()/2)-b.outerHeight()-10,left:"auto",right:"50%"}),this},load:function(a){var b,c,d;return"A"===a[0].nodeName?(b=a.attr("href"),c=a.data("clearing-interchange")):(d=a.closest("a"),b=d.attr("href"),c=d.data("clearing-interchange")),this.preload(a),{src:b?b:a.attr("src"),interchange:b?c:a.data("clearing-interchange")}},preload:function(a){this.img(a.closest("li").next(),"next").img(a.closest("li").prev(),"prev")},img:function(b,c){if(b.length){var d,e,f,g=a(".clearing-preload-"+c),h=this.S("a",b);h.length?(d=h.attr("href"),e=h.data("clearing-interchange")):(f=this.S("img",b),d=f.attr("src"),e=f.data("clearing-interchange")),e?g.attr("data-interchange",e):(g.attr("src",d),g.attr("data-interchange",""))}return this},caption:function(a,b){var c=b.attr("data-caption");return c?a.html(c).show():a.text("").hide(),this},go:function(a,b){var c=this.S(".visible",a),d=c[b]();this.settings.skip_selector&&0!=d.find(this.settings.skip_selector).length&&(d=d[b]()),d.length&&this.S("img",d).trigger("click.fndtn.clearing",[c,d]).trigger("change.fndtn.clearing")},shift:function(a,b,c){var d,e=b.parent(),f=this.settings.prev_index||b.index(),g=this.direction(e,a,b),h=this.rtl?"right":"left",i=parseInt(e.css("left"),10),j=b.outerWidth(),k={};b.index()===f||/skip/.test(g)?/skip/.test(g)&&(d=b.index()-this.settings.up_count,this.lock(),d>0?(k[h]=-(d*j),e.animate(k,300,this.unlock())):(k[h]=0,e.animate(k,300,this.unlock()))):/left/.test(g)?(this.lock(),k[h]=i+j,e.animate(k,300,this.unlock())):/right/.test(g)&&(this.lock(),k[h]=i-j,e.animate(k,300,this.unlock())),c()},direction:function(a,b,c){var d,e=this.S("li",a),f=e.outerWidth()+e.outerWidth()/4,g=Math.floor(this.S(".clearing-container").outerWidth()/f)-1,h=e.index(c);return this.settings.up_count=g,d=this.adjacent(this.settings.prev_index,h)?h>g&&h>this.settings.prev_index?"right":h>g-1&&h<=this.settings.prev_index?"left":!1:"skip",this.settings.prev_index=h,d},adjacent:function(a,b){for(var c=b+1;c>=b-1;c--)if(c===a)return!0;return!1},lock:function(){this.settings.locked=!0},unlock:function(){this.settings.locked=!1},locked:function(){return this.settings.locked},off:function(){this.S(this.scope).off(".fndtn.clearing"),this.S(b).off(".fndtn.clearing")},reflow:function(){this.init()}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"5.5.2",settings:{active_class:"open",disabled_class:"disabled",mega_class:"mega",align:"bottom",is_hover:!1,hover_timeout:150,opened:function(){},closed:function(){}},init:function(b,c,d){Foundation.inherit(this,"throttle"),a.extend(!0,this.settings,c,d),this.bindings(c,d)},events:function(d){var e=this,f=e.S;f(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(b){var c=f(this).data(e.attr_name(!0)+"-init")||e.settings;(!c.is_hover||Modernizr.touch)&&(b.preventDefault(),f(this).parent("[data-reveal-id]").length&&b.stopPropagation(),e.toggle(a(this)))}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(a){var b,c,d=f(this);clearTimeout(e.timeout),d.data(e.data_attr())?(b=f("#"+d.data(e.data_attr())),c=d):(b=d,c=f("["+e.attr_name()+'="'+b.attr("id")+'"]'));var g=c.data(e.attr_name(!0)+"-init")||e.settings;f(a.currentTarget).data(e.data_attr())&&g.is_hover&&e.closeall.call(e),g.is_hover&&e.open.apply(e,[b,c])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(a){var b,c=f(this);if(c.data(e.data_attr()))b=c.data(e.data_attr(!0)+"-init")||e.settings;else var d=f("["+e.attr_name()+'="'+f(this).attr("id")+'"]'),b=d.data(e.attr_name(!0)+"-init")||e.settings;e.timeout=setTimeout(function(){c.data(e.data_attr())?b.is_hover&&e.close.call(e,f("#"+c.data(e.data_attr()))):b.is_hover&&e.close.call(e,c)}.bind(this),b.hover_timeout)}).on("click.fndtn.dropdown",function(b){var d=f(b.target).closest("["+e.attr_name()+"-content]"),g=d.find("a");return g.length>0&&"false"!==d.attr("aria-autoclose")&&e.close.call(e,f("["+e.attr_name()+"-content]")),b.target!==c&&!a.contains(c.documentElement,b.target)||f(b.target).closest("["+e.attr_name()+"]").length>0?void 0:!f(b.target).data("revealId")&&d.length>0&&(f(b.target).is("["+e.attr_name()+"-content]")||a.contains(d.first()[0],b.target))?void b.stopPropagation():void e.close.call(e,f("["+e.attr_name()+"-content]"))}).on("opened.fndtn.dropdown","["+e.attr_name()+"-content]",function(){e.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+e.attr_name()+"-content]",function(){e.settings.closed.call(this)}),f(b).off(".dropdown").on("resize.fndtn.dropdown",e.throttle(function(){e.resize.call(e)},50)),this.resize()},close:function(b){var c=this;b.each(function(d){var e=a("["+c.attr_name()+"="+b[d].id+"]")||a("aria-controls="+b[d].id+"]");e.attr("aria-expanded","false"),c.S(this).hasClass(c.settings.active_class)&&(c.S(this).css(Foundation.rtl?"right":"left","-99999px").attr("aria-hidden","true").removeClass(c.settings.active_class).prev("["+c.attr_name()+"]").removeClass(c.settings.active_class).removeData("target"),c.S(this).trigger("closed.fndtn.dropdown",[b]))}),b.removeClass("f-open-"+this.attr_name(!0))},closeall:function(){var b=this;a.each(b.S(".f-open-"+this.attr_name(!0)),function(){b.close.call(b,b.S(this))})},open:function(a,b){this.css(a.addClass(this.settings.active_class),b),a.prev("["+this.attr_name()+"]").addClass(this.settings.active_class),a.data("target",b.get(0)).trigger("opened.fndtn.dropdown",[a,b]),a.attr("aria-hidden","false"),b.attr("aria-expanded","true"),a.focus(),a.addClass("f-open-"+this.attr_name(!0))},data_attr:function(){return this.namespace.length>0?this.namespace+"-"+this.name:this.name},toggle:function(a){if(!a.hasClass(this.settings.disabled_class)){var b=this.S("#"+a.data(this.data_attr()));0!==b.length&&(this.close.call(this,this.S("["+this.attr_name()+"-content]").not(b)),b.hasClass(this.settings.active_class)?(this.close.call(this,b),b.data("target")!==a.get(0)&&this.open.call(this,b,a)):this.open.call(this,b,a))}},resize:function(){var b=this.S("["+this.attr_name()+"-content].open"),c=a(b.data("target"));b.length&&c.length&&this.css(b,c)},css:function(a,b){var c=Math.max((b.width()-a.width())/2,8),d=b.data(this.attr_name(!0)+"-init")||this.settings,e=a.parent().css("overflow-y")||a.parent().css("overflow");if(this.clear_idx(),this.small()){var f=this.dirs.bottom.call(a,b,d);a.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:f.top}),a.css(Foundation.rtl?"right":"left",c)}else if("visible"!==e){var g=b[0].offsetTop+b[0].offsetHeight;a.attr("style","").css({position:"absolute",top:g}),a.css(Foundation.rtl?"right":"left",c)}else this.style(a,b,d);return a},style:function(b,c,d){var e=a.extend({position:"absolute"},this.dirs[d.align].call(b,c,d));b.attr("style","").css(e)},dirs:{_base:function(a){var d=this.offsetParent(),e=d.offset(),f=a.offset();f.top-=e.top,f.left-=e.left,f.missRight=!1,f.missTop=!1,f.missLeft=!1,f.leftRightFlag=!1;var g;g=c.getElementsByClassName("row")[0]?c.getElementsByClassName("row")[0].clientWidth:b.innerWidth;var h=(b.innerWidth-g)/2,i=g;return this.hasClass("mega")||(a.offset().top<=this.outerHeight()&&(f.missTop=!0,i=b.innerWidth-h,f.leftRightFlag=!0),a.offset().left+this.outerWidth()>a.offset().left+h&&a.offset().left-h>this.outerWidth()&&(f.missRight=!0,f.missLeft=!1),a.offset().left-this.outerWidth()<=0&&(f.missLeft=!0,f.missRight=!1)),f},top:function(a,b){var c=Foundation.libs.dropdown,d=c.dirs._base.call(this,a);return this.addClass("drop-top"),1==d.missTop&&(d.top=d.top+a.outerHeight()+this.outerHeight(),this.removeClass("drop-top")),1==d.missRight&&(d.left=d.left-this.outerWidth()+a.outerWidth()),(a.outerWidth()<this.outerWidth()||c.small()||this.hasClass(b.mega_menu))&&c.adjust_pip(this,a,b,d),Foundation.rtl?{left:d.left-this.outerWidth()+a.outerWidth(),top:d.top-this.outerHeight()}:{left:d.left,top:d.top-this.outerHeight()}},bottom:function(a,b){var c=Foundation.libs.dropdown,d=c.dirs._base.call(this,a);return 1==d.missRight&&(d.left=d.left-this.outerWidth()+a.outerWidth()),(a.outerWidth()<this.outerWidth()||c.small()||this.hasClass(b.mega_menu))&&c.adjust_pip(this,a,b,d),
c.rtl?{left:d.left-this.outerWidth()+a.outerWidth(),top:d.top+a.outerHeight()}:{left:d.left,top:d.top+a.outerHeight()}},left:function(a,b){var c=Foundation.libs.dropdown.dirs._base.call(this,a);return this.addClass("drop-left"),1==c.missLeft&&(c.left=c.left+this.outerWidth(),c.top=c.top+a.outerHeight(),this.removeClass("drop-left")),{left:c.left-this.outerWidth(),top:c.top}},right:function(a,b){var c=Foundation.libs.dropdown.dirs._base.call(this,a);this.addClass("drop-right"),1==c.missRight?(c.left=c.left-this.outerWidth(),c.top=c.top+a.outerHeight(),this.removeClass("drop-right")):c.triggeredRight=!0;var d=Foundation.libs.dropdown;return(a.outerWidth()<this.outerWidth()||d.small()||this.hasClass(b.mega_menu))&&d.adjust_pip(this,a,b,c),{left:c.left+a.outerWidth(),top:c.top}}},adjust_pip:function(a,b,c,d){var e=Foundation.stylesheet,f=8;a.hasClass(c.mega_class)?f=d.left+b.outerWidth()/2-8:this.small()&&(f+=d.left-8),this.rule_idx=e.cssRules.length;var g=".f-dropdown.open:before",h=".f-dropdown.open:after",i="left: "+f+"px;",j="left: "+(f-1)+"px;";1==d.missRight&&(f=a.outerWidth()-23,g=".f-dropdown.open:before",h=".f-dropdown.open:after",i="left: "+f+"px;",j="left: "+(f-1)+"px;"),1==d.triggeredRight&&(g=".f-dropdown.open:before",h=".f-dropdown.open:after",i="left:-12px;",j="left:-14px;"),e.insertRule?(e.insertRule([g,"{",i,"}"].join(" "),this.rule_idx),e.insertRule([h,"{",j,"}"].join(" "),this.rule_idx+1)):(e.addRule(g,i,this.rule_idx),e.addRule(h,j,this.rule_idx+1))},clear_idx:function(){var a=Foundation.stylesheet;"undefined"!=typeof this.rule_idx&&(a.deleteRule(this.rule_idx),a.deleteRule(this.rule_idx),delete this.rule_idx)},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown"),this.S("html, body").off(".fndtn.dropdown"),this.S(b).off(".fndtn.dropdown"),this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.equalizer={name:"equalizer",version:"5.5.2",settings:{use_tallest:!0,before_height_change:a.noop,after_height_change:a.noop,equalize_on_stack:!1,act_on_hidden_el:!1},init:function(a,b,c){Foundation.inherit(this,"image_loaded"),this.bindings(b,c),this.reflow()},events:function(){this.S(b).off(".equalizer").on("resize.fndtn.equalizer",function(a){this.reflow()}.bind(this))},equalize:function(b){var c,d,e=!1,f=b.data("equalizer"),g=b.data(this.attr_name(!0)+"-init")||this.settings;if(c=b.find(g.act_on_hidden_el?f?"["+this.attr_name()+'-watch="'+f+'"]':"["+this.attr_name()+"-watch]":f?"["+this.attr_name()+'-watch="'+f+'"]:visible':"["+this.attr_name()+"-watch]:visible"),0!==c.length&&(g.before_height_change(),b.trigger("before-height-change.fndth.equalizer"),c.height("inherit"),g.equalize_on_stack!==!1||(d=c.first().offset().top,c.each(function(){return a(this).offset().top!==d?(e=!0,!1):void 0}),!e))){var h=c.map(function(){return a(this).outerHeight(!1)}).get();if(g.use_tallest){var i=Math.max.apply(null,h);c.css("height",i)}else{var j=Math.min.apply(null,h);c.css("height",j)}g.after_height_change(),b.trigger("after-height-change.fndtn.equalizer")}},reflow:function(){var b=this;this.S("["+this.attr_name()+"]",this.scope).each(function(){var c=a(this),d=c.data("equalizer-mq"),e=!0;d&&(d="is_"+d.replace(/-/g,"_"),Foundation.utils.hasOwnProperty(d)&&(e=!1)),b.image_loaded(b.S("img",this),function(){if(e||Foundation.utils[d]())b.equalize(c);else{var a=c.find("["+b.attr_name()+"-watch]:visible");a.css("height","auto")}})})}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.interchange={name:"interchange",version:"5.5.2",cache:{},images_loaded:!1,nodes_loaded:!1,settings:{load_attr:"interchange",named_queries:{"default":"only screen",small:Foundation.media_queries.small,"small-only":Foundation.media_queries["small-only"],medium:Foundation.media_queries.medium,"medium-only":Foundation.media_queries["medium-only"],large:Foundation.media_queries.large,"large-only":Foundation.media_queries["large-only"],xlarge:Foundation.media_queries.xlarge,"xlarge-only":Foundation.media_queries["xlarge-only"],xxlarge:Foundation.media_queries.xxlarge,landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(b,c,d){if(null!==b&&/IMG/.test(b[0].nodeName)){var e=b[0].src;if(new RegExp(c,"i").test(e))return;return b.attr("src",c),d(b[0].src)}var f=b.data(this.data_attr+"-last-path"),g=this;if(f!=c)return/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i.test(c)?(a(b).css("background-image","url("+c+")"),b.data("interchange-last-path",c),d(c)):a.get(c,function(a){b.html(a),b.data(g.data_attr+"-last-path",c),d()})}}},init:function(b,c,d){Foundation.inherit(this,"throttle random_str"),this.data_attr=this.set_data_attr(),a.extend(!0,this.settings,c,d),this.bindings(c,d),this.reflow()},get_media_hash:function(){var a="";for(var b in this.settings.named_queries)a+=matchMedia(this.settings.named_queries[b]).matches.toString();return a},events:function(){var c,d=this;return a(b).off(".interchange").on("resize.fndtn.interchange",d.throttle(function(){var a=d.get_media_hash();a!==c&&d.resize(),c=a},50)),this},resize:function(){var b=this.cache;if(!this.images_loaded||!this.nodes_loaded)return void setTimeout(a.proxy(this.resize,this),50);for(var c in b)if(b.hasOwnProperty(c)){var d=this.results(c,b[c]);d&&this.settings.directives[d.scenario[1]].call(this,d.el,d.scenario[0],function(a){if(arguments[0]instanceof Array)var b=arguments[0];else var b=Array.prototype.slice.call(arguments,0);return function(){a.el.trigger(a.scenario[1],b)}}(d))}},results:function(a,b){var c=b.length;if(c>0)for(var d=this.S("["+this.add_namespace("data-uuid")+'="'+a+'"]');c--;){var e,f=b[c][2];if(e=matchMedia(this.settings.named_queries.hasOwnProperty(f)?this.settings.named_queries[f]:f),e.matches)return{el:d,scenario:b[c]}}return!1},load:function(a,b){return("undefined"==typeof this["cached_"+a]||b)&&this["update_"+a](),this["cached_"+a]},update_images:function(){var a=this.S("img["+this.data_attr+"]"),b=a.length,c=b,d=0,e=this.data_attr;for(this.cache={},this.cached_images=[],this.images_loaded=0===b;c--;){if(d++,a[c]){var f=a[c].getAttribute(e)||"";f.length>0&&this.cached_images.push(a[c])}d===b&&(this.images_loaded=!0,this.enhance("images"))}return this},update_nodes:function(){var a=this.S("["+this.data_attr+"]").not("img"),b=a.length,c=b,d=0,e=this.data_attr;for(this.cached_nodes=[],this.nodes_loaded=0===b;c--;){d++;var f=a[c].getAttribute(e)||"";f.length>0&&this.cached_nodes.push(a[c]),d===b&&(this.nodes_loaded=!0,this.enhance("nodes"))}return this},enhance:function(c){for(var d=this["cached_"+c].length;d--;)this.object(a(this["cached_"+c][d]));return a(b).trigger("resize.fndtn.interchange")},convert_directive:function(a){var b=this.trim(a);return b.length>0?b:"replace"},parse_scenario:function(a){var b=a[0].match(/(.+),\s*(\w+)\s*$/),c=a[1].match(/(.*)\)/);if(b)var d=b[1],e=b[2];else var f=a[0].split(/,\s*$/),d=f[0],e="";return[this.trim(d),this.convert_directive(e),this.trim(c[1])]},object:function(a){var b=this.parse_data_attr(a),c=[],d=b.length;if(d>0)for(;d--;){var e=b[d].split(/,\s?\(/);if(e.length>1){var f=this.parse_scenario(e);c.push(f)}}return this.store(a,c)},store:function(a,b){var c=this.random_str(),d=a.data(this.add_namespace("uuid",!0));return this.cache[d]?this.cache[d]:(a.attr(this.add_namespace("data-uuid"),c),this.cache[c]=b)},trim:function(b){return"string"==typeof b?a.trim(b):b},set_data_attr:function(a){return a?this.namespace.length>0?this.namespace+"-"+this.settings.load_attr:this.settings.load_attr:this.namespace.length>0?"data-"+this.namespace+"-"+this.settings.load_attr:"data-"+this.settings.load_attr},parse_data_attr:function(a){for(var b=a.attr(this.attr_name()).split(/\[(.*?)\]/),c=b.length,d=[];c--;)b[c].replace(/[\W\d]+/,"").length>4&&d.push(b[c]);return d},reflow:function(){this.load("images",!0),this.load("nodes",!0)}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.joyride={name:"joyride",version:"5.5.2",defaults:{expose:!1,modal:!0,keyboard:!0,tip_location:"bottom",nub_position:"auto",scroll_speed:1500,scroll_animation:"linear",timer:0,start_timer_on_click:!0,start_offset:0,next_button:!0,prev_button:!0,tip_animation:"fade",pause_after:[],exposed:[],tip_animation_fade_speed:300,cookie_monster:!1,cookie_name:"joyride",cookie_domain:!1,cookie_expires:365,tip_container:"body",abort_on_close:!0,tip_location_patterns:{top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},post_ride_callback:function(){},post_step_callback:function(){},pre_step_callback:function(){},pre_ride_callback:function(){},post_expose_callback:function(){},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>',prev_button:'<a href="#" class="small button joyride-prev-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',expose_cover:'<div class="joyride-expose-cover"></div>'},expose_add_class:""},init:function(b,c,d){Foundation.inherit(this,"throttle random_str"),this.settings=this.settings||a.extend({},this.defaults,d||c),this.bindings(c,d)},go_next:function(){this.settings.$li.next().length<1?this.end():this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(),this.startTimer()):(this.hide(),this.show())},go_prev:function(){this.settings.$li.prev().length<1||(this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(null,!0),this.startTimer()):(this.hide(),this.show(null,!0)))},events:function(){var c=this;a(this.scope).off(".joyride").on("click.fndtn.joyride",".joyride-next-tip, .joyride-modal-bg",function(a){a.preventDefault(),this.go_next()}.bind(this)).on("click.fndtn.joyride",".joyride-prev-tip",function(a){a.preventDefault(),this.go_prev()}.bind(this)).on("click.fndtn.joyride",".joyride-close-tip",function(a){a.preventDefault(),this.end(this.settings.abort_on_close)}.bind(this)).on("keyup.fndtn.joyride",function(a){if(this.settings.keyboard&&this.settings.riding)switch(a.which){case 39:a.preventDefault(),this.go_next();break;case 37:a.preventDefault(),this.go_prev();break;case 27:a.preventDefault(),this.end(this.settings.abort_on_close)}}.bind(this)),a(b).off(".joyride").on("resize.fndtn.joyride",c.throttle(function(){if(a("["+c.attr_name()+"]").length>0&&c.settings.$next_tip&&c.settings.riding){if(c.settings.exposed.length>0){var b=a(c.settings.exposed);b.each(function(){var b=a(this);c.un_expose(b),c.expose(b)})}c.is_phone()?c.pos_phone():c.pos_default(!1)}},100))},start:function(){var b=this,c=a("["+this.attr_name()+"]",this.scope),d=["timer","scrollSpeed","startOffset","tipAnimationFadeSpeed","cookieExpires"],e=d.length;!c.length>0||(this.settings.init||this.events(),this.settings=c.data(this.attr_name(!0)+"-init"),this.settings.$content_el=c,this.settings.$body=a(this.settings.tip_container),this.settings.body_offset=a(this.settings.tip_container).position(),this.settings.$tip_content=this.settings.$content_el.find("> li"),this.settings.paused=!1,this.settings.attempts=0,this.settings.riding=!0,"function"!=typeof a.cookie&&(this.settings.cookie_monster=!1),(!this.settings.cookie_monster||this.settings.cookie_monster&&!a.cookie(this.settings.cookie_name))&&(this.settings.$tip_content.each(function(c){var f=a(this);this.settings=a.extend({},b.defaults,b.data_options(f));for(var g=e;g--;)b.settings[d[g]]=parseInt(b.settings[d[g]],10);b.create({$li:f,index:c})}),!this.settings.start_timer_on_click&&this.settings.timer>0?(this.show("init"),this.startTimer()):this.show("init")))},resume:function(){this.set_li(),this.show()},tip_template:function(b){var c,d;return b.tip_class=b.tip_class||"",c=a(this.settings.template.tip).addClass(b.tip_class),d=a.trim(a(b.li).html())+this.prev_button_text(b.prev_button_text,b.index)+this.button_text(b.button_text)+this.settings.template.link+this.timer_instance(b.index),c.append(a(this.settings.template.wrapper)),c.first().attr(this.add_namespace("data-index"),b.index),a(".joyride-content-wrapper",c).append(d),c[0]},timer_instance:function(b){var c;return c=0===b&&this.settings.start_timer_on_click&&this.settings.timer>0||0===this.settings.timer?"":a(this.settings.template.timer)[0].outerHTML},button_text:function(b){return this.settings.tip_settings.next_button?(b=a.trim(b)||"Next",b=a(this.settings.template.button).append(b)[0].outerHTML):b="",b},prev_button_text:function(b,c){return this.settings.tip_settings.prev_button?(b=a.trim(b)||"Previous",b=0==c?a(this.settings.template.prev_button).append(b).addClass("disabled")[0].outerHTML:a(this.settings.template.prev_button).append(b)[0].outerHTML):b="",b},create:function(b){this.settings.tip_settings=a.extend({},this.settings,this.data_options(b.$li));var c=b.$li.attr(this.add_namespace("data-button"))||b.$li.attr(this.add_namespace("data-text")),d=b.$li.attr(this.add_namespace("data-button-prev"))||b.$li.attr(this.add_namespace("data-prev-text")),e=b.$li.attr("class"),f=a(this.tip_template({tip_class:e,index:b.index,button_text:c,prev_button_text:d,li:b.$li}));a(this.settings.tip_container).append(f)},show:function(b,c){var e=null;if(this.settings.$li===d||-1===a.inArray(this.settings.$li.index(),this.settings.pause_after))if(this.settings.paused?this.settings.paused=!1:this.set_li(b,c),this.settings.attempts=0,this.settings.$li.length&&this.settings.$target.length>0){if(b&&(this.settings.pre_ride_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.show_modal()),this.settings.pre_step_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.settings.expose&&this.expose(),this.settings.tip_settings=a.extend({},this.settings,this.data_options(this.settings.$li)),this.settings.timer=parseInt(this.settings.timer,10),this.settings.tip_settings.tip_location_pattern=this.settings.tip_location_patterns[this.settings.tip_settings.tip_location],!/body/i.test(this.settings.$target.selector)){var f=a(".joyride-modal-bg");/pop/i.test(this.settings.tipAnimation)?f.hide():f.fadeOut(this.settings.tipAnimationFadeSpeed),this.scroll_to()}this.is_phone()?this.pos_phone(!0):this.pos_default(!0),e=this.settings.$next_tip.find(".joyride-timer-indicator"),/pop/i.test(this.settings.tip_animation)?(e.width(0),this.settings.timer>0?(this.settings.$next_tip.show(),setTimeout(function(){e.animate({width:e.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.show()):/fade/i.test(this.settings.tip_animation)&&(e.width(0),this.settings.timer>0?(this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed).show(),setTimeout(function(){e.animate({width:e.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed)),this.settings.$current_tip=this.settings.$next_tip}else this.settings.$li&&this.settings.$target.length<1?this.show(b,c):this.end();else this.settings.paused=!0},is_phone:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},hide:function(){this.settings.modal&&this.settings.expose&&this.un_expose(),this.settings.modal||a(".joyride-modal-bg").hide(),this.settings.$current_tip.css("visibility","hidden"),setTimeout(a.proxy(function(){this.hide(),this.css("visibility","visible")},this.settings.$current_tip),0),this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip)},set_li:function(a,b){a?(this.settings.$li=this.settings.$tip_content.eq(this.settings.start_offset),this.set_next_tip(),this.settings.$current_tip=this.settings.$next_tip):(b?this.settings.$li=this.settings.$li.prev():this.settings.$li=this.settings.$li.next(),this.set_next_tip()),this.set_target()},set_next_tip:function(){this.settings.$next_tip=a(".joyride-tip-guide").eq(this.settings.$li.index()),this.settings.$next_tip.data("closed","")},set_target:function(){var b=this.settings.$li.attr(this.add_namespace("data-class")),d=this.settings.$li.attr(this.add_namespace("data-id")),e=function(){return d?a(c.getElementById(d)):b?a("."+b).first():a("body")};this.settings.$target=e()},scroll_to:function(){var c,d;c=a(b).height()/2,d=Math.ceil(this.settings.$target.offset().top-c+this.settings.$next_tip.outerHeight()),0!=d&&a("html, body").stop().animate({scrollTop:d},this.settings.scroll_speed,"swing")},paused:function(){return-1===a.inArray(this.settings.$li.index()+1,this.settings.pause_after)},restart:function(){this.hide(),this.settings.$li=d,this.show("init")},pos_default:function(a){var b=this.settings.$next_tip.find(".joyride-nub"),c=Math.ceil(b.outerWidth()/2),d=Math.ceil(b.outerHeight()/2),e=a||!1;if(e&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector))this.settings.$li.length&&this.pos_modal(b);else{var f=this.settings.tip_settings.tipAdjustmentY?parseInt(this.settings.tip_settings.tipAdjustmentY):0,g=this.settings.tip_settings.tipAdjustmentX?parseInt(this.settings.tip_settings.tipAdjustmentX):0;this.bottom()?(this.settings.$next_tip.css(this.rtl?{top:this.settings.$target.offset().top+d+this.settings.$target.outerHeight()+f,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()+g}:{top:this.settings.$target.offset().top+d+this.settings.$target.outerHeight()+f,left:this.settings.$target.offset().left+g}),this.nub_position(b,this.settings.tip_settings.nub_position,"top")):this.top()?(this.settings.$next_tip.css(this.rtl?{top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-d+f,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()}:{top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-d+f,left:this.settings.$target.offset().left+g}),this.nub_position(b,this.settings.tip_settings.nub_position,"bottom")):this.right()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top+f,left:this.settings.$target.outerWidth()+this.settings.$target.offset().left+c+g}),this.nub_position(b,this.settings.tip_settings.nub_position,"left")):this.left()&&(this.settings.$next_tip.css({top:this.settings.$target.offset().top+f,left:this.settings.$target.offset().left-this.settings.$next_tip.outerWidth()-c+g}),this.nub_position(b,this.settings.tip_settings.nub_position,"right")),!this.visible(this.corners(this.settings.$next_tip))&&this.settings.attempts<this.settings.tip_settings.tip_location_pattern.length&&(b.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),this.settings.tip_settings.tip_location=this.settings.tip_settings.tip_location_pattern[this.settings.attempts],this.settings.attempts++,this.pos_default())}e&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_phone:function(b){var c=this.settings.$next_tip.outerHeight(),d=(this.settings.$next_tip.offset(),this.settings.$target.outerHeight()),e=a(".joyride-nub",this.settings.$next_tip),f=Math.ceil(e.outerHeight()/2),g=b||!1;e.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),g&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal(e):this.top()?(this.settings.$next_tip.offset({top:this.settings.$target.offset().top-c-f}),e.addClass("bottom")):(this.settings.$next_tip.offset({top:this.settings.$target.offset().top+d+f}),e.addClass("top")),g&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_modal:function(a){this.center(),a.hide(),this.show_modal()},show_modal:function(){if(!this.settings.$next_tip.data("closed")){var b=a(".joyride-modal-bg");if(b.length<1){var b=a(this.settings.template.modal);b.appendTo("body")}/pop/i.test(this.settings.tip_animation)?b.show():b.fadeIn(this.settings.tip_animation_fade_speed)}},expose:function(){var c,d,e,f,g,h="expose-"+this.random_str(6);if(arguments.length>0&&arguments[0]instanceof a)e=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;e=this.settings.$target}return e.length<1?(b.console&&console.error("element not valid",e),!1):(c=a(this.settings.template.expose),this.settings.$body.append(c),c.css({top:e.offset().top,left:e.offset().left,width:e.outerWidth(!0),height:e.outerHeight(!0)}),d=a(this.settings.template.expose_cover),f={zIndex:e.css("z-index"),position:e.css("position")},g=null==e.attr("class")?"":e.attr("class"),e.css("z-index",parseInt(c.css("z-index"))+1),"static"==f.position&&e.css("position","relative"),e.data("expose-css",f),e.data("orig-class",g),e.attr("class",g+" "+this.settings.expose_add_class),d.css({top:e.offset().top,left:e.offset().left,width:e.outerWidth(!0),height:e.outerHeight(!0)}),this.settings.modal&&this.show_modal(),this.settings.$body.append(d),c.addClass(h),d.addClass(h),e.data("expose",h),this.settings.post_expose_callback(this.settings.$li.index(),this.settings.$next_tip,e),void this.add_exposed(e))},un_expose:function(){var c,d,e,f,g,h=!1;if(arguments.length>0&&arguments[0]instanceof a)d=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;d=this.settings.$target}return d.length<1?(b.console&&console.error("element not valid",d),!1):(c=d.data("expose"),e=a("."+c),arguments.length>1&&(h=arguments[1]),h===!0?a(".joyride-expose-wrapper,.joyride-expose-cover").remove():e.remove(),f=d.data("expose-css"),"auto"==f.zIndex?d.css("z-index",""):d.css("z-index",f.zIndex),f.position!=d.css("position")&&("static"==f.position?d.css("position",""):d.css("position",f.position)),g=d.data("orig-class"),d.attr("class",g),d.removeData("orig-classes"),d.removeData("expose"),d.removeData("expose-z-index"),void this.remove_exposed(d))},add_exposed:function(b){this.settings.exposed=this.settings.exposed||[],b instanceof a||"object"==typeof b?this.settings.exposed.push(b[0]):"string"==typeof b&&this.settings.exposed.push(b)},remove_exposed:function(b){var c,d;for(b instanceof a?c=b[0]:"string"==typeof b&&(c=b),this.settings.exposed=this.settings.exposed||[],d=this.settings.exposed.length;d--;)if(this.settings.exposed[d]==c)return void this.settings.exposed.splice(d,1)},center:function(){var c=a(b);return this.settings.$next_tip.css({top:(c.height()-this.settings.$next_tip.outerHeight())/2+c.scrollTop(),left:(c.width()-this.settings.$next_tip.outerWidth())/2+c.scrollLeft()}),!0},bottom:function(){return/bottom/i.test(this.settings.tip_settings.tip_location)},top:function(){return/top/i.test(this.settings.tip_settings.tip_location)},right:function(){return/right/i.test(this.settings.tip_settings.tip_location)},left:function(){return/left/i.test(this.settings.tip_settings.tip_location)},corners:function(c){var d=a(b),e=d.height()/2,f=Math.ceil(this.settings.$target.offset().top-e+this.settings.$next_tip.outerHeight()),g=d.width()+d.scrollLeft(),h=d.height()+f,i=d.height()+d.scrollTop(),j=d.scrollTop();return j>f&&(j=0>f?0:f),h>i&&(i=h),[c.offset().top<j,g<c.offset().left+c.outerWidth(),i<c.offset().top+c.outerHeight(),d.scrollLeft()>c.offset().left]},visible:function(a){for(var b=a.length;b--;)if(a[b])return!1;return!0},nub_position:function(a,b,c){a.addClass("auto"===b?c:b)},startTimer:function(){this.settings.$li.length?this.settings.automate=setTimeout(function(){this.hide(),this.show(),this.startTimer()}.bind(this),this.settings.timer):clearTimeout(this.settings.automate)},end:function(b){this.settings.cookie_monster&&a.cookie(this.settings.cookie_name,"ridden",{expires:this.settings.cookie_expires,domain:this.settings.cookie_domain}),this.settings.timer>0&&clearTimeout(this.settings.automate),this.settings.modal&&this.settings.expose&&this.un_expose(),a(this.scope).off("keyup.joyride"),this.settings.$next_tip.data("closed",!0),this.settings.riding=!1,a(".joyride-modal-bg").hide(),this.settings.$current_tip.hide(),("undefined"==typeof b||b===!1)&&(this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip),this.settings.post_ride_callback(this.settings.$li.index(),this.settings.$current_tip)),a(".joyride-tip-guide").remove()},off:function(){a(this.scope).off(".joyride"),a(b).off(".joyride"),a(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),a(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(this.settings.automate),this.settings={}},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs["magellan-expedition"]={name:"magellan-expedition",version:"5.5.2",settings:{active_class:"active",threshold:0,destination_threshold:20,throttle_delay:30,fixed_top:0,offset_by_height:!0,duration:700,easing:"swing"},init:function(a,b,c){Foundation.inherit(this,"throttle"),this.bindings(b,c)},events:function(){var b=this,c=b.S,d=b.settings;b.set_expedition_position(),c(b.scope).off(".magellan").on("click.fndtn.magellan","["+b.add_namespace("data-magellan-arrival")+"] a[href*=#]",function(c){var d=this.hostname===location.hostname||!this.hostname,e=b.filterPathname(location.pathname)===b.filterPathname(this.pathname),f=this.hash.replace(/(:|\.|\/)/g,"\\$1"),g=this;if(d&&e&&f){c.preventDefault();var h=a(this).closest("["+b.attr_name()+"]"),i=h.data("magellan-expedition-init"),j=this.hash.split("#").join(""),k=a('a[name="'+j+'"]');0===k.length&&(k=a("#"+j));var l=k.offset().top-i.destination_threshold+1;i.offset_by_height&&(l-=h.outerHeight()),a("html, body").stop().animate({scrollTop:l},i.duration,i.easing,function(){history.pushState?history.pushState(null,null,g.pathname+"#"+j):location.hash=g.pathname+"#"+j})}}).on("scroll.fndtn.magellan",b.throttle(this.check_for_arrivals.bind(this),d.throttle_delay))},check_for_arrivals:function(){var a=this;a.update_arrivals(),a.update_expedition_positions()},set_expedition_position:function(){var b=this;a("["+this.attr_name()+"=fixed]",b.scope).each(function(c,d){var e,f,g=a(this),h=g.data("magellan-expedition-init"),i=g.attr("styles");g.attr("style",""),e=g.offset().top+h.threshold,f=parseInt(g.data("magellan-fixed-top")),isNaN(f)||(b.settings.fixed_top=f),g.data(b.data_attr("magellan-top-offset"),e),g.attr("style",i)})},update_expedition_positions:function(){var c=this,d=a(b).scrollTop();a("["+this.attr_name()+"=fixed]",c.scope).each(function(){var b=a(this),e=b.data("magellan-expedition-init"),f=b.attr("style"),g=b.data("magellan-top-offset");if(d+c.settings.fixed_top>=g){var h=b.prev("["+c.add_namespace("data-magellan-expedition-clone")+"]");0===h.length&&(h=b.clone(),h.removeAttr(c.attr_name()),h.attr(c.add_namespace("data-magellan-expedition-clone"),""),b.before(h)),b.css({position:"fixed",top:e.fixed_top}).addClass("fixed")}else b.prev("["+c.add_namespace("data-magellan-expedition-clone")+"]").remove(),b.attr("style",f).css("position","").css("top","").removeClass("fixed")})},update_arrivals:function(){var c=this,d=a(b).scrollTop();a("["+this.attr_name()+"]",c.scope).each(function(){var b=a(this),e=b.data(c.attr_name(!0)+"-init"),f=c.offsets(b,d),g=b.find("["+c.add_namespace("data-magellan-arrival")+"]"),h=!1;f.each(function(a,d){if(d.viewport_offset>=d.top_offset){var f=b.find("["+c.add_namespace("data-magellan-arrival")+"]");return f.not(d.arrival).removeClass(e.active_class),d.arrival.addClass(e.active_class),h=!0,!0}}),h||g.removeClass(e.active_class)})},offsets:function(b,c){var d=this,e=b.data(d.attr_name(!0)+"-init"),f=c;return b.find("["+d.add_namespace("data-magellan-arrival")+"]").map(function(c,g){var h=a(this).data(d.data_attr("magellan-arrival")),i=a("["+d.add_namespace("data-magellan-destination")+"="+h+"]");if(i.length>0){var j=i.offset().top-e.destination_threshold;return e.offset_by_height&&(j-=b.outerHeight()),j=Math.floor(j),{destination:i,arrival:a(this),top_offset:j,viewport_offset:f}}}).sort(function(a,b){return a.top_offset<b.top_offset?-1:a.top_offset>b.top_offset?1:0})},data_attr:function(a){return this.namespace.length>0?this.namespace+"-"+a:a},off:function(){this.S(this.scope).off(".magellan"),this.S(b).off(".magellan")},filterPathname:function(a){return a=a||"",a.replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},reflow:function(){var b=this;a("["+b.add_namespace("data-magellan-expedition-clone")+"]",b.scope).remove()}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.offcanvas={name:"offcanvas",version:"5.5.2",settings:{open_method:"move",close_on_click:!1},init:function(a,b,c){this.bindings(b,c)},events:function(){var b=this,c=b.S,d="",e="",f="";"move"===this.settings.open_method?(d="move-",e="right",f="left"):"overlap_single"===this.settings.open_method?(d="offcanvas-overlap-",e="right",f="left"):"overlap"===this.settings.open_method&&(d="offcanvas-overlap"),c(this.scope).off(".offcanvas").on("click.fndtn.offcanvas",".left-off-canvas-toggle",function(f){b.click_toggle_class(f,d+e),"overlap"!==b.settings.open_method&&c(".left-submenu").removeClass(d+e),a(".left-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".left-off-canvas-menu a",function(f){var g=b.get_settings(f),h=c(this).parent();!g.close_on_click||h.hasClass("has-submenu")||h.hasClass("back")?c(this).parent().hasClass("has-submenu")?(f.preventDefault(),c(this).siblings(".left-submenu").toggleClass(d+e)):h.hasClass("back")&&(f.preventDefault(),h.parent().removeClass(d+e)):(b.hide.call(b,d+e,b.get_wrapper(f)),h.parent().removeClass(d+e)),a(".left-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".right-off-canvas-toggle",function(e){b.click_toggle_class(e,d+f),"overlap"!==b.settings.open_method&&c(".right-submenu").removeClass(d+f),a(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".right-off-canvas-menu a",function(e){var g=b.get_settings(e),h=c(this).parent();!g.close_on_click||h.hasClass("has-submenu")||h.hasClass("back")?c(this).parent().hasClass("has-submenu")?(e.preventDefault(),c(this).siblings(".right-submenu").toggleClass(d+f)):h.hasClass("back")&&(e.preventDefault(),h.parent().removeClass(d+f)):(b.hide.call(b,d+f,b.get_wrapper(e)),h.parent().removeClass(d+f)),a(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(g){b.click_remove_class(g,d+f),c(".right-submenu").removeClass(d+f),e&&(b.click_remove_class(g,d+e),c(".left-submenu").removeClass(d+f)),a(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(c){b.click_remove_class(c,d+f),a(".left-off-canvas-toggle").attr("aria-expanded","false"),e&&(b.click_remove_class(c,d+e),a(".right-off-canvas-toggle").attr("aria-expanded","false"))})},toggle:function(a,b){b=b||this.get_wrapper(),b.is("."+a)?this.hide(a,b):this.show(a,b)},show:function(a,b){b=b||this.get_wrapper(),b.trigger("open.fndtn.offcanvas"),b.addClass(a)},hide:function(a,b){b=b||this.get_wrapper(),b.trigger("close.fndtn.offcanvas"),b.removeClass(a)},click_toggle_class:function(a,b){
a.preventDefault();var c=this.get_wrapper(a);this.toggle(b,c)},click_remove_class:function(a,b){a.preventDefault();var c=this.get_wrapper(a);this.hide(b,c)},get_settings:function(a){var b=this.S(a.target).closest("["+this.attr_name()+"]");return b.data(this.attr_name(!0)+"-init")||this.settings},get_wrapper:function(a){var b=this.S(a?a.target:this.scope).closest(".off-canvas-wrap");return 0===b.length&&(b=this.S(".off-canvas-wrap")),b},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";var e=function(){},f=function(e,f){if(e.hasClass(f.slides_container_class))return this;var j,k,l,m,n,o,p=this,q=e,r=0,s=!1;p.slides=function(){return q.children(f.slide_selector)},p.slides().first().addClass(f.active_slide_class),p.update_slide_number=function(b){f.slide_number&&(k.find("span:first").text(parseInt(b)+1),k.find("span:last").text(p.slides().length)),f.bullets&&(l.children().removeClass(f.bullets_active_class),a(l.children().get(b)).addClass(f.bullets_active_class))},p.update_active_link=function(b){var c=a('[data-orbit-link="'+p.slides().eq(b).attr("data-orbit-slide")+'"]');c.siblings().removeClass(f.bullets_active_class),c.addClass(f.bullets_active_class)},p.build_markup=function(){q.wrap('<div class="'+f.container_class+'"></div>'),j=q.parent(),q.addClass(f.slides_container_class),f.stack_on_small&&j.addClass(f.stack_on_small_class),f.navigation_arrows&&(j.append(a('<a href="#"><span></span></a>').addClass(f.prev_class)),j.append(a('<a href="#"><span></span></a>').addClass(f.next_class))),f.timer&&(m=a("<div>").addClass(f.timer_container_class),m.append("<span>"),m.append(a("<div>").addClass(f.timer_progress_class)),m.addClass(f.timer_paused_class),j.append(m)),f.slide_number&&(k=a("<div>").addClass(f.slide_number_class),k.append("<span></span> "+f.slide_number_text+" <span></span>"),j.append(k)),f.bullets&&(l=a("<ol>").addClass(f.bullets_container_class),j.append(l),l.wrap('<div class="orbit-bullets-container"></div>'),p.slides().each(function(b,c){var d=a("<li>").attr("data-orbit-slide",b).on("click",p.link_bullet);l.append(d)}))},p._goto=function(b,c){if(b===r)return!1;"object"==typeof o&&o.restart();var d=p.slides(),e="next";if(s=!0,r>b&&(e="prev"),b>=d.length){if(!f.circular)return!1;b=0}else if(0>b){if(!f.circular)return!1;b=d.length-1}var g=a(d.get(r)),h=a(d.get(b));g.css("zIndex",2),g.removeClass(f.active_slide_class),h.css("zIndex",4).addClass(f.active_slide_class),q.trigger("before-slide-change.fndtn.orbit"),f.before_slide_change(),p.update_active_link(b);var i=function(){var a=function(){r=b,s=!1,c===!0&&(o=p.create_timer(),o.start()),p.update_slide_number(r),q.trigger("after-slide-change.fndtn.orbit",[{slide_number:r,total_slides:d.length}]),f.after_slide_change(r,d.length)};q.outerHeight()!=h.outerHeight()&&f.variable_height?q.animate({height:h.outerHeight()},250,"linear",a):a()};if(1===d.length)return i(),!1;var j=function(){"next"===e&&n.next(g,h,i),"prev"===e&&n.prev(g,h,i)};h.outerHeight()>q.outerHeight()&&f.variable_height?q.animate({height:h.outerHeight()},250,"linear",j):j()},p.next=function(a){a.stopImmediatePropagation(),a.preventDefault(),p._goto(r+1)},p.prev=function(a){a.stopImmediatePropagation(),a.preventDefault(),p._goto(r-1)},p.link_custom=function(b){b.preventDefault();var c=a(this).attr("data-orbit-link");if("string"==typeof c&&""!=(c=a.trim(c))){var d=j.find("[data-orbit-slide="+c+"]");-1!=d.index()&&p._goto(d.index())}},p.link_bullet=function(b){var c=a(this).attr("data-orbit-slide");if("string"==typeof c&&""!=(c=a.trim(c)))if(isNaN(parseInt(c))){var d=j.find("[data-orbit-slide="+c+"]");-1!=d.index()&&p._goto(d.index()+1)}else p._goto(parseInt(c))},p.timer_callback=function(){p._goto(r+1,!0)},p.compute_dimensions=function(){var b=a(p.slides().get(r)),c=b.outerHeight();f.variable_height||p.slides().each(function(){a(this).outerHeight()>c&&(c=a(this).outerHeight())}),q.height(c)},p.create_timer=function(){var a=new g(j.find("."+f.timer_container_class),f,p.timer_callback);return a},p.stop_timer=function(){"object"==typeof o&&o.stop()},p.toggle_timer=function(){var a=j.find("."+f.timer_container_class);a.hasClass(f.timer_paused_class)?("undefined"==typeof o&&(o=p.create_timer()),o.start()):"object"==typeof o&&o.stop()},p.init=function(){p.build_markup(),f.timer&&(o=p.create_timer(),Foundation.utils.image_loaded(this.slides().children("img"),o.start)),n=new i(f,q),"slide"===f.animation&&(n=new h(f,q)),j.on("click","."+f.next_class,p.next),j.on("click","."+f.prev_class,p.prev),f.next_on_click&&j.on("click","."+f.slides_container_class+" [data-orbit-slide]",p.link_bullet),j.on("click",p.toggle_timer),f.swipe&&j.on("touchstart.fndtn.orbit",function(a){a.touches||(a=a.originalEvent);var b={start_page_x:a.touches[0].pageX,start_page_y:a.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:d};j.data("swipe-transition",b),a.stopPropagation()}).on("touchmove.fndtn.orbit",function(a){if(a.touches||(a=a.originalEvent),!(a.touches.length>1||a.scale&&1!==a.scale)){var b=j.data("swipe-transition");if("undefined"==typeof b&&(b={}),b.delta_x=a.touches[0].pageX-b.start_page_x,"undefined"==typeof b.is_scrolling&&(b.is_scrolling=!!(b.is_scrolling||Math.abs(b.delta_x)<Math.abs(a.touches[0].pageY-b.start_page_y))),!b.is_scrolling&&!b.active){a.preventDefault();var c=b.delta_x<0?r+1:r-1;b.active=!0,p._goto(c)}}}).on("touchend.fndtn.orbit",function(a){j.data("swipe-transition",{}),a.stopPropagation()}),j.on("mouseenter.fndtn.orbit",function(a){f.timer&&f.pause_on_hover&&p.stop_timer()}).on("mouseleave.fndtn.orbit",function(a){f.timer&&f.resume_on_mouseout&&o.start()}),a(c).on("click","[data-orbit-link]",p.link_custom),a(b).on("load resize",p.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),p.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),function(){j.prev("."+f.preloader_class).css("display","none"),p.update_slide_number(0),p.update_active_link(0),q.trigger("ready.fndtn.orbit")})},p.init()},g=function(a,b,c){var d,e,f=this,g=b.timer_speed,h=a.find("."+b.timer_progress_class),i=-1;this.update_progress=function(a){var b=h.clone();b.attr("style",""),b.css("width",a+"%"),h.replaceWith(b),h=b},this.restart=function(){clearTimeout(e),a.addClass(b.timer_paused_class),i=-1,f.update_progress(0)},this.start=function(){return a.hasClass(b.timer_paused_class)?(i=-1===i?g:i,a.removeClass(b.timer_paused_class),d=(new Date).getTime(),h.animate({width:"100%"},i,"linear"),e=setTimeout(function(){f.restart(),c()},i),void a.trigger("timer-started.fndtn.orbit")):!0},this.stop=function(){if(a.hasClass(b.timer_paused_class))return!0;clearTimeout(e),a.addClass(b.timer_paused_class);var c=(new Date).getTime();i-=c-d;var h=100-i/g*100;f.update_progress(h),a.trigger("timer-stopped.fndtn.orbit")}},h=function(b,c){var d=b.animation_speed,e=1===a("html[dir=rtl]").length,f=e?"marginRight":"marginLeft",g={};g[f]="0%",this.next=function(a,b,c){a.animate({marginLeft:"-100%"},d),b.animate(g,d,function(){a.css(f,"100%"),c()})},this.prev=function(a,b,c){a.animate({marginLeft:"100%"},d),b.css(f,"-100%"),b.animate(g,d,function(){a.css(f,"100%"),c()})}},i=function(b,c){{var d=b.animation_speed;1===a("html[dir=rtl]").length}this.next=function(a,b,c){b.css({margin:"0%",opacity:"0.01"}),b.animate({opacity:"1"},d,"linear",function(){a.css("margin","100%"),c()})},this.prev=function(a,b,c){b.css({margin:"0%",opacity:"0.01"}),b.animate({opacity:"1"},d,"linear",function(){a.css("margin","100%"),c()})}};Foundation.libs=Foundation.libs||{},Foundation.libs.orbit={name:"orbit",version:"5.5.2",settings:{animation:"slide",timer_speed:1e4,pause_on_hover:!0,resume_on_mouseout:!1,next_on_click:!0,animation_speed:500,stack_on_small:!1,navigation_arrows:!0,slide_number:!0,slide_number_text:"of",container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",preloader_class:"preloader",slide_selector:"*",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning",bullets:!0,circular:!0,timer:!0,variable_height:!1,swipe:!0,before_slide_change:e,after_slide_change:e},init:function(a,b,c){this.bindings(b,c)},events:function(a){var b=new f(this.S(a),this.S(a).data("orbit-init"));this.S(a).data(this.name+"-instance",b)},reflow:function(){var a=this;if(a.S(a.scope).is("[data-orbit]")){var b=a.S(a.scope),c=b.data(a.name+"-instance");c.compute_dimensions()}else a.S("[data-orbit]",a.scope).each(function(b,c){var d=a.S(c),e=(a.data_options(d),d.data(a.name+"-instance"));e.compute_dimensions()})}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";function e(a){var b=/fade/i.test(a),c=/pop/i.test(a);return{animate:b||c,pop:c,fade:b}}Foundation.libs.reveal={name:"reveal",version:"5.5.2",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",multiple_opened:!1,bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},on_ajax_error:a.noop,bg:a(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(b,c,d){a.extend(!0,this.settings,c,d),this.bindings(c,d)},events:function(a){var b=this,d=b.S;return d(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(a){if(a.preventDefault(),!b.locked){var c=d(this),e=c.data(b.data_attr("reveal-ajax")),f=c.data(b.data_attr("reveal-replace-content"));if(b.locked=!0,"undefined"==typeof e)b.open.call(b,c);else{var g=e===!0?c.attr("href"):e;b.open.call(b,c,{url:g},{replaceContentSel:f})}}}),d(c).on("click.fndtn.reveal",this.close_targets(),function(a){if(a.preventDefault(),!b.locked){var c=d("["+b.attr_name()+"].open").data(b.attr_name(!0)+"-init")||b.settings,e=d(a.target)[0]===d("."+c.bg_class)[0];if(e){if(!c.close_on_background_click)return;a.stopPropagation()}b.locked=!0,b.close.call(b,e?d("["+b.attr_name()+"].open:not(.toback)"):d(this).closest("["+b.attr_name()+"]"))}}),d("["+b.attr_name()+"]",this.scope).length>0?d(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):d(this.scope).on("open.fndtn.reveal","["+b.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+b.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+b.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+b.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+b.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+b.attr_name()+"]",this.close_video),!0},key_up_on:function(a){var b=this;return b.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(a){var c=b.S("["+b.attr_name()+"].open"),d=c.data(b.attr_name(!0)+"-init")||b.settings;d&&27===a.which&&d.close_on_esc&&!b.locked&&b.close.call(b,c)}),!0},key_up_off:function(a){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(c,d){var e,f=this;c?"undefined"!=typeof c.selector?e=f.S("#"+c.data(f.data_attr("reveal-id"))).first():(e=f.S(this.scope),d=c):e=f.S(this.scope);var g=e.data(f.attr_name(!0)+"-init");if(g=g||this.settings,e.hasClass("open")&&c.attr("data-reveal-id")==e.attr("id"))return f.close(e);if(!e.hasClass("open")){var h=f.S("["+f.attr_name()+"].open");if("undefined"==typeof e.data("css-top")&&e.data("css-top",parseInt(e.css("top"),10)).data("offset",this.cache_offset(e)),e.attr("tabindex","0").attr("aria-hidden","false"),this.key_up_on(e),e.on("open.fndtn.reveal",function(a){"fndtn.reveal"!==a.namespace}),e.on("open.fndtn.reveal").trigger("open.fndtn.reveal"),h.length<1&&this.toggle_bg(e,!0),"string"==typeof d&&(d={url:d}),"undefined"!=typeof d&&d.url){var i="undefined"!=typeof d.success?d.success:null;a.extend(d,{success:function(b,c,d){if(a.isFunction(i)){var j=i(b,c,d);"string"==typeof j&&(b=j)}"undefined"!=typeof options&&"undefined"!=typeof options.replaceContentSel?e.find(options.replaceContentSel).html(b):e.html(b),f.S(e).foundation("section","reflow"),f.S(e).children().foundation(),h.length>0&&(g.multiple_opened?f.to_back(h):f.hide(h,g.css.close)),f.show(e,g.css.open)}}),g.on_ajax_error!==a.noop&&a.extend(d,{error:g.on_ajax_error}),a.ajax(d)}else h.length>0&&(g.multiple_opened?f.to_back(h):f.hide(h,g.css.close)),this.show(e,g.css.open)}f.S(b).trigger("resize")},close:function(b){var b=b&&b.length?b:this.S(this.scope),c=this.S("["+this.attr_name()+"].open"),d=b.data(this.attr_name(!0)+"-init")||this.settings,e=this;c.length>0&&(b.removeAttr("tabindex","0").attr("aria-hidden","true"),this.locked=!0,this.key_up_off(b),b.trigger("close.fndtn.reveal"),(d.multiple_opened&&1===c.length||!d.multiple_opened||b.length>1)&&(e.toggle_bg(b,!1),e.to_front(b)),d.multiple_opened?(e.hide(b,d.css.close,d),e.to_front(a(a.makeArray(c).reverse()[1]))):e.hide(c,d.css.close,d))},close_targets:function(){var a="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?a+", ."+this.settings.bg_class:a},toggle_bg:function(b,c){0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=a("<div />",{"class":this.settings.bg_class}).appendTo("body").hide());var e=this.settings.bg.filter(":visible").length>0;c!=e&&((c==d?e:!c)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(c,d){if(d){var f=c.data(this.attr_name(!0)+"-init")||this.settings,g=f.root_element,h=this;if(0===c.parent(g).length){var i=c.wrap('<div style="display: none;" />').parent();c.on("closed.fndtn.reveal.wrapped",function(){c.detach().appendTo(i),c.unwrap().unbind("closed.fndtn.reveal.wrapped")}),c.detach().appendTo(g)}var j=e(f.animation);if(j.animate||(this.locked=!1),j.pop){d.top=a(b).scrollTop()-c.data("offset")+"px";var k={top:a(b).scrollTop()+c.data("css-top")+"px",opacity:1};return setTimeout(function(){return c.css(d).animate(k,f.animation_speed,"linear",function(){h.locked=!1,c.trigger("opened.fndtn.reveal")}).addClass("open")},f.animation_speed/2)}if(j.fade){d.top=a(b).scrollTop()+c.data("css-top")+"px";var k={opacity:1};return setTimeout(function(){return c.css(d).animate(k,f.animation_speed,"linear",function(){h.locked=!1,c.trigger("opened.fndtn.reveal")}).addClass("open")},f.animation_speed/2)}return c.css(d).show().css({opacity:1}).addClass("open").trigger("opened.fndtn.reveal")}var f=this.settings;return e(f.animation).fade?c.fadeIn(f.animation_speed/2):(this.locked=!1,c.show())},to_back:function(a){a.addClass("toback")},to_front:function(a){a.removeClass("toback")},hide:function(c,d){if(d){var f=c.data(this.attr_name(!0)+"-init"),g=this;f=f||this.settings;var h=e(f.animation);if(h.animate||(this.locked=!1),h.pop){var i={top:-a(b).scrollTop()-c.data("offset")+"px",opacity:0};return setTimeout(function(){return c.animate(i,f.animation_speed,"linear",function(){g.locked=!1,c.css(d).trigger("closed.fndtn.reveal")}).removeClass("open")},f.animation_speed/2)}if(h.fade){var i={opacity:0};return setTimeout(function(){return c.animate(i,f.animation_speed,"linear",function(){g.locked=!1,c.css(d).trigger("closed.fndtn.reveal")}).removeClass("open")},f.animation_speed/2)}return c.hide().css(d).removeClass("open").trigger("closed.fndtn.reveal")}var f=this.settings;return e(f.animation).fade?c.fadeOut(f.animation_speed/2):c.hide()},close_video:function(b){var c=a(".flex-video",b.target),d=a("iframe",c);d.length>0&&(d.attr("data-src",d[0].src),d.attr("src",d.attr("src")),c.hide())},open_video:function(b){var c=a(".flex-video",b.target),e=c.find("iframe");if(e.length>0){var f=e.attr("data-src");if("string"==typeof f)e[0].src=e.attr("data-src");else{var g=e[0].src;e[0].src=d,e[0].src=g}c.show()}},data_attr:function(a){return this.namespace.length>0?this.namespace+"-"+a:a},cache_offset:function(a){var b=a.show().height()+parseInt(a.css("top"),10)+a.scrollY;return a.hide(),b},off:function(){a(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.slider={name:"slider",version:"5.5.2",settings:{start:0,end:100,step:1,precision:null,initial:null,display_selector:"",vertical:!1,trigger_input_change:!1,on_change:function(){}},cache:{},init:function(a,b,c){Foundation.inherit(this,"throttle"),this.bindings(b,c),this.reflow()},events:function(){var c=this;a(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+c.attr_name()+"]:not(.disabled, [disabled]) .range-slider-handle",function(b){c.cache.active||(b.preventDefault(),c.set_active_slider(a(b.target)))}).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",function(d){if(c.cache.active)if(d.preventDefault(),a.data(c.cache.active[0],"settings").vertical){var e=0;d.pageY||(e=b.scrollY),c.calculate_position(c.cache.active,c.get_cursor_position(d,"y")+e)}else c.calculate_position(c.cache.active,c.get_cursor_position(d,"x"))}).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",function(a){c.remove_active_slider()}).on("change.fndtn.slider",function(a){c.settings.on_change()}),c.S(b).on("resize.fndtn.slider",c.throttle(function(a){c.reflow()},300)),this.S("["+this.attr_name()+"]").each(function(){var b=a(this),d=b.children(".range-slider-handle")[0],e=c.initialize_settings(d);""!=e.display_selector&&a(e.display_selector).each(function(){this.hasOwnProperty("value")&&a(this).change(function(){b.foundation("slider","set_value",a(this).val())})})})},get_cursor_position:function(a,b){var c,d="page"+b.toUpperCase(),e="client"+b.toUpperCase();return"undefined"!=typeof a[d]?c=a[d]:"undefined"!=typeof a.originalEvent[e]?c=a.originalEvent[e]:a.originalEvent.touches&&a.originalEvent.touches[0]&&"undefined"!=typeof a.originalEvent.touches[0][e]?c=a.originalEvent.touches[0][e]:a.currentPoint&&"undefined"!=typeof a.currentPoint[b]&&(c=a.currentPoint[b]),c},set_active_slider:function(a){this.cache.active=a},remove_active_slider:function(){this.cache.active=null},calculate_position:function(b,c){var d=this,e=a.data(b[0],"settings"),f=(a.data(b[0],"handle_l"),a.data(b[0],"handle_o"),a.data(b[0],"bar_l")),g=a.data(b[0],"bar_o");requestAnimationFrame(function(){var a;a=Foundation.rtl&&!e.vertical?d.limit_to((g+f-c)/f,0,1):d.limit_to((c-g)/f,0,1),a=e.vertical?1-a:a;var h=d.normalized_value(a,e.start,e.end,e.step,e.precision);d.set_ui(b,h)})},set_ui:function(b,c){var d=a.data(b[0],"settings"),e=a.data(b[0],"handle_l"),f=a.data(b[0],"bar_l"),g=this.normalized_percentage(c,d.start,d.end),h=g*(f-e)-1,i=100*g,j=b.parent(),k=b.parent().children("input[type=hidden]");Foundation.rtl&&!d.vertical&&(h=-h),h=d.vertical?-h+f-e+1:h,this.set_translate(b,h,d.vertical),d.vertical?b.siblings(".range-slider-active-segment").css("height",i+"%"):b.siblings(".range-slider-active-segment").css("width",i+"%"),j.attr(this.attr_name(),c).trigger("change.fndtn.slider"),k.val(c),d.trigger_input_change&&k.trigger("change.fndtn.slider"),b[0].hasAttribute("aria-valuemin")||b.attr({"aria-valuemin":d.start,"aria-valuemax":d.end}),b.attr("aria-valuenow",c),""!=d.display_selector&&a(d.display_selector).each(function(){this.hasAttribute("value")?a(this).val(c):a(this).text(c)})},normalized_percentage:function(a,b,c){return Math.min(1,(a-b)/(c-b))},normalized_value:function(a,b,c,d,e){var f=c-b,g=a*f,h=(g-g%d)/d,i=g%d,j=i>=.5*d?d:0;return(h*d+j+b).toFixed(e)},set_translate:function(b,c,d){d?a(b).css("-webkit-transform","translateY("+c+"px)").css("-moz-transform","translateY("+c+"px)").css("-ms-transform","translateY("+c+"px)").css("-o-transform","translateY("+c+"px)").css("transform","translateY("+c+"px)"):a(b).css("-webkit-transform","translateX("+c+"px)").css("-moz-transform","translateX("+c+"px)").css("-ms-transform","translateX("+c+"px)").css("-o-transform","translateX("+c+"px)").css("transform","translateX("+c+"px)")},limit_to:function(a,b,c){return Math.min(Math.max(a,b),c)},initialize_settings:function(b){var c,d=a.extend({},this.settings,this.data_options(a(b).parent()));return null===d.precision&&(c=(""+d.step).match(/\.([\d]*)/),d.precision=c&&c[1]?c[1].length:0),d.vertical?(a.data(b,"bar_o",a(b).parent().offset().top),a.data(b,"bar_l",a(b).parent().outerHeight()),a.data(b,"handle_o",a(b).offset().top),a.data(b,"handle_l",a(b).outerHeight())):(a.data(b,"bar_o",a(b).parent().offset().left),a.data(b,"bar_l",a(b).parent().outerWidth()),a.data(b,"handle_o",a(b).offset().left),a.data(b,"handle_l",a(b).outerWidth())),a.data(b,"bar",a(b).parent()),a.data(b,"settings",d)},set_initial_position:function(b){var c=a.data(b.children(".range-slider-handle")[0],"settings"),d="number"!=typeof c.initial||isNaN(c.initial)?Math.floor(.5*(c.end-c.start)/c.step)*c.step+c.start:c.initial,e=b.children(".range-slider-handle");this.set_ui(e,d)},set_value:function(b){var c=this;a("["+c.attr_name()+"]",this.scope).each(function(){a(this).attr(c.attr_name(),b)}),a(this.scope).attr(c.attr_name())&&a(this.scope).attr(c.attr_name(),b),c.reflow()},reflow:function(){var b=this;b.S("["+this.attr_name()+"]").each(function(){var c=a(this).children(".range-slider-handle")[0],d=a(this).attr(b.attr_name());b.initialize_settings(c),d?b.set_ui(a(c),parseFloat(d)):b.set_initial_position(a(this))})}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.tab={name:"tab",version:"5.5.2",settings:{active_class:"active",callback:function(){},deep_linking:!1,scroll_to_content:!0,is_hover:!1},default_tab_hashes:[],init:function(a,c,d){var e=this,f=this.S;f("["+this.attr_name()+"] > .active > a",this.scope).each(function(){e.default_tab_hashes.push(this.hash)}),e.entry_location=b.location.href,this.bindings(c,d),this.handle_location_hash_change()},events:function(){var a=this,c=this.S,d=function(b,d){var e=c(d).closest("["+a.attr_name()+"]").data(a.attr_name(!0)+"-init");(!e.is_hover||Modernizr.touch)&&(b.preventDefault(),b.stopPropagation(),a.toggle_active_tab(c(d).parent()))};c(this.scope).off(".tab").on("keydown.fndtn.tab","["+this.attr_name()+"] > * > a",function(a){var b=this,c=a.keyCode||a.which;9==c&&(a.preventDefault(),d(a,b))}).on("click.fndtn.tab","["+this.attr_name()+"] > * > a",function(a){var b=this;d(a,b)}).on("mouseenter.fndtn.tab","["+this.attr_name()+"] > * > a",function(b){var d=c(this).closest("["+a.attr_name()+"]").data(a.attr_name(!0)+"-init");d.is_hover&&a.toggle_active_tab(c(this).parent())}),c(b).on("hashchange.fndtn.tab",function(b){b.preventDefault(),a.handle_location_hash_change()})},handle_location_hash_change:function(){var b=this,c=this.S;c("["+this.attr_name()+"]",this.scope).each(function(){var e=c(this).data(b.attr_name(!0)+"-init");if(e.deep_linking){var f;if(f=e.scroll_to_content?b.scope.location.hash:b.scope.location.hash.replace("fndtn-",""),""!=f){var g=c(f);if(g.hasClass("content")&&g.parent().hasClass("tabs-content"))b.toggle_active_tab(a("["+b.attr_name()+"] > * > a[href="+f+"]").parent());else{var h=g.closest(".content").attr("id");h!=d&&b.toggle_active_tab(a("["+b.attr_name()+"] > * > a[href=#"+h+"]").parent(),f)}}else for(var i=0;i<b.default_tab_hashes.length;i++)b.toggle_active_tab(a("["+b.attr_name()+"] > * > a[href="+b.default_tab_hashes[i]+"]").parent())}})},toggle_active_tab:function(e,f){var g=this,h=g.S,i=e.closest("["+this.attr_name()+"]"),j=e.find("a"),k=e.children("a").first(),l="#"+k.attr("href").split("#")[1],m=h(l),n=e.siblings(),o=i.data(this.attr_name(!0)+"-init"),p=function(b){var d,e=a(this),f=a(this).parents("li").prev().children('[role="tab"]'),g=a(this).parents("li").next().children('[role="tab"]');switch(b.keyCode){case 37:d=f;break;case 39:d=g;break;default:d=!1}d.length&&(e.attr({tabindex:"-1","aria-selected":null}),d.attr({tabindex:"0","aria-selected":!0}).focus()),a('[role="tabpanel"]').attr("aria-hidden","true"),a("#"+a(c.activeElement).attr("href").substring(1)).attr("aria-hidden",null)},q=function(a){var c=b.location.href===g.entry_location,d=o.scroll_to_content?g.default_tab_hashes[0]:c?b.location.hash:"fndtn-"+g.default_tab_hashes[0].replace("#","");c&&a===d||(b.location.hash=a)};k.data("tab-content")&&(l="#"+k.data("tab-content").split("#")[1],m=h(l)),o.deep_linking&&(o.scroll_to_content?(q(f||l),f==d||f==l?e.parent()[0].scrollIntoView():h(l)[0].scrollIntoView()):q(f!=d?"fndtn-"+f.replace("#",""):"fndtn-"+l.replace("#",""))),e.addClass(o.active_class).triggerHandler("opened"),j.attr({"aria-selected":"true",tabindex:0}),n.removeClass(o.active_class),n.find("a").attr({"aria-selected":"false",tabindex:-1}),m.siblings().removeClass(o.active_class).attr({"aria-hidden":"true",tabindex:-1}),m.addClass(o.active_class).attr("aria-hidden","false").removeAttr("tabindex"),o.callback(e),m.triggerHandler("toggled",[m]),i.triggerHandler("toggled",[e]),j.off("keydown").on("keydown",p)},data_attr:function(a){return this.namespace.length>0?this.namespace+"-"+a:a},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.tooltip={name:"tooltip",version:"5.5.2",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,show_on:"all",tip_template:function(a,b){return'<span data-selector="'+a+'" id="'+a+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'" role="tooltip">'+b+'<span class="nub"></span></span>'}},cache:{},init:function(a,b,c){Foundation.inherit(this,"random_str"),this.bindings(b,c)},should_show:function(b,c){var d=a.extend({},this.settings,this.data_options(b));return"all"===d.show_on?!0:this.small()&&"small"===d.show_on?!0:this.medium()&&"medium"===d.show_on?!0:this.large()&&"large"===d.show_on?!0:!1},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},events:function(b){function c(a,b,c){a.timer||(c?(a.timer=null,e.showTip(b)):a.timer=setTimeout(function(){a.timer=null,e.showTip(b)}.bind(a),e.settings.hover_delay))}function d(a,b){a.timer&&(clearTimeout(a.timer),a.timer=null),e.hide(b)}var e=this,f=e.S;e.create(this.S(b)),a(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]",function(b){var g=f(this),h=a.extend({},e.settings,e.data_options(g)),i=!1;if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type)&&f(b.target).is("a"))return!1;if(/mouse/i.test(b.type)&&e.ie_touch(b))return!1;if(g.hasClass("open"))Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type)&&b.preventDefault(),e.hide(g);else{if(h.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type))return;if(!h.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type)&&(b.preventDefault(),f(h.tooltip_class+".open").hide(),i=!0,a(".open["+e.attr_name()+"]").length>0)){var j=f(a(".open["+e.attr_name()+"]")[0]);e.hide(j)}/enter|over/i.test(b.type)?c(this,g):"mouseout"===b.type||"mouseleave"===b.type?d(this,g):c(this,g,!0)}}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(b){return/mouse/i.test(b.type)&&e.ie_touch(b)?!1:void(("touch"!=a(this).data("tooltip-open-event-type")||"mouseleave"!=b.type)&&("mouse"==a(this).data("tooltip-open-event-type")&&/MSPointerDown|touchstart/i.test(b.type)?e.convert_to_touch(a(this)):d(this,a(this))))}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(a){d(this,f(this))})},ie_touch:function(a){return!1},showTip:function(a){var b=this.getTip(a);return this.should_show(a,b)?this.show(a):void 0},getTip:function(b){var c=this.selector(b),d=a.extend({},this.settings,this.data_options(b)),e=null;return c&&(e=this.S('span[data-selector="'+c+'"]'+d.tooltip_class)),"object"==typeof e?e:!1},selector:function(a){var b=a.attr(this.attr_name())||a.attr("data-selector");return"string"!=typeof b&&(b=this.random_str(6),a.attr("data-selector",b).attr("aria-describedby",b)),b},create:function(c){var d=this,e=a.extend({},this.settings,this.data_options(c)),f=this.settings.tip_template;"string"==typeof e.tip_template&&b.hasOwnProperty(e.tip_template)&&(f=b[e.tip_template]);var g=a(f(this.selector(c),a("<div></div>").html(c.attr("title")).html())),h=this.inheritable_classes(c);g.addClass(h).appendTo(e.append_to),Modernizr.touch&&(g.append('<span class="tap-to-close">'+e.touch_close_text+"</span>"),g.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(a){d.hide(c)})),c.removeAttr("title").attr("title","")},reposition:function(b,c,d){var e,f,g,h,i;if(c.css("visibility","hidden").show(),e=b.data("width"),f=c.children(".nub"),g=f.outerHeight(),h=f.outerHeight(),c.css(this.small()?{width:"100%"}:{width:e?e:"auto"}),i=function(a,b,c,d,e,f){return a.css({top:b?b:"auto",bottom:d?d:"auto",left:e?e:"auto",right:c?c:"auto"}).end()},i(c,b.offset().top+b.outerHeight()+10,"auto","auto",b.offset().left),this.small())i(c,b.offset().top+b.outerHeight()+10,"auto","auto",12.5,a(this.scope).width()),c.addClass("tip-override"),i(f,-g,"auto","auto",b.offset().left);else{var j=b.offset().left;Foundation.rtl&&(f.addClass("rtl"),j=b.offset().left+b.outerWidth()-c.outerWidth()),i(c,b.offset().top+b.outerHeight()+10,"auto","auto",j),f.attr("style")&&f.removeAttr("style"),c.removeClass("tip-override"),d&&d.indexOf("tip-top")>-1?(Foundation.rtl&&f.addClass("rtl"),i(c,b.offset().top-c.outerHeight(),"auto","auto",j).removeClass("tip-override")):d&&d.indexOf("tip-left")>-1?(i(c,b.offset().top+b.outerHeight()/2-c.outerHeight()/2,"auto","auto",b.offset().left-c.outerWidth()-g).removeClass("tip-override"),f.removeClass("rtl")):d&&d.indexOf("tip-right")>-1&&(i(c,b.offset().top+b.outerHeight()/2-c.outerHeight()/2,"auto","auto",b.offset().left+b.outerWidth()+g).removeClass("tip-override"),f.removeClass("rtl"))}c.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function(b){var c=a.extend({},this.settings,this.data_options(b)),d=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(c.additional_inheritable_classes),e=b.attr("class"),f=e?a.map(e.split(" "),function(b,c){return-1!==a.inArray(b,d)?b:void 0}).join(" "):"";return a.trim(f)},convert_to_touch:function(b){var c=this,d=c.getTip(b),e=a.extend({},c.settings,c.data_options(b));0===d.find(".tap-to-close").length&&(d.append('<span class="tap-to-close">'+e.touch_close_text+"</span>"),d.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(a){c.hide(b)})),b.data("tooltip-open-event-type","touch")},show:function(a){var b=this.getTip(a);"touch"==a.data("tooltip-open-event-type")&&this.convert_to_touch(a),this.reposition(a,b,a.attr("class")),a.addClass("open"),b.fadeIn(150)},hide:function(a){var b=this.getTip(a);b.fadeOut(150,function(){b.find(".tap-to-close").remove(),b.off("click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose"),a.removeClass("open")})},off:function(){var b=this;this.S(this.scope).off(".fndtn.tooltip"),this.S(this.settings.tooltip_class).each(function(c){a("["+b.attr_name()+"]").eq(c).attr("title",a(this).text())}).remove()},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.topbar={name:"topbar",version:"5.5.2",settings:{index:0,start_offset:0,
sticky_class:"sticky",custom_back_text:!0,back_text:"Back",mobile_show_parent_link:!0,is_hover:!0,scrolltop:!0,sticky_on:"all",dropdown_autoclose:!0},init:function(b,c,d){Foundation.inherit(this,"add_custom_rule register_media throttle");var e=this;e.register_media("topbar","foundation-mq-topbar"),this.bindings(c,d),e.S("["+this.attr_name()+"]",this.scope).each(function(){{var b=a(this),c=b.data(e.attr_name(!0)+"-init");e.S("section, .top-bar-section",this)}b.data("index",0);var d=b.parent();d.hasClass("fixed")||e.is_sticky(b,d,c)?(e.settings.sticky_class=c.sticky_class,e.settings.sticky_topbar=b,b.data("height",d.outerHeight()),b.data("stickyoffset",d.offset().top)):b.data("height",b.outerHeight()),c.assembled||e.assemble(b),c.is_hover?e.S(".has-dropdown",b).addClass("not-click"):e.S(".has-dropdown",b).removeClass("not-click"),e.add_custom_rule(".f-topbar-fixed { padding-top: "+b.data("height")+"px }"),d.hasClass("fixed")&&e.S("body").addClass("f-topbar-fixed")})},is_sticky:function(a,b,c){var d=b.hasClass(c.sticky_class),e=matchMedia(Foundation.media_queries.small).matches,f=matchMedia(Foundation.media_queries.medium).matches,g=matchMedia(Foundation.media_queries.large).matches;return d&&"all"===c.sticky_on?!0:d&&this.small()&&-1!==c.sticky_on.indexOf("small")&&e&&!f&&!g?!0:d&&this.medium()&&-1!==c.sticky_on.indexOf("medium")&&e&&f&&!g?!0:d&&this.large()&&-1!==c.sticky_on.indexOf("large")&&e&&f&&g?!0:!1},toggle:function(c){var d,e=this;d=c?e.S(c).closest("["+this.attr_name()+"]"):e.S("["+this.attr_name()+"]");var f=d.data(this.attr_name(!0)+"-init"),g=e.S("section, .top-bar-section",d);e.breakpoint()&&(e.rtl?(g.css({right:"0%"}),a(">.name",g).css({right:"100%"})):(g.css({left:"0%"}),a(">.name",g).css({left:"100%"})),e.S("li.moved",g).removeClass("moved"),d.data("index",0),d.toggleClass("expanded").css("height","")),f.scrolltop?d.hasClass("expanded")?d.parent().hasClass("fixed")&&(f.scrolltop?(d.parent().removeClass("fixed"),d.addClass("fixed"),e.S("body").removeClass("f-topbar-fixed"),b.scrollTo(0,0)):d.parent().removeClass("expanded")):d.hasClass("fixed")&&(d.parent().addClass("fixed"),d.removeClass("fixed"),e.S("body").addClass("f-topbar-fixed")):(e.is_sticky(d,d.parent(),f)&&d.parent().addClass("fixed"),d.parent().hasClass("fixed")&&(d.hasClass("expanded")?(d.addClass("fixed"),d.parent().addClass("expanded"),e.S("body").addClass("f-topbar-fixed")):(d.removeClass("fixed"),d.parent().removeClass("expanded"),e.update_sticky_positioning())))},timer:null,events:function(c){var d=this,e=this.S;e(this.scope).off(".topbar").on("click.fndtn.topbar","["+this.attr_name()+"] .toggle-topbar",function(a){a.preventDefault(),d.toggle(this)}).on("click.fndtn.topbar contextmenu.fndtn.topbar",'.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',function(b){var c=a(this).closest("li"),e=c.closest("["+d.attr_name()+"]"),f=e.data(d.attr_name(!0)+"-init");if(f.dropdown_autoclose&&f.is_hover){var g=a(this).closest(".hover");g.removeClass("hover")}!d.breakpoint()||c.hasClass("back")||c.hasClass("has-dropdown")||d.toggle()}).on("click.fndtn.topbar","["+this.attr_name()+"] li.has-dropdown",function(b){var c=e(this),f=e(b.target),g=c.closest("["+d.attr_name()+"]"),h=g.data(d.attr_name(!0)+"-init");return f.data("revealId")?void d.toggle():void(d.breakpoint()||(!h.is_hover||Modernizr.touch)&&(b.stopImmediatePropagation(),c.hasClass("hover")?(c.removeClass("hover").find("li").removeClass("hover"),c.parents("li.hover").removeClass("hover")):(c.addClass("hover"),a(c).siblings().removeClass("hover"),"A"===f[0].nodeName&&f.parent().hasClass("has-dropdown")&&b.preventDefault())))}).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown>a",function(a){if(d.breakpoint()){a.preventDefault();var b=e(this),c=b.closest("["+d.attr_name()+"]"),f=c.find("section, .top-bar-section"),g=(b.next(".dropdown").outerHeight(),b.closest("li"));c.data("index",c.data("index")+1),g.addClass("moved"),d.rtl?(f.css({right:-(100*c.data("index"))+"%"}),f.find(">.name").css({right:100*c.data("index")+"%"})):(f.css({left:-(100*c.data("index"))+"%"}),f.find(">.name").css({left:100*c.data("index")+"%"})),c.css("height",b.siblings("ul").outerHeight(!0)+c.data("height"))}}),e(b).off(".topbar").on("resize.fndtn.topbar",d.throttle(function(){d.resize.call(d)},50)).trigger("resize.fndtn.topbar").load(function(){e(this).trigger("resize.fndtn.topbar")}),e("body").off(".topbar").on("click.fndtn.topbar",function(a){var b=e(a.target).closest("li").closest("li.hover");b.length>0||e("["+d.attr_name()+"] li.hover").removeClass("hover")}),e(this.scope).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown .back",function(a){a.preventDefault();var b=e(this),c=b.closest("["+d.attr_name()+"]"),f=c.find("section, .top-bar-section"),g=(c.data(d.attr_name(!0)+"-init"),b.closest("li.moved")),h=g.parent();c.data("index",c.data("index")-1),d.rtl?(f.css({right:-(100*c.data("index"))+"%"}),f.find(">.name").css({right:100*c.data("index")+"%"})):(f.css({left:-(100*c.data("index"))+"%"}),f.find(">.name").css({left:100*c.data("index")+"%"})),0===c.data("index")?c.css("height",""):c.css("height",h.outerHeight(!0)+c.data("height")),setTimeout(function(){g.removeClass("moved")},300)}),e(this.scope).find(".dropdown a").focus(function(){a(this).parents(".has-dropdown").addClass("hover")}).blur(function(){a(this).parents(".has-dropdown").removeClass("hover")})},resize:function(){var a=this;a.S("["+this.attr_name()+"]").each(function(){var b,d=a.S(this),e=d.data(a.attr_name(!0)+"-init"),f=d.parent("."+a.settings.sticky_class);if(!a.breakpoint()){var g=d.hasClass("expanded");d.css("height","").removeClass("expanded").find("li").removeClass("hover"),g&&a.toggle(d)}a.is_sticky(d,f,e)&&(f.hasClass("fixed")?(f.removeClass("fixed"),b=f.offset().top,a.S(c.body).hasClass("f-topbar-fixed")&&(b-=d.data("height")),d.data("stickyoffset",b),f.addClass("fixed")):(b=f.offset().top,d.data("stickyoffset",b)))})},breakpoint:function(){return!matchMedia(Foundation.media_queries.topbar).matches},small:function(){return matchMedia(Foundation.media_queries.small).matches},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},assemble:function(b){var c=this,d=b.data(this.attr_name(!0)+"-init"),e=c.S("section, .top-bar-section",b);e.detach(),c.S(".has-dropdown>a",e).each(function(){var b,e=c.S(this),f=e.siblings(".dropdown"),g=e.attr("href");f.find(".title.back").length||(b=a(1==d.mobile_show_parent_link&&g?'<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li><li class="parent-link hide-for-medium-up"><a class="parent-link js-generated" href="'+g+'">'+e.html()+"</a></li>":'<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5>'),a("h5>a",b).html(1==d.custom_back_text?d.back_text:"&laquo; "+e.html()),f.prepend(b))}),e.appendTo(b),this.sticky(),this.assembled(b)},assembled:function(b){b.data(this.attr_name(!0),a.extend({},b.data(this.attr_name(!0)),{assembled:!0}))},height:function(b){var c=0,d=this;return a("> li",b).each(function(){c+=d.S(this).outerHeight(!0)}),c},sticky:function(){var a=this;this.S(b).on("scroll",function(){a.update_sticky_positioning()})},update_sticky_positioning:function(){var a="."+this.settings.sticky_class,c=this.S(b),d=this;if(d.settings.sticky_topbar&&d.is_sticky(this.settings.sticky_topbar,this.settings.sticky_topbar.parent(),this.settings)){var e=this.settings.sticky_topbar.data("stickyoffset")+this.settings.start_offset;d.S(a).hasClass("expanded")||(c.scrollTop()>e?d.S(a).hasClass("fixed")||(d.S(a).addClass("fixed"),d.S("body").addClass("f-topbar-fixed")):c.scrollTop()<=e&&d.S(a).hasClass("fixed")&&(d.S(a).removeClass("fixed"),d.S("body").removeClass("f-topbar-fixed")))}},off:function(){this.S(this.scope).off(".fndtn.topbar"),this.S(b).off(".fndtn.topbar")},reflow:function(){}}}(jQuery,window,window.document);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJmb3VuZGF0aW9uL2pzL2ZvdW5kYXRpb24ubWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihhLGIsYyxkKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGEpe3JldHVybihcInN0cmluZ1wiPT10eXBlb2YgYXx8YSBpbnN0YW5jZW9mIFN0cmluZykmJihhPWEucmVwbGFjZSgvXlsnXFxcXC9cIl0rfCg7XFxzP30pK3xbJ1xcXFwvXCJdKyQvZyxcIlwiKSksYX12YXIgZj1mdW5jdGlvbihiKXtmb3IodmFyIGM9Yi5sZW5ndGgsZD1hKFwiaGVhZFwiKTtjLS07KTA9PT1kLmhhcyhcIi5cIitiW2NdKS5sZW5ndGgmJmQuYXBwZW5kKCc8bWV0YSBjbGFzcz1cIicrYltjXSsnXCIgLz4nKX07ZihbXCJmb3VuZGF0aW9uLW1xLXNtYWxsXCIsXCJmb3VuZGF0aW9uLW1xLXNtYWxsLW9ubHlcIixcImZvdW5kYXRpb24tbXEtbWVkaXVtXCIsXCJmb3VuZGF0aW9uLW1xLW1lZGl1bS1vbmx5XCIsXCJmb3VuZGF0aW9uLW1xLWxhcmdlXCIsXCJmb3VuZGF0aW9uLW1xLWxhcmdlLW9ubHlcIixcImZvdW5kYXRpb24tbXEteGxhcmdlXCIsXCJmb3VuZGF0aW9uLW1xLXhsYXJnZS1vbmx5XCIsXCJmb3VuZGF0aW9uLW1xLXh4bGFyZ2VcIixcImZvdW5kYXRpb24tZGF0YS1hdHRyaWJ1dGUtbmFtZXNwYWNlXCJdKSxhKGZ1bmN0aW9uKCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZhc3RDbGljayYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGMuYm9keSYmRmFzdENsaWNrLmF0dGFjaChjLmJvZHkpfSk7dmFyIGc9ZnVuY3Rpb24oYixkKXtpZihcInN0cmluZ1wiPT10eXBlb2YgYil7aWYoZCl7dmFyIGU7aWYoZC5qcXVlcnkpe2lmKGU9ZFswXSwhZSlyZXR1cm4gZH1lbHNlIGU9ZDtyZXR1cm4gYShlLnF1ZXJ5U2VsZWN0b3JBbGwoYikpfXJldHVybiBhKGMucXVlcnlTZWxlY3RvckFsbChiKSl9cmV0dXJuIGEoYixkKX0saD1mdW5jdGlvbihhKXt2YXIgYj1bXTtyZXR1cm4gYXx8Yi5wdXNoKFwiZGF0YVwiKSx0aGlzLm5hbWVzcGFjZS5sZW5ndGg+MCYmYi5wdXNoKHRoaXMubmFtZXNwYWNlKSxiLnB1c2godGhpcy5uYW1lKSxiLmpvaW4oXCItXCIpfSxpPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLnNwbGl0KFwiLVwiKSxjPWIubGVuZ3RoLGQ9W107Yy0tOykwIT09Yz9kLnB1c2goYltjXSk6dGhpcy5uYW1lc3BhY2UubGVuZ3RoPjA/ZC5wdXNoKHRoaXMubmFtZXNwYWNlLGJbY10pOmQucHVzaChiW2NdKTtyZXR1cm4gZC5yZXZlcnNlKCkuam9pbihcIi1cIil9LGo9ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzLGU9ZnVuY3Rpb24oKXt2YXIgZT1nKHRoaXMpLGY9IWUuZGF0YShkLmF0dHJfbmFtZSghMCkrXCItaW5pdFwiKTtlLmRhdGEoZC5hdHRyX25hbWUoITApK1wiLWluaXRcIixhLmV4dGVuZCh7fSxkLnNldHRpbmdzLGN8fGIsZC5kYXRhX29wdGlvbnMoZSkpKSxmJiZkLmV2ZW50cyh0aGlzKX07cmV0dXJuIGcodGhpcy5zY29wZSkuaXMoXCJbXCIrdGhpcy5hdHRyX25hbWUoKStcIl1cIik/ZS5jYWxsKHRoaXMuc2NvcGUpOmcoXCJbXCIrdGhpcy5hdHRyX25hbWUoKStcIl1cIix0aGlzLnNjb3BlKS5lYWNoKGUpLFwic3RyaW5nXCI9PXR5cGVvZiBiP3RoaXNbYl0uY2FsbCh0aGlzLGMpOnZvaWQgMH0saz1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtiKGFbMF0pfWZ1bmN0aW9uIGQoKXtpZih0aGlzLm9uZShcImxvYWRcIixjKSwvTVNJRSAoXFxkK1xcLlxcZCspOy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSl7dmFyIGE9dGhpcy5hdHRyKFwic3JjXCIpLGI9YS5tYXRjaCgvXFw/Lyk/XCImXCI6XCI/XCI7Yis9XCJyYW5kb209XCIrKG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5hdHRyKFwic3JjXCIsYStiKX19cmV0dXJuIGEuYXR0cihcInNyY1wiKT92b2lkKGFbMF0uY29tcGxldGV8fDQ9PT1hWzBdLnJlYWR5U3RhdGU/YygpOmQuY2FsbChhKSk6dm9pZCBjKCl9Oy8qISBtYXRjaE1lZGlhKCkgcG9seWZpbGwgLSBUZXN0IGEgQ1NTIG1lZGlhIHR5cGUvcXVlcnkgaW4gSlMuIEF1dGhvcnMgJiBjb3B5cmlnaHQgKGMpIDIwMTI6IFNjb3R0IEplaGwsIFBhdWwgSXJpc2gsIE5pY2hvbGFzIFpha2FzLCBEYXZpZCBLbmlnaHQuIER1YWwgTUlUL0JTRCBsaWNlbnNlICovXG5iLm1hdGNoTWVkaWF8fChiLm1hdGNoTWVkaWE9ZnVuY3Rpb24oKXt2YXIgYT1iLnN0eWxlTWVkaWF8fGIubWVkaWE7aWYoIWEpe3ZhciBkPWMuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpLGU9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKVswXSxmPW51bGw7ZC50eXBlPVwidGV4dC9jc3NcIixkLmlkPVwibWF0Y2htZWRpYWpzLXRlc3RcIixlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGQsZSksZj1cImdldENvbXB1dGVkU3R5bGVcImluIGImJmIuZ2V0Q29tcHV0ZWRTdHlsZShkLG51bGwpfHxkLmN1cnJlbnRTdHlsZSxhPXttYXRjaE1lZGl1bTpmdW5jdGlvbihhKXt2YXIgYj1cIkBtZWRpYSBcIithK1wieyAjbWF0Y2htZWRpYWpzLXRlc3QgeyB3aWR0aDogMXB4OyB9IH1cIjtyZXR1cm4gZC5zdHlsZVNoZWV0P2Quc3R5bGVTaGVldC5jc3NUZXh0PWI6ZC50ZXh0Q29udGVudD1iLFwiMXB4XCI9PT1mLndpZHRofX19cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybnttYXRjaGVzOmEubWF0Y2hNZWRpdW0oYnx8XCJhbGxcIiksbWVkaWE6Ynx8XCJhbGxcIn19fSgpKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBjKCl7ZCYmKGcoYyksaSYmYS5meC50aWNrKCkpfWZvcih2YXIgZCxlPTAsZj1bXCJ3ZWJraXRcIixcIm1velwiXSxnPWIucmVxdWVzdEFuaW1hdGlvbkZyYW1lLGg9Yi5jYW5jZWxBbmltYXRpb25GcmFtZSxpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmZ4O2U8Zi5sZW5ndGgmJiFnO2UrKylnPWJbZltlXStcIlJlcXVlc3RBbmltYXRpb25GcmFtZVwiXSxoPWh8fGJbZltlXStcIkNhbmNlbEFuaW1hdGlvbkZyYW1lXCJdfHxiW2ZbZV0rXCJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl07Zz8oYi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZyxiLmNhbmNlbEFuaW1hdGlvbkZyYW1lPWgsaSYmKGEuZngudGltZXI9ZnVuY3Rpb24oYil7YigpJiZhLnRpbWVycy5wdXNoKGIpJiYhZCYmKGQ9ITAsYygpKX0sYS5meC5zdG9wPWZ1bmN0aW9uKCl7ZD0hMX0pKTooYi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oYSl7dmFyIGM9KG5ldyBEYXRlKS5nZXRUaW1lKCksZD1NYXRoLm1heCgwLDE2LShjLWUpKSxmPWIuc2V0VGltZW91dChmdW5jdGlvbigpe2EoYytkKX0sZCk7cmV0dXJuIGU9YytkLGZ9LGIuY2FuY2VsQW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oYSl7Y2xlYXJUaW1lb3V0KGEpfSl9KGEpLGIuRm91bmRhdGlvbj17bmFtZTpcIkZvdW5kYXRpb25cIix2ZXJzaW9uOlwiNS41LjJcIixtZWRpYV9xdWVyaWVzOntzbWFsbDpnKFwiLmZvdW5kYXRpb24tbXEtc21hbGxcIikuY3NzKFwiZm9udC1mYW1pbHlcIikucmVwbGFjZSgvXltcXC9cXFxcJ1wiXSt8KDtcXHM/fSkrfFtcXC9cXFxcJ1wiXSskL2csXCJcIiksXCJzbWFsbC1vbmx5XCI6ZyhcIi5mb3VuZGF0aW9uLW1xLXNtYWxsLW9ubHlcIikuY3NzKFwiZm9udC1mYW1pbHlcIikucmVwbGFjZSgvXltcXC9cXFxcJ1wiXSt8KDtcXHM/fSkrfFtcXC9cXFxcJ1wiXSskL2csXCJcIiksbWVkaXVtOmcoXCIuZm91bmRhdGlvbi1tcS1tZWRpdW1cIikuY3NzKFwiZm9udC1mYW1pbHlcIikucmVwbGFjZSgvXltcXC9cXFxcJ1wiXSt8KDtcXHM/fSkrfFtcXC9cXFxcJ1wiXSskL2csXCJcIiksXCJtZWRpdW0tb25seVwiOmcoXCIuZm91bmRhdGlvbi1tcS1tZWRpdW0tb25seVwiKS5jc3MoXCJmb250LWZhbWlseVwiKS5yZXBsYWNlKC9eW1xcL1xcXFwnXCJdK3woO1xccz99KSt8W1xcL1xcXFwnXCJdKyQvZyxcIlwiKSxsYXJnZTpnKFwiLmZvdW5kYXRpb24tbXEtbGFyZ2VcIikuY3NzKFwiZm9udC1mYW1pbHlcIikucmVwbGFjZSgvXltcXC9cXFxcJ1wiXSt8KDtcXHM/fSkrfFtcXC9cXFxcJ1wiXSskL2csXCJcIiksXCJsYXJnZS1vbmx5XCI6ZyhcIi5mb3VuZGF0aW9uLW1xLWxhcmdlLW9ubHlcIikuY3NzKFwiZm9udC1mYW1pbHlcIikucmVwbGFjZSgvXltcXC9cXFxcJ1wiXSt8KDtcXHM/fSkrfFtcXC9cXFxcJ1wiXSskL2csXCJcIikseGxhcmdlOmcoXCIuZm91bmRhdGlvbi1tcS14bGFyZ2VcIikuY3NzKFwiZm9udC1mYW1pbHlcIikucmVwbGFjZSgvXltcXC9cXFxcJ1wiXSt8KDtcXHM/fSkrfFtcXC9cXFxcJ1wiXSskL2csXCJcIiksXCJ4bGFyZ2Utb25seVwiOmcoXCIuZm91bmRhdGlvbi1tcS14bGFyZ2Utb25seVwiKS5jc3MoXCJmb250LWZhbWlseVwiKS5yZXBsYWNlKC9eW1xcL1xcXFwnXCJdK3woO1xccz99KSt8W1xcL1xcXFwnXCJdKyQvZyxcIlwiKSx4eGxhcmdlOmcoXCIuZm91bmRhdGlvbi1tcS14eGxhcmdlXCIpLmNzcyhcImZvbnQtZmFtaWx5XCIpLnJlcGxhY2UoL15bXFwvXFxcXCdcIl0rfCg7XFxzP30pK3xbXFwvXFxcXCdcIl0rJC9nLFwiXCIpfSxzdHlsZXNoZWV0OmEoXCI8c3R5bGU+PC9zdHlsZT5cIikuYXBwZW5kVG8oXCJoZWFkXCIpWzBdLnNoZWV0LGdsb2JhbDp7bmFtZXNwYWNlOmR9LGluaXQ6ZnVuY3Rpb24oYSxjLGQsZSxmKXt2YXIgaD1bYSxkLGUsZl0saT1bXTtpZih0aGlzLnJ0bD0vcnRsL2kudGVzdChnKFwiaHRtbFwiKS5hdHRyKFwiZGlyXCIpKSx0aGlzLnNjb3BlPWF8fHRoaXMuc2NvcGUsdGhpcy5zZXRfbmFtZXNwYWNlKCksYyYmXCJzdHJpbmdcIj09dHlwZW9mIGMmJiEvcmVmbG93L2kudGVzdChjKSl0aGlzLmxpYnMuaGFzT3duUHJvcGVydHkoYykmJmkucHVzaCh0aGlzLmluaXRfbGliKGMsaCkpO2Vsc2UgZm9yKHZhciBqIGluIHRoaXMubGlicylpLnB1c2godGhpcy5pbml0X2xpYihqLGMpKTtyZXR1cm4gZyhiKS5sb2FkKGZ1bmN0aW9uKCl7ZyhiKS50cmlnZ2VyKFwicmVzaXplLmZuZHRuLmNsZWFyaW5nXCIpLnRyaWdnZXIoXCJyZXNpemUuZm5kdG4uZHJvcGRvd25cIikudHJpZ2dlcihcInJlc2l6ZS5mbmR0bi5lcXVhbGl6ZXJcIikudHJpZ2dlcihcInJlc2l6ZS5mbmR0bi5pbnRlcmNoYW5nZVwiKS50cmlnZ2VyKFwicmVzaXplLmZuZHRuLmpveXJpZGVcIikudHJpZ2dlcihcInJlc2l6ZS5mbmR0bi5tYWdlbGxhblwiKS50cmlnZ2VyKFwicmVzaXplLmZuZHRuLnRvcGJhclwiKS50cmlnZ2VyKFwicmVzaXplLmZuZHRuLnNsaWRlclwiKX0pLGF9LGluaXRfbGliOmZ1bmN0aW9uKGIsYyl7cmV0dXJuIHRoaXMubGlicy5oYXNPd25Qcm9wZXJ0eShiKT8odGhpcy5wYXRjaCh0aGlzLmxpYnNbYl0pLGMmJmMuaGFzT3duUHJvcGVydHkoYik/KFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLmxpYnNbYl0uc2V0dGluZ3M/YS5leHRlbmQoITAsdGhpcy5saWJzW2JdLnNldHRpbmdzLGNbYl0pOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLmxpYnNbYl0uZGVmYXVsdHMmJmEuZXh0ZW5kKCEwLHRoaXMubGlic1tiXS5kZWZhdWx0cyxjW2JdKSx0aGlzLmxpYnNbYl0uaW5pdC5hcHBseSh0aGlzLmxpYnNbYl0sW3RoaXMuc2NvcGUsY1tiXV0pKTooYz1jIGluc3RhbmNlb2YgQXJyYXk/YzpuZXcgQXJyYXkoYyksdGhpcy5saWJzW2JdLmluaXQuYXBwbHkodGhpcy5saWJzW2JdLGMpKSk6ZnVuY3Rpb24oKXt9fSxwYXRjaDpmdW5jdGlvbihhKXthLnNjb3BlPXRoaXMuc2NvcGUsYS5uYW1lc3BhY2U9dGhpcy5nbG9iYWwubmFtZXNwYWNlLGEucnRsPXRoaXMucnRsLGEuZGF0YV9vcHRpb25zPXRoaXMudXRpbHMuZGF0YV9vcHRpb25zLGEuYXR0cl9uYW1lPWgsYS5hZGRfbmFtZXNwYWNlPWksYS5iaW5kaW5ncz1qLGEuUz10aGlzLnV0aWxzLlN9LGluaGVyaXQ6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9Yi5zcGxpdChcIiBcIiksZD1jLmxlbmd0aDtkLS07KXRoaXMudXRpbHMuaGFzT3duUHJvcGVydHkoY1tkXSkmJihhW2NbZF1dPXRoaXMudXRpbHNbY1tkXV0pfSxzZXRfbmFtZXNwYWNlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5nbG9iYWwubmFtZXNwYWNlPT09ZD9hKFwiLmZvdW5kYXRpb24tZGF0YS1hdHRyaWJ1dGUtbmFtZXNwYWNlXCIpLmNzcyhcImZvbnQtZmFtaWx5XCIpOnRoaXMuZ2xvYmFsLm5hbWVzcGFjZTt0aGlzLmdsb2JhbC5uYW1lc3BhY2U9Yj09PWR8fC9mYWxzZS9pLnRlc3QoYik/XCJcIjpifSxsaWJzOnt9LHV0aWxzOntTOmcsdGhyb3R0bGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsO3JldHVybiBmdW5jdGlvbigpe3ZhciBkPXRoaXMsZT1hcmd1bWVudHM7bnVsbD09YyYmKGM9c2V0VGltZW91dChmdW5jdGlvbigpe2EuYXBwbHkoZCxlKSxjPW51bGx9LGIpKX19LGRlYm91bmNlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlO3JldHVybiBmdW5jdGlvbigpe3ZhciBmPXRoaXMsZz1hcmd1bWVudHMsaD1mdW5jdGlvbigpe2Q9bnVsbCxjfHwoZT1hLmFwcGx5KGYsZykpfSxpPWMmJiFkO3JldHVybiBjbGVhclRpbWVvdXQoZCksZD1zZXRUaW1lb3V0KGgsYiksaSYmKGU9YS5hcHBseShmLGcpKSxlfX0sZGF0YV9vcHRpb25zOmZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZChhKXtyZXR1cm4haXNOYU4oYS0wKSYmbnVsbCE9PWEmJlwiXCIhPT1hJiZhIT09ITEmJmEhPT0hMH1mdW5jdGlvbiBlKGIpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBiP2EudHJpbShiKTpifWM9Y3x8XCJvcHRpb25zXCI7dmFyIGYsZyxoLGk9e30saj1mdW5jdGlvbihhKXt2YXIgYj1Gb3VuZGF0aW9uLmdsb2JhbC5uYW1lc3BhY2U7cmV0dXJuIGEuZGF0YShiLmxlbmd0aD4wP2IrXCItXCIrYzpjKX0saz1qKGIpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBrKXJldHVybiBrO2ZvcihoPShrfHxcIjpcIikuc3BsaXQoXCI7XCIpLGY9aC5sZW5ndGg7Zi0tOylnPWhbZl0uc3BsaXQoXCI6XCIpLGc9W2dbMF0sZy5zbGljZSgxKS5qb2luKFwiOlwiKV0sL3RydWUvaS50ZXN0KGdbMV0pJiYoZ1sxXT0hMCksL2ZhbHNlL2kudGVzdChnWzFdKSYmKGdbMV09ITEpLGQoZ1sxXSkmJigtMT09PWdbMV0uaW5kZXhPZihcIi5cIik/Z1sxXT1wYXJzZUludChnWzFdLDEwKTpnWzFdPXBhcnNlRmxvYXQoZ1sxXSkpLDI9PT1nLmxlbmd0aCYmZ1swXS5sZW5ndGg+MCYmKGlbZShnWzBdKV09ZShnWzFdKSk7cmV0dXJuIGl9LHJlZ2lzdGVyX21lZGlhOmZ1bmN0aW9uKGIsYyl7Rm91bmRhdGlvbi5tZWRpYV9xdWVyaWVzW2JdPT09ZCYmKGEoXCJoZWFkXCIpLmFwcGVuZCgnPG1ldGEgY2xhc3M9XCInK2MrJ1wiLz4nKSxGb3VuZGF0aW9uLm1lZGlhX3F1ZXJpZXNbYl09ZShhKFwiLlwiK2MpLmNzcyhcImZvbnQtZmFtaWx5XCIpKSl9LGFkZF9jdXN0b21fcnVsZTpmdW5jdGlvbihhLGIpe2lmKGI9PT1kJiZGb3VuZGF0aW9uLnN0eWxlc2hlZXQpRm91bmRhdGlvbi5zdHlsZXNoZWV0Lmluc2VydFJ1bGUoYSxGb3VuZGF0aW9uLnN0eWxlc2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtlbHNle3ZhciBjPUZvdW5kYXRpb24ubWVkaWFfcXVlcmllc1tiXTtjIT09ZCYmRm91bmRhdGlvbi5zdHlsZXNoZWV0Lmluc2VydFJ1bGUoXCJAbWVkaWEgXCIrRm91bmRhdGlvbi5tZWRpYV9xdWVyaWVzW2JdK1wieyBcIithK1wiIH1cIixGb3VuZGF0aW9uLnN0eWxlc2hlZXQuY3NzUnVsZXMubGVuZ3RoKX19LGltYWdlX2xvYWRlZDpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7Zm9yKHZhciBiPWEubGVuZ3RoLGM9Yi0xO2M+PTA7Yy0tKWlmKGEuYXR0cihcImhlaWdodFwiKT09PWQpcmV0dXJuITE7cmV0dXJuITB9dmFyIGU9dGhpcyxmPWEubGVuZ3RoOygwPT09Znx8YyhhKSkmJmIoYSksYS5lYWNoKGZ1bmN0aW9uKCl7ayhlLlModGhpcyksZnVuY3Rpb24oKXtmLT0xLDA9PT1mJiZiKGEpfSl9KX0scmFuZG9tX3N0cjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpZHh8fCh0aGlzLmZpZHg9MCksdGhpcy5wcmVmaXg9dGhpcy5wcmVmaXh8fFt0aGlzLm5hbWV8fFwiRlwiLCgrbmV3IERhdGUpLnRvU3RyaW5nKDM2KV0uam9pbihcIi1cIiksdGhpcy5wcmVmaXgrKHRoaXMuZmlkeCsrKS50b1N0cmluZygzNil9LG1hdGNoOmZ1bmN0aW9uKGEpe3JldHVybiBiLm1hdGNoTWVkaWEoYSkubWF0Y2hlc30saXNfc21hbGxfdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXRjaChGb3VuZGF0aW9uLm1lZGlhX3F1ZXJpZXMuc21hbGwpfSxpc19tZWRpdW1fdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXRjaChGb3VuZGF0aW9uLm1lZGlhX3F1ZXJpZXMubWVkaXVtKX0saXNfbGFyZ2VfdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXRjaChGb3VuZGF0aW9uLm1lZGlhX3F1ZXJpZXMubGFyZ2UpfSxpc194bGFyZ2VfdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXRjaChGb3VuZGF0aW9uLm1lZGlhX3F1ZXJpZXMueGxhcmdlKX0saXNfeHhsYXJnZV91cDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hdGNoKEZvdW5kYXRpb24ubWVkaWFfcXVlcmllcy54eGxhcmdlKX0saXNfc21hbGxfb25seTpmdW5jdGlvbigpe3JldHVybiEodGhpcy5pc19tZWRpdW1fdXAoKXx8dGhpcy5pc19sYXJnZV91cCgpfHx0aGlzLmlzX3hsYXJnZV91cCgpfHx0aGlzLmlzX3h4bGFyZ2VfdXAoKSl9LGlzX21lZGl1bV9vbmx5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNfbWVkaXVtX3VwKCkmJiF0aGlzLmlzX2xhcmdlX3VwKCkmJiF0aGlzLmlzX3hsYXJnZV91cCgpJiYhdGhpcy5pc194eGxhcmdlX3VwKCl9LGlzX2xhcmdlX29ubHk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc19tZWRpdW1fdXAoKSYmdGhpcy5pc19sYXJnZV91cCgpJiYhdGhpcy5pc194bGFyZ2VfdXAoKSYmIXRoaXMuaXNfeHhsYXJnZV91cCgpfSxpc194bGFyZ2Vfb25seTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzX21lZGl1bV91cCgpJiZ0aGlzLmlzX2xhcmdlX3VwKCkmJnRoaXMuaXNfeGxhcmdlX3VwKCkmJiF0aGlzLmlzX3h4bGFyZ2VfdXAoKX0saXNfeHhsYXJnZV9vbmx5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNfbWVkaXVtX3VwKCkmJnRoaXMuaXNfbGFyZ2VfdXAoKSYmdGhpcy5pc194bGFyZ2VfdXAoKSYmdGhpcy5pc194eGxhcmdlX3VwKCl9fX0sYS5mbi5mb3VuZGF0aW9uPWZ1bmN0aW9uKCl7dmFyIGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtyZXR1cm4gRm91bmRhdGlvbi5pbml0LmFwcGx5KEZvdW5kYXRpb24sW3RoaXNdLmNvbmNhdChhKSksdGhpc30pfX0oalF1ZXJ5LHdpbmRvdyx3aW5kb3cuZG9jdW1lbnQpLGZ1bmN0aW9uKGEsYixjLGQpe1widXNlIHN0cmljdFwiO0ZvdW5kYXRpb24ubGlicy5hYmlkZT17bmFtZTpcImFiaWRlXCIsdmVyc2lvbjpcIjUuNS4yXCIsc2V0dGluZ3M6e2xpdmVfdmFsaWRhdGU6ITAsdmFsaWRhdGVfb25fYmx1cjohMCxmb2N1c19vbl9pbnZhbGlkOiEwLGVycm9yX2xhYmVsczohMCxlcnJvcl9jbGFzczpcImVycm9yXCIsdGltZW91dDoxZTMscGF0dGVybnM6e2FscGhhOi9eW2EtekEtWl0rJC8sYWxwaGFfbnVtZXJpYzovXlthLXpBLVowLTldKyQvLGludGVnZXI6L15bLStdP1xcZCskLyxudW1iZXI6L15bLStdP1xcZCooPzpbXFwuXFwsXVxcZCspPyQvLGNhcmQ6L14oPzo0WzAtOV17MTJ9KD86WzAtOV17M30pP3w1WzEtNV1bMC05XXsxNH18Nig/OjAxMXw1WzAtOV1bMC05XSlbMC05XXsxMn18M1s0N11bMC05XXsxM318Myg/OjBbMC01XXxbNjhdWzAtOV0pWzAtOV17MTF9fCg/OjIxMzF8MTgwMHwzNVxcZHszfSlcXGR7MTF9KSQvLGN2djovXihbMC05XSl7Myw0fSQvLGVtYWlsOi9eW2EtekEtWjAtOS4hIyQlJicqK1xcLz0/Xl9ge3x9fi1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKyQvLHVybDovXihodHRwcz98ZnRwfGZpbGV8c3NoKTpcXC9cXC8oWy07OiY9XFwrXFwkLFxcd10rQHsxfSk/KFstQS1aYS16MC05XFwuXSspKzo/KFxcZCspPygoXFwvWy1cXCt+JVxcL1xcLlxcd10rKT9cXD8/KFstXFwrPSY7JUBcXC5cXHddKyk/Iz8oW1xcd10rKT8pPy8sZG9tYWluOi9eKFthLXpBLVowLTldKFthLXpBLVowLTlcXC1dezAsNjF9W2EtekEtWjAtOV0pP1xcLikrW2EtekEtWl17Miw4fSQvLGRhdGV0aW1lOi9eKFswLTJdWzAtOV17M30pXFwtKFswLTFdWzAtOV0pXFwtKFswLTNdWzAtOV0pVChbMC01XVswLTldKVxcOihbMC01XVswLTldKVxcOihbMC01XVswLTldKShafChbXFwtXFwrXShbMC0xXVswLTldKVxcOjAwKSkkLyxkYXRlOi8oPzoxOXwyMClbMC05XXsyfS0oPzooPzowWzEtOV18MVswLTJdKS0oPzowWzEtOV18MVswLTldfDJbMC05XSl8KD86KD8hMDIpKD86MFsxLTldfDFbMC0yXSktKD86MzApKXwoPzooPzowWzEzNTc4XXwxWzAyXSktMzEpKSQvLHRpbWU6L14oMFswLTldfDFbMC05XXwyWzAtM10pKDpbMC01XVswLTldKXsyfSQvLGRhdGVJU086L15cXGR7NH1bXFwvXFwtXVxcZHsxLDJ9W1xcL1xcLV1cXGR7MSwyfSQvLG1vbnRoX2RheV95ZWFyOi9eKDBbMS05XXwxWzAxMl0pWy0gXFwvLl0oMFsxLTldfFsxMl1bMC05XXwzWzAxXSlbLSBcXC8uXVxcZHs0fSQvLGRheV9tb250aF95ZWFyOi9eKDBbMS05XXxbMTJdWzAtOV18M1swMV0pWy0gXFwvLl0oMFsxLTldfDFbMDEyXSlbLSBcXC8uXVxcZHs0fSQvLGNvbG9yOi9eIz8oW2EtZkEtRjAtOV17Nn18W2EtZkEtRjAtOV17M30pJC99LHZhbGlkYXRvcnM6e2VxdWFsVG86ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPWMuZ2V0RWxlbWVudEJ5SWQoYS5nZXRBdHRyaWJ1dGUodGhpcy5hZGRfbmFtZXNwYWNlKFwiZGF0YS1lcXVhbHRvXCIpKSkudmFsdWUsZj1hLnZhbHVlLGc9ZT09PWY7cmV0dXJuIGd9fX0sdGltZXI6bnVsbCxpbml0OmZ1bmN0aW9uKGEsYixjKXt0aGlzLmJpbmRpbmdzKGIsYyl9LGV2ZW50czpmdW5jdGlvbihiKXtmdW5jdGlvbiBjKGEsYil7Y2xlYXJUaW1lb3V0KGQudGltZXIpLGQudGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2QudmFsaWRhdGUoW2FdLGIpfS5iaW5kKGEpLGYudGltZW91dCl9dmFyIGQ9dGhpcyxlPWQuUyhiKS5hdHRyKFwibm92YWxpZGF0ZVwiLFwibm92YWxpZGF0ZVwiKSxmPWUuZGF0YSh0aGlzLmF0dHJfbmFtZSghMCkrXCItaW5pdFwiKXx8e307dGhpcy5pbnZhbGlkX2F0dHI9dGhpcy5hZGRfbmFtZXNwYWNlKFwiZGF0YS1pbnZhbGlkXCIpLGUub2ZmKFwiLmFiaWRlXCIpLm9uKFwic3VibWl0LmZuZHRuLmFiaWRlXCIsZnVuY3Rpb24oYSl7dmFyIGI9L2FqYXgvaS50ZXN0KGQuUyh0aGlzKS5hdHRyKGQuYXR0cl9uYW1lKCkpKTtyZXR1cm4gZC52YWxpZGF0ZShkLlModGhpcykuZmluZChcImlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0XCIpLm5vdChcIjpoaWRkZW4sIFtkYXRhLWFiaWRlLWlnbm9yZV1cIikuZ2V0KCksYSxiKX0pLm9uKFwidmFsaWRhdGUuZm5kdG4uYWJpZGVcIixmdW5jdGlvbihhKXtcIm1hbnVhbFwiPT09Zi52YWxpZGF0ZV9vbiYmZC52YWxpZGF0ZShbYS50YXJnZXRdLGEpfSkub24oXCJyZXNldFwiLGZ1bmN0aW9uKGIpe3JldHVybiBkLnJlc2V0KGEodGhpcyksYil9KS5maW5kKFwiaW5wdXQsIHRleHRhcmVhLCBzZWxlY3RcIikubm90KFwiOmhpZGRlbiwgW2RhdGEtYWJpZGUtaWdub3JlXVwiKS5vZmYoXCIuYWJpZGVcIikub24oXCJibHVyLmZuZHRuLmFiaWRlIGNoYW5nZS5mbmR0bi5hYmlkZVwiLGZ1bmN0aW9uKGEpe2YudmFsaWRhdGVfb25fYmx1ciYmZi52YWxpZGF0ZV9vbl9ibHVyPT09ITAmJmModGhpcyxhKSxcImNoYW5nZVwiPT09Zi52YWxpZGF0ZV9vbiYmYyh0aGlzLGEpfSkub24oXCJrZXlkb3duLmZuZHRuLmFiaWRlXCIsZnVuY3Rpb24oYSl7Zi5saXZlX3ZhbGlkYXRlJiZmLmxpdmVfdmFsaWRhdGU9PT0hMCYmOSE9YS53aGljaCYmYyh0aGlzLGEpLFwidGFiXCI9PT1mLnZhbGlkYXRlX29uJiY5PT09YS53aGljaD9jKHRoaXMsYSk6XCJjaGFuZ2VcIj09PWYudmFsaWRhdGVfb24mJmModGhpcyxhKX0pLm9uKFwiZm9jdXNcIixmdW5jdGlvbihiKXtuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUGFkfGlQaG9uZXxBbmRyb2lkfEJsYWNrQmVycnl8V2luZG93cyBQaG9uZXx3ZWJPUy9pKSYmYShcImh0bWwsIGJvZHlcIikuYW5pbWF0ZSh7c2Nyb2xsVG9wOmEoYi50YXJnZXQpLm9mZnNldCgpLnRvcH0sMTAwKX0pfSxyZXNldDpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXM7Yi5yZW1vdmVBdHRyKGQuaW52YWxpZF9hdHRyKSxhKFwiW1wiK2QuaW52YWxpZF9hdHRyK1wiXVwiLGIpLnJlbW92ZUF0dHIoZC5pbnZhbGlkX2F0dHIpLGEoXCIuXCIrZC5zZXR0aW5ncy5lcnJvcl9jbGFzcyxiKS5ub3QoXCJzbWFsbFwiKS5yZW1vdmVDbGFzcyhkLnNldHRpbmdzLmVycm9yX2NsYXNzKSxhKFwiOmlucHV0XCIsYikubm90KFwiOmJ1dHRvbiwgOnN1Ym1pdCwgOnJlc2V0LCA6aGlkZGVuLCBbZGF0YS1hYmlkZS1pZ25vcmVdXCIpLnZhbChcIlwiKS5yZW1vdmVBdHRyKGQuaW52YWxpZF9hdHRyKX0sdmFsaWRhdGU6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD10aGlzLnBhcnNlX3BhdHRlcm5zKGEpLGU9ZC5sZW5ndGgsZj10aGlzLlMoYVswXSkuY2xvc2VzdChcImZvcm1cIiksZz0vc3VibWl0Ly50ZXN0KGIudHlwZSksaD0wO2U+aDtoKyspaWYoIWRbaF0mJihnfHxjKSlyZXR1cm4gdGhpcy5zZXR0aW5ncy5mb2N1c19vbl9pbnZhbGlkJiZhW2hdLmZvY3VzKCksZi50cmlnZ2VyKFwiaW52YWxpZC5mbmR0bi5hYmlkZVwiKSx0aGlzLlMoYVtoXSkuY2xvc2VzdChcImZvcm1cIikuYXR0cih0aGlzLmludmFsaWRfYXR0cixcIlwiKSwhMTtyZXR1cm4oZ3x8YykmJmYudHJpZ2dlcihcInZhbGlkLmZuZHRuLmFiaWRlXCIpLGYucmVtb3ZlQXR0cih0aGlzLmludmFsaWRfYXR0ciksYz8hMTohMH0scGFyc2VfcGF0dGVybnM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEubGVuZ3RoLGM9W107Yi0tOyljLnB1c2godGhpcy5wYXR0ZXJuKGFbYl0pKTtyZXR1cm4gdGhpcy5jaGVja192YWxpZGF0aW9uX2FuZF9hcHBseV9zdHlsZXMoYyl9LHBhdHRlcm46ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpLGM9XCJzdHJpbmdcIj09dHlwZW9mIGEuZ2V0QXR0cmlidXRlKFwicmVxdWlyZWRcIiksZD1hLmdldEF0dHJpYnV0ZShcInBhdHRlcm5cIil8fFwiXCI7cmV0dXJuIHRoaXMuc2V0dGluZ3MucGF0dGVybnMuaGFzT3duUHJvcGVydHkoZCkmJmQubGVuZ3RoPjA/W2EsdGhpcy5zZXR0aW5ncy5wYXR0ZXJuc1tkXSxjXTpkLmxlbmd0aD4wP1thLG5ldyBSZWdFeHAoZCksY106dGhpcy5zZXR0aW5ncy5wYXR0ZXJucy5oYXNPd25Qcm9wZXJ0eShiKT9bYSx0aGlzLnNldHRpbmdzLnBhdHRlcm5zW2JdLGNdOihkPS8uKi8sW2EsZCxjXSl9LGNoZWNrX3ZhbGlkYXRpb25fYW5kX2FwcGx5X3N0eWxlczpmdW5jdGlvbihiKXt2YXIgYz1iLmxlbmd0aCxkPVtdLGU9dGhpcy5TKGJbMF1bMF0pLmNsb3Nlc3QoXCJbZGF0YS1cIit0aGlzLmF0dHJfbmFtZSghMCkrXCJdXCIpO2ZvcihlLmRhdGEodGhpcy5hdHRyX25hbWUoITApK1wiLWluaXRcIil8fHt9O2MtLTspe3ZhciBmLGcsaD1iW2NdWzBdLGk9YltjXVsyXSxqPWgudmFsdWUudHJpbSgpLGs9dGhpcy5TKGgpLnBhcmVudCgpLGw9aC5nZXRBdHRyaWJ1dGUodGhpcy5hZGRfbmFtZXNwYWNlKFwiZGF0YS1hYmlkZS12YWxpZGF0b3JcIikpLG09XCJyYWRpb1wiPT09aC50eXBlLG49XCJjaGVja2JveFwiPT09aC50eXBlLG89dGhpcy5TKCdsYWJlbFtmb3I9XCInK2guZ2V0QXR0cmlidXRlKFwiaWRcIikrJ1wiXScpLHA9aT9oLnZhbHVlLmxlbmd0aD4wOiEwLHE9W107aWYoaC5nZXRBdHRyaWJ1dGUodGhpcy5hZGRfbmFtZXNwYWNlKFwiZGF0YS1lcXVhbHRvXCIpKSYmKGw9XCJlcXVhbFRvXCIpLGY9ay5pcyhcImxhYmVsXCIpP2sucGFyZW50KCk6ayxtJiZpKXEucHVzaCh0aGlzLnZhbGlkX3JhZGlvKGgsaSkpO2Vsc2UgaWYobiYmaSlxLnB1c2godGhpcy52YWxpZF9jaGVja2JveChoLGkpKTtlbHNlIGlmKGwpe2Zvcih2YXIgcj1sLnNwbGl0KFwiIFwiKSxzPSEwLHQ9ITAsdT0wO3U8ci5sZW5ndGg7dSsrKWc9dGhpcy5zZXR0aW5ncy52YWxpZGF0b3JzW3JbdV1dLmFwcGx5KHRoaXMsW2gsaSxmXSkscS5wdXNoKGcpLHQ9ZyYmcyxzPWc7dD8odGhpcy5TKGgpLnJlbW92ZUF0dHIodGhpcy5pbnZhbGlkX2F0dHIpLGYucmVtb3ZlQ2xhc3MoXCJlcnJvclwiKSxvLmxlbmd0aD4wJiZ0aGlzLnNldHRpbmdzLmVycm9yX2xhYmVscyYmby5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLmVycm9yX2NsYXNzKS5yZW1vdmVBdHRyKFwicm9sZVwiKSxhKGgpLnRyaWdnZXJIYW5kbGVyKFwidmFsaWRcIikpOih0aGlzLlMoaCkuYXR0cih0aGlzLmludmFsaWRfYXR0cixcIlwiKSxmLmFkZENsYXNzKFwiZXJyb3JcIiksby5sZW5ndGg+MCYmdGhpcy5zZXR0aW5ncy5lcnJvcl9sYWJlbHMmJm8uYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5lcnJvcl9jbGFzcykuYXR0cihcInJvbGVcIixcImFsZXJ0XCIpLGEoaCkudHJpZ2dlckhhbmRsZXIoXCJpbnZhbGlkXCIpKX1lbHNlIGlmKHEucHVzaChiW2NdWzFdLnRlc3QoaikmJnB8fCFpJiZoLnZhbHVlLmxlbmd0aDwxfHxhKGgpLmF0dHIoXCJkaXNhYmxlZFwiKT8hMDohMSkscT1bcS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYX0pXSxxWzBdKXRoaXMuUyhoKS5yZW1vdmVBdHRyKHRoaXMuaW52YWxpZF9hdHRyKSxoLnNldEF0dHJpYnV0ZShcImFyaWEtaW52YWxpZFwiLFwiZmFsc2VcIiksaC5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWRlc2NyaWJlZGJ5XCIpLGYucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy5lcnJvcl9jbGFzcyksby5sZW5ndGg+MCYmdGhpcy5zZXR0aW5ncy5lcnJvcl9sYWJlbHMmJm8ucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy5lcnJvcl9jbGFzcykucmVtb3ZlQXR0cihcInJvbGVcIiksYShoKS50cmlnZ2VySGFuZGxlcihcInZhbGlkXCIpO2Vsc2V7dGhpcy5TKGgpLmF0dHIodGhpcy5pbnZhbGlkX2F0dHIsXCJcIiksaC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWludmFsaWRcIixcInRydWVcIik7dmFyIHY9Zi5maW5kKFwic21hbGwuXCIrdGhpcy5zZXR0aW5ncy5lcnJvcl9jbGFzcyxcInNwYW4uXCIrdGhpcy5zZXR0aW5ncy5lcnJvcl9jbGFzcyksdz12Lmxlbmd0aD4wP3ZbMF0uaWQ6XCJcIjt3Lmxlbmd0aD4wJiZoLnNldEF0dHJpYnV0ZShcImFyaWEtZGVzY3JpYmVkYnlcIix3KSxmLmFkZENsYXNzKHRoaXMuc2V0dGluZ3MuZXJyb3JfY2xhc3MpLG8ubGVuZ3RoPjAmJnRoaXMuc2V0dGluZ3MuZXJyb3JfbGFiZWxzJiZvLmFkZENsYXNzKHRoaXMuc2V0dGluZ3MuZXJyb3JfY2xhc3MpLmF0dHIoXCJyb2xlXCIsXCJhbGVydFwiKSxhKGgpLnRyaWdnZXJIYW5kbGVyKFwiaW52YWxpZFwiKX1kPWQuY29uY2F0KHEpfXJldHVybiBkfSx2YWxpZF9jaGVja2JveDpmdW5jdGlvbihiLGMpe3ZhciBiPXRoaXMuUyhiKSxkPWIuaXMoXCI6Y2hlY2tlZFwiKXx8IWN8fGIuZ2V0KDApLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpO3JldHVybiBkPyhiLnJlbW92ZUF0dHIodGhpcy5pbnZhbGlkX2F0dHIpLnBhcmVudCgpLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MuZXJyb3JfY2xhc3MpLGEoYikudHJpZ2dlckhhbmRsZXIoXCJ2YWxpZFwiKSk6KGIuYXR0cih0aGlzLmludmFsaWRfYXR0cixcIlwiKS5wYXJlbnQoKS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmVycm9yX2NsYXNzKSxhKGIpLnRyaWdnZXJIYW5kbGVyKFwiaW52YWxpZFwiKSksZH0sdmFsaWRfcmFkaW86ZnVuY3Rpb24oYixjKXtmb3IodmFyIGQ9Yi5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpLGU9dGhpcy5TKGIpLmNsb3Nlc3QoXCJbZGF0YS1cIit0aGlzLmF0dHJfbmFtZSghMCkrXCJdXCIpLmZpbmQoXCJbbmFtZT0nXCIrZCtcIiddXCIpLGY9ZS5sZW5ndGgsZz0hMSxoPSExLGk9MDtmPmk7aSsrKWVbaV0uZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIik/KGg9ITAsZz0hMCk6ZVtpXS5jaGVja2VkP2c9ITA6aCYmKGc9ITEpO2Zvcih2YXIgaT0wO2Y+aTtpKyspZz8odGhpcy5TKGVbaV0pLnJlbW92ZUF0dHIodGhpcy5pbnZhbGlkX2F0dHIpLnBhcmVudCgpLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MuZXJyb3JfY2xhc3MpLGEoZVtpXSkudHJpZ2dlckhhbmRsZXIoXCJ2YWxpZFwiKSk6KHRoaXMuUyhlW2ldKS5hdHRyKHRoaXMuaW52YWxpZF9hdHRyLFwiXCIpLnBhcmVudCgpLmFkZENsYXNzKHRoaXMuc2V0dGluZ3MuZXJyb3JfY2xhc3MpLGEoZVtpXSkudHJpZ2dlckhhbmRsZXIoXCJpbnZhbGlkXCIpKTtyZXR1cm4gZ30sdmFsaWRfZXF1YWw6ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPWMuZ2V0RWxlbWVudEJ5SWQoYS5nZXRBdHRyaWJ1dGUodGhpcy5hZGRfbmFtZXNwYWNlKFwiZGF0YS1lcXVhbHRvXCIpKSkudmFsdWUsZj1hLnZhbHVlLGc9ZT09PWY7cmV0dXJuIGc/KHRoaXMuUyhhKS5yZW1vdmVBdHRyKHRoaXMuaW52YWxpZF9hdHRyKSxkLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MuZXJyb3JfY2xhc3MpLGxhYmVsLmxlbmd0aD4wJiZzZXR0aW5ncy5lcnJvcl9sYWJlbHMmJmxhYmVsLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MuZXJyb3JfY2xhc3MpKToodGhpcy5TKGEpLmF0dHIodGhpcy5pbnZhbGlkX2F0dHIsXCJcIiksZC5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmVycm9yX2NsYXNzKSxsYWJlbC5sZW5ndGg+MCYmc2V0dGluZ3MuZXJyb3JfbGFiZWxzJiZsYWJlbC5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmVycm9yX2NsYXNzKSksZ30sdmFsaWRfb25lb2Y6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGE9dGhpcy5TKGEpLGU9dGhpcy5TKFwiW1wiK3RoaXMuYWRkX25hbWVzcGFjZShcImRhdGEtb25lb2ZcIikrXCJdXCIpLGY9ZS5maWx0ZXIoXCI6Y2hlY2tlZFwiKS5sZW5ndGg+MDtpZihmP2EucmVtb3ZlQXR0cih0aGlzLmludmFsaWRfYXR0cikucGFyZW50KCkucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy5lcnJvcl9jbGFzcyk6YS5hdHRyKHRoaXMuaW52YWxpZF9hdHRyLFwiXCIpLnBhcmVudCgpLmFkZENsYXNzKHRoaXMuc2V0dGluZ3MuZXJyb3JfY2xhc3MpLCFkKXt2YXIgZz10aGlzO2UuZWFjaChmdW5jdGlvbigpe2cudmFsaWRfb25lb2YuY2FsbChnLHRoaXMsbnVsbCxudWxsLCEwKX0pfXJldHVybiBmfSxyZWZsb3c6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy5TKFwiW1wiK3RoaXMuYXR0cl9uYW1lKCkrXCJdXCIpLmF0dHIoXCJub3ZhbGlkYXRlXCIsXCJub3ZhbGlkYXRlXCIpO2MuUyhkKS5lYWNoKGZ1bmN0aW9uKGEsYil7Yy5ldmVudHMoYil9KX19fShqUXVlcnksd2luZG93LHdpbmRvdy5kb2N1bWVudCksZnVuY3Rpb24oYSxiLGMsZCl7XCJ1c2Ugc3RyaWN0XCI7Rm91bmRhdGlvbi5saWJzLmFjY29yZGlvbj17bmFtZTpcImFjY29yZGlvblwiLHZlcnNpb246XCI1LjUuMlwiLHNldHRpbmdzOntjb250ZW50X2NsYXNzOlwiY29udGVudFwiLGFjdGl2ZV9jbGFzczpcImFjdGl2ZVwiLG11bHRpX2V4cGFuZDohMSx0b2dnbGVhYmxlOiEwLGNhbGxiYWNrOmZ1bmN0aW9uKCl7fX0saW5pdDpmdW5jdGlvbihhLGIsYyl7dGhpcy5iaW5kaW5ncyhiLGMpfSxldmVudHM6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxkPXRoaXMuUztjLmNyZWF0ZSh0aGlzLlMoYikpLGQodGhpcy5zY29wZSkub2ZmKFwiLmZuZHRuLmFjY29yZGlvblwiKS5vbihcImNsaWNrLmZuZHRuLmFjY29yZGlvblwiLFwiW1wiK3RoaXMuYXR0cl9uYW1lKCkrXCJdID4gZGQgPiBhLCBbXCIrdGhpcy5hdHRyX25hbWUoKStcIl0gPiBsaSA+IGFcIixmdW5jdGlvbihiKXt2YXIgZT1kKHRoaXMpLmNsb3Nlc3QoXCJbXCIrYy5hdHRyX25hbWUoKStcIl1cIiksZj1jLmF0dHJfbmFtZSgpK1wiPVwiK2UuYXR0cihjLmF0dHJfbmFtZSgpKSxnPWUuZGF0YShjLmF0dHJfbmFtZSghMCkrXCItaW5pdFwiKXx8Yy5zZXR0aW5ncyxoPWQoXCIjXCIrdGhpcy5ocmVmLnNwbGl0KFwiI1wiKVsxXSksaT1hKFwiPiBkZCwgPiBsaVwiLGUpLGo9aS5jaGlsZHJlbihcIi5cIitnLmNvbnRlbnRfY2xhc3MpLGs9ai5maWx0ZXIoXCIuXCIrZy5hY3RpdmVfY2xhc3MpO3JldHVybiBiLnByZXZlbnREZWZhdWx0KCksZS5hdHRyKGMuYXR0cl9uYW1lKCkpJiYoaj1qLmFkZChcIltcIitmK1wiXSBkZCA+IC5cIitnLmNvbnRlbnRfY2xhc3MrXCIsIFtcIitmK1wiXSBsaSA+IC5cIitnLmNvbnRlbnRfY2xhc3MpLGk9aS5hZGQoXCJbXCIrZitcIl0gZGQsIFtcIitmK1wiXSBsaVwiKSksZy50b2dnbGVhYmxlJiZoLmlzKGspPyhoLnBhcmVudChcImRkLCBsaVwiKS50b2dnbGVDbGFzcyhnLmFjdGl2ZV9jbGFzcywhMSksaC50b2dnbGVDbGFzcyhnLmFjdGl2ZV9jbGFzcywhMSksZCh0aGlzKS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuXCJ0cnVlXCI9PT1iP1wiZmFsc2VcIjpcInRydWVcIn0pLGcuY2FsbGJhY2soaCksaC50cmlnZ2VySGFuZGxlcihcInRvZ2dsZWRcIixbZV0pLHZvaWQgZS50cmlnZ2VySGFuZGxlcihcInRvZ2dsZWRcIixbaF0pKTooZy5tdWx0aV9leHBhbmR8fChqLnJlbW92ZUNsYXNzKGcuYWN0aXZlX2NsYXNzKSxpLnJlbW92ZUNsYXNzKGcuYWN0aXZlX2NsYXNzKSxpLmNoaWxkcmVuKFwiYVwiKS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLFwiZmFsc2VcIikpLGguYWRkQ2xhc3MoZy5hY3RpdmVfY2xhc3MpLnBhcmVudCgpLmFkZENsYXNzKGcuYWN0aXZlX2NsYXNzKSxnLmNhbGxiYWNrKGgpLGgudHJpZ2dlckhhbmRsZXIoXCJ0b2dnbGVkXCIsW2VdKSxlLnRyaWdnZXJIYW5kbGVyKFwidG9nZ2xlZFwiLFtoXSksdm9pZCBkKHRoaXMpLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsXCJ0cnVlXCIpKX0pfSxjcmVhdGU6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxkPWIsZT1hKFwiPiAuYWNjb3JkaW9uLW5hdmlnYXRpb25cIixkKSxmPWQuZGF0YShjLmF0dHJfbmFtZSghMCkrXCItaW5pdFwiKXx8Yy5zZXR0aW5ncztlLmNoaWxkcmVuKFwiYVwiKS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLFwiZmFsc2VcIiksZS5oYXMoXCIuXCIrZi5jb250ZW50X2NsYXNzK1wiLlwiK2YuYWN0aXZlX2NsYXNzKS5jaGlsZHJlbihcImFcIikuYXR0cihcImFyaWEtZXhwYW5kZWRcIixcInRydWVcIiksZi5tdWx0aV9leHBhbmQmJmIuYXR0cihcImFyaWEtbXVsdGlzZWxlY3RhYmxlXCIsXCJ0cnVlXCIpfSxvZmY6ZnVuY3Rpb24oKXt9LHJlZmxvdzpmdW5jdGlvbigpe319fShqUXVlcnksd2luZG93LHdpbmRvdy5kb2N1bWVudCksZnVuY3Rpb24oYSxiLGMsZCl7XCJ1c2Ugc3RyaWN0XCI7Rm91bmRhdGlvbi5saWJzLmFsZXJ0PXtuYW1lOlwiYWxlcnRcIix2ZXJzaW9uOlwiNS41LjJcIixzZXR0aW5nczp7Y2FsbGJhY2s6ZnVuY3Rpb24oKXt9fSxpbml0OmZ1bmN0aW9uKGEsYixjKXt0aGlzLmJpbmRpbmdzKGIsYyl9LGV2ZW50czpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz10aGlzLlM7YSh0aGlzLnNjb3BlKS5vZmYoXCIuYWxlcnRcIikub24oXCJjbGljay5mbmR0bi5hbGVydFwiLFwiW1wiK3RoaXMuYXR0cl9uYW1lKCkrXCJdIC5jbG9zZVwiLGZ1bmN0aW9uKGEpe3ZhciBkPWModGhpcykuY2xvc2VzdChcIltcIitiLmF0dHJfbmFtZSgpK1wiXVwiKSxlPWQuZGF0YShiLmF0dHJfbmFtZSghMCkrXCItaW5pdFwiKXx8Yi5zZXR0aW5nczthLnByZXZlbnREZWZhdWx0KCksTW9kZXJuaXpyLmNzc3RyYW5zaXRpb25zPyhkLmFkZENsYXNzKFwiYWxlcnQtY2xvc2VcIiksZC5vbihcInRyYW5zaXRpb25lbmQgd2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZFwiLGZ1bmN0aW9uKGEpe2ModGhpcykudHJpZ2dlcihcImNsb3NlLmZuZHRuLmFsZXJ0XCIpLnJlbW92ZSgpLGUuY2FsbGJhY2soKX0pKTpkLmZhZGVPdXQoMzAwLGZ1bmN0aW9uKCl7Yyh0aGlzKS50cmlnZ2VyKFwiY2xvc2UuZm5kdG4uYWxlcnRcIikucmVtb3ZlKCksZS5jYWxsYmFjaygpfSl9KX0scmVmbG93OmZ1bmN0aW9uKCl7fX19KGpRdWVyeSx3aW5kb3csd2luZG93LmRvY3VtZW50KSxmdW5jdGlvbihhLGIsYyxkKXtcInVzZSBzdHJpY3RcIjtGb3VuZGF0aW9uLmxpYnMuY2xlYXJpbmc9e25hbWU6XCJjbGVhcmluZ1wiLHZlcnNpb246XCI1LjUuMlwiLHNldHRpbmdzOnt0ZW1wbGF0ZXM6e3ZpZXdpbmc6JzxhIGhyZWY9XCIjXCIgY2xhc3M9XCJjbGVhcmluZy1jbG9zZVwiPiZ0aW1lczs8L2E+PGRpdiBjbGFzcz1cInZpc2libGUtaW1nXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lXCI+PGRpdiBjbGFzcz1cImNsZWFyaW5nLXRvdWNoLWxhYmVsXCI+PC9kaXY+PGltZyBzcmM9XCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFEL0FDd0FBQUFBQVFBQkFBQUNBRHMlM0RcIiBhbHQ9XCJcIiAvPjxwIGNsYXNzPVwiY2xlYXJpbmctY2FwdGlvblwiPjwvcD48YSBocmVmPVwiI1wiIGNsYXNzPVwiY2xlYXJpbmctbWFpbi1wcmV2XCI+PHNwYW4+PC9zcGFuPjwvYT48YSBocmVmPVwiI1wiIGNsYXNzPVwiY2xlYXJpbmctbWFpbi1uZXh0XCI+PHNwYW4+PC9zcGFuPjwvYT48L2Rpdj48aW1nIGNsYXNzPVwiY2xlYXJpbmctcHJlbG9hZC1uZXh0XCIgc3R5bGU9XCJkaXNwbGF5OiBub25lXCIgc3JjPVwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFBRC9BQ3dBQUFBQUFRQUJBQUFDQURzJTNEXCIgYWx0PVwiXCIgLz48aW1nIGNsYXNzPVwiY2xlYXJpbmctcHJlbG9hZC1wcmV2XCIgc3R5bGU9XCJkaXNwbGF5OiBub25lXCIgc3JjPVwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFBRC9BQ3dBQUFBQUFRQUJBQUFDQURzJTNEXCIgYWx0PVwiXCIgLz4nfSxjbG9zZV9zZWxlY3RvcnM6XCIuY2xlYXJpbmctY2xvc2UsIGRpdi5jbGVhcmluZy1ibGFja291dFwiLG9wZW5fc2VsZWN0b3JzOlwiXCIsc2tpcF9zZWxlY3RvcjpcIlwiLHRvdWNoX2xhYmVsOlwiXCIsaW5pdDohMSxsb2NrZWQ6ITF9LGluaXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXM7Rm91bmRhdGlvbi5pbmhlcml0KHRoaXMsXCJ0aHJvdHRsZSBpbWFnZV9sb2FkZWRcIiksdGhpcy5iaW5kaW5ncyhiLGMpLGQuUyh0aGlzLnNjb3BlKS5pcyhcIltcIit0aGlzLmF0dHJfbmFtZSgpK1wiXVwiKT90aGlzLmFzc2VtYmxlKGQuUyhcImxpXCIsdGhpcy5zY29wZSkpOmQuUyhcIltcIit0aGlzLmF0dHJfbmFtZSgpK1wiXVwiLHRoaXMuc2NvcGUpLmVhY2goZnVuY3Rpb24oKXtkLmFzc2VtYmxlKGQuUyhcImxpXCIsdGhpcykpfSl9LGV2ZW50czpmdW5jdGlvbihkKXt2YXIgZT10aGlzLGY9ZS5TLGc9YShcIi5zY3JvbGwtY29udGFpbmVyXCIpO2cubGVuZ3RoPjAmJih0aGlzLnNjb3BlPWcpLGYodGhpcy5zY29wZSkub2ZmKFwiLmNsZWFyaW5nXCIpLm9uKFwiY2xpY2suZm5kdG4uY2xlYXJpbmdcIixcInVsW1wiK3RoaXMuYXR0cl9uYW1lKCkrXCJdIGxpIFwiK3RoaXMuc2V0dGluZ3Mub3Blbl9zZWxlY3RvcnMsZnVuY3Rpb24oYSxiLGMpe3ZhciBiPWJ8fGYodGhpcyksYz1jfHxiLGQ9Yi5uZXh0KFwibGlcIiksZz1iLmNsb3Nlc3QoXCJbXCIrZS5hdHRyX25hbWUoKStcIl1cIikuZGF0YShlLmF0dHJfbmFtZSghMCkrXCItaW5pdFwiKSxoPWYoYS50YXJnZXQpO2EucHJldmVudERlZmF1bHQoKSxnfHwoZS5pbml0KCksZz1iLmNsb3Nlc3QoXCJbXCIrZS5hdHRyX25hbWUoKStcIl1cIikuZGF0YShlLmF0dHJfbmFtZSghMCkrXCItaW5pdFwiKSksYy5oYXNDbGFzcyhcInZpc2libGVcIikmJmJbMF09PT1jWzBdJiZkLmxlbmd0aD4wJiZlLmlzX29wZW4oYikmJihjPWQsaD1mKFwiaW1nXCIsYykpLGUub3BlbihoLGIsYyksZS51cGRhdGVfcGFkZGxlcyhjKX0pLm9uKFwiY2xpY2suZm5kdG4uY2xlYXJpbmdcIixcIi5jbGVhcmluZy1tYWluLW5leHRcIixmdW5jdGlvbihhKXtlLm5hdihhLFwibmV4dFwiKX0pLm9uKFwiY2xpY2suZm5kdG4uY2xlYXJpbmdcIixcIi5jbGVhcmluZy1tYWluLXByZXZcIixmdW5jdGlvbihhKXtlLm5hdihhLFwicHJldlwiKX0pLm9uKFwiY2xpY2suZm5kdG4uY2xlYXJpbmdcIix0aGlzLnNldHRpbmdzLmNsb3NlX3NlbGVjdG9ycyxmdW5jdGlvbihhKXtGb3VuZGF0aW9uLmxpYnMuY2xlYXJpbmcuY2xvc2UoYSx0aGlzKX0pLGEoYykub24oXCJrZXlkb3duLmZuZHRuLmNsZWFyaW5nXCIsZnVuY3Rpb24oYSl7ZS5rZXlkb3duKGEpfSksZihiKS5vZmYoXCIuY2xlYXJpbmdcIikub24oXCJyZXNpemUuZm5kdG4uY2xlYXJpbmdcIixmdW5jdGlvbigpe2UucmVzaXplKCl9KSx0aGlzLnN3aXBlX2V2ZW50cyhkKX0sc3dpcGVfZXZlbnRzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLlM7Yyh0aGlzLnNjb3BlKS5vbihcInRvdWNoc3RhcnQuZm5kdG4uY2xlYXJpbmdcIixcIi52aXNpYmxlLWltZ1wiLGZ1bmN0aW9uKGEpe2EudG91Y2hlc3x8KGE9YS5vcmlnaW5hbEV2ZW50KTt2YXIgYj17c3RhcnRfcGFnZV94OmEudG91Y2hlc1swXS5wYWdlWCxzdGFydF9wYWdlX3k6YS50b3VjaGVzWzBdLnBhZ2VZLHN0YXJ0X3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksZGVsdGFfeDowLGlzX3Njcm9sbGluZzpkfTtjKHRoaXMpLmRhdGEoXCJzd2lwZS10cmFuc2l0aW9uXCIsYiksYS5zdG9wUHJvcGFnYXRpb24oKX0pLm9uKFwidG91Y2htb3ZlLmZuZHRuLmNsZWFyaW5nXCIsXCIudmlzaWJsZS1pbWdcIixmdW5jdGlvbihhKXtpZihhLnRvdWNoZXN8fChhPWEub3JpZ2luYWxFdmVudCksIShhLnRvdWNoZXMubGVuZ3RoPjF8fGEuc2NhbGUmJjEhPT1hLnNjYWxlKSl7dmFyIGQ9Yyh0aGlzKS5kYXRhKFwic3dpcGUtdHJhbnNpdGlvblwiKTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgZCYmKGQ9e30pLGQuZGVsdGFfeD1hLnRvdWNoZXNbMF0ucGFnZVgtZC5zdGFydF9wYWdlX3gsRm91bmRhdGlvbi5ydGwmJihkLmRlbHRhX3g9LWQuZGVsdGFfeCksXCJ1bmRlZmluZWRcIj09dHlwZW9mIGQuaXNfc2Nyb2xsaW5nJiYoZC5pc19zY3JvbGxpbmc9ISEoZC5pc19zY3JvbGxpbmd8fE1hdGguYWJzKGQuZGVsdGFfeCk8TWF0aC5hYnMoYS50b3VjaGVzWzBdLnBhZ2VZLWQuc3RhcnRfcGFnZV95KSkpLCFkLmlzX3Njcm9sbGluZyYmIWQuYWN0aXZlKXthLnByZXZlbnREZWZhdWx0KCk7dmFyIGU9ZC5kZWx0YV94PDA/XCJuZXh0XCI6XCJwcmV2XCI7ZC5hY3RpdmU9ITAsYi5uYXYoYSxlKX19fSkub24oXCJ0b3VjaGVuZC5mbmR0bi5jbGVhcmluZ1wiLFwiLnZpc2libGUtaW1nXCIsZnVuY3Rpb24oYSl7Yyh0aGlzKS5kYXRhKFwic3dpcGUtdHJhbnNpdGlvblwiLHt9KSxhLnN0b3BQcm9wYWdhdGlvbigpfSl9LGFzc2VtYmxlOmZ1bmN0aW9uKGIpe3ZhciBjPWIucGFyZW50KCk7aWYoIWMucGFyZW50KCkuaGFzQ2xhc3MoXCJjYXJvdXNlbFwiKSl7Yy5hZnRlcignPGRpdiBpZD1cImZvdW5kYXRpb25DbGVhcmluZ0hvbGRlclwiPjwvZGl2PicpO3ZhciBkPWMuZGV0YWNoKCksZT1cIlwiO2lmKG51bGwhPWRbMF0pe2U9ZFswXS5vdXRlckhUTUw7dmFyIGY9dGhpcy5TKFwiI2ZvdW5kYXRpb25DbGVhcmluZ0hvbGRlclwiKSxnPWMuZGF0YSh0aGlzLmF0dHJfbmFtZSghMCkrXCItaW5pdFwiKSxoPXtncmlkOic8ZGl2IGNsYXNzPVwiY2Fyb3VzZWxcIj4nK2UrXCI8L2Rpdj5cIix2aWV3aW5nOmcudGVtcGxhdGVzLnZpZXdpbmd9LGk9JzxkaXYgY2xhc3M9XCJjbGVhcmluZy1hc3NlbWJsZWRcIj48ZGl2PicraC52aWV3aW5nK2guZ3JpZCtcIjwvZGl2PjwvZGl2PlwiLGo9dGhpcy5zZXR0aW5ncy50b3VjaF9sYWJlbDtNb2Rlcm5penIudG91Y2gmJihpPWEoaSkuZmluZChcIi5jbGVhcmluZy10b3VjaC1sYWJlbFwiKS5odG1sKGopLmVuZCgpKSxmLmFmdGVyKGkpLnJlbW92ZSgpfX19LG9wZW46ZnVuY3Rpb24oYixkLGUpe2Z1bmN0aW9uIGYoKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5pbWFnZV9sb2FkZWQobSxmdW5jdGlvbigpezEhPT1tLm91dGVyV2lkdGgoKXx8bz9nLmNhbGwodGhpcyxtKTpmLmNhbGwodGhpcyl9LmJpbmQodGhpcykpfS5iaW5kKHRoaXMpLDEwMCl9ZnVuY3Rpb24gZyhiKXt2YXIgYz1hKGIpO2MuY3NzKFwidmlzaWJpbGl0eVwiLFwidmlzaWJsZVwiKSxjLnRyaWdnZXIoXCJpbWFnZVZpc2libGVcIiksaS5jc3MoXCJvdmVyZmxvd1wiLFwiaGlkZGVuXCIpLGouYWRkQ2xhc3MoXCJjbGVhcmluZy1ibGFja291dFwiKSxrLmFkZENsYXNzKFwiY2xlYXJpbmctY29udGFpbmVyXCIpLGwuc2hvdygpLHRoaXMuZml4X2hlaWdodChlKS5jYXB0aW9uKGguUyhcIi5jbGVhcmluZy1jYXB0aW9uXCIsbCksaC5TKFwiaW1nXCIsZSkpLmNlbnRlcl9hbmRfbGFiZWwoYixuKS5zaGlmdChkLGUsZnVuY3Rpb24oKXtlLmNsb3Nlc3QoXCJsaVwiKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwidmlzaWJsZVwiKSxlLmNsb3Nlc3QoXCJsaVwiKS5hZGRDbGFzcyhcInZpc2libGVcIil9KSxsLnRyaWdnZXIoXCJvcGVuZWQuZm5kdG4uY2xlYXJpbmdcIil9dmFyIGg9dGhpcyxpPWEoYy5ib2R5KSxqPWUuY2xvc2VzdChcIi5jbGVhcmluZy1hc3NlbWJsZWRcIiksaz1oLlMoXCJkaXZcIixqKS5maXJzdCgpLGw9aC5TKFwiLnZpc2libGUtaW1nXCIsayksbT1oLlMoXCJpbWdcIixsKS5ub3QoYiksbj1oLlMoXCIuY2xlYXJpbmctdG91Y2gtbGFiZWxcIixrKSxvPSExLHA9e307YShcImJvZHlcIikub24oXCJ0b3VjaG1vdmVcIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCl9KSxtLmVycm9yKGZ1bmN0aW9uKCl7bz0hMH0pLHRoaXMubG9ja2VkKCl8fChsLnRyaWdnZXIoXCJvcGVuLmZuZHRuLmNsZWFyaW5nXCIpLHA9dGhpcy5sb2FkKGIpLHAuaW50ZXJjaGFuZ2U/bS5hdHRyKFwiZGF0YS1pbnRlcmNoYW5nZVwiLHAuaW50ZXJjaGFuZ2UpLmZvdW5kYXRpb24oXCJpbnRlcmNoYW5nZVwiLFwicmVmbG93XCIpOm0uYXR0cihcInNyY1wiLHAuc3JjKS5hdHRyKFwiZGF0YS1pbnRlcmNoYW5nZVwiLFwiXCIpLG0uY3NzKFwidmlzaWJpbGl0eVwiLFwiaGlkZGVuXCIpLGYuY2FsbCh0aGlzKSl9LGNsb3NlOmZ1bmN0aW9uKGIsZCl7Yi5wcmV2ZW50RGVmYXVsdCgpO3ZhciBlLGYsZz1mdW5jdGlvbihhKXtyZXR1cm4vYmxhY2tvdXQvLnRlc3QoYS5zZWxlY3Rvcik/YTphLmNsb3Nlc3QoXCIuY2xlYXJpbmctYmxhY2tvdXRcIil9KGEoZCkpLGg9YShjLmJvZHkpO3JldHVybiBkPT09Yi50YXJnZXQmJmcmJihoLmNzcyhcIm92ZXJmbG93XCIsXCJcIiksZT1hKFwiZGl2XCIsZykuZmlyc3QoKSxmPWEoXCIudmlzaWJsZS1pbWdcIixlKSxmLnRyaWdnZXIoXCJjbG9zZS5mbmR0bi5jbGVhcmluZ1wiKSx0aGlzLnNldHRpbmdzLnByZXZfaW5kZXg9MCxhKFwidWxbXCIrdGhpcy5hdHRyX25hbWUoKStcIl1cIixnKS5hdHRyKFwic3R5bGVcIixcIlwiKS5jbG9zZXN0KFwiLmNsZWFyaW5nLWJsYWNrb3V0XCIpLnJlbW92ZUNsYXNzKFwiY2xlYXJpbmctYmxhY2tvdXRcIiksZS5yZW1vdmVDbGFzcyhcImNsZWFyaW5nLWNvbnRhaW5lclwiKSxmLmhpZGUoKSxmLnRyaWdnZXIoXCJjbG9zZWQuZm5kdG4uY2xlYXJpbmdcIikpLGEoXCJib2R5XCIpLm9mZihcInRvdWNobW92ZVwiKSwhMX0saXNfb3BlbjpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnQoKS5wcm9wKFwic3R5bGVcIikubGVuZ3RoPjB9LGtleWRvd246ZnVuY3Rpb24oYil7dmFyIGM9YShcIi5jbGVhcmluZy1ibGFja291dCB1bFtcIit0aGlzLmF0dHJfbmFtZSgpK1wiXVwiKSxkPXRoaXMucnRsPzM3OjM5LGU9dGhpcy5ydGw/Mzk6MzcsZj0yNztiLndoaWNoPT09ZCYmdGhpcy5nbyhjLFwibmV4dFwiKSxiLndoaWNoPT09ZSYmdGhpcy5nbyhjLFwicHJldlwiKSxiLndoaWNoPT09ZiYmdGhpcy5TKFwiYS5jbGVhcmluZy1jbG9zZVwiKS50cmlnZ2VyKFwiY2xpY2suZm5kdG4uY2xlYXJpbmdcIil9LG5hdjpmdW5jdGlvbihiLGMpe3ZhciBkPWEoXCJ1bFtcIit0aGlzLmF0dHJfbmFtZSgpK1wiXVwiLFwiLmNsZWFyaW5nLWJsYWNrb3V0XCIpO2IucHJldmVudERlZmF1bHQoKSx0aGlzLmdvKGQsYyl9LHJlc2l6ZTpmdW5jdGlvbigpe3ZhciBiPWEoXCJpbWdcIixcIi5jbGVhcmluZy1ibGFja291dCAudmlzaWJsZS1pbWdcIiksYz1hKFwiLmNsZWFyaW5nLXRvdWNoLWxhYmVsXCIsXCIuY2xlYXJpbmctYmxhY2tvdXRcIik7Yi5sZW5ndGgmJih0aGlzLmNlbnRlcl9hbmRfbGFiZWwoYixjKSxiLnRyaWdnZXIoXCJyZXNpemVkLmZuZHRuLmNsZWFyaW5nXCIpKX0sZml4X2hlaWdodDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudCgpLmNoaWxkcmVuKCksYz10aGlzO3JldHVybiBiLmVhY2goZnVuY3Rpb24oKXt2YXIgYT1jLlModGhpcyksYj1hLmZpbmQoXCJpbWdcIik7YS5oZWlnaHQoKT5iLm91dGVySGVpZ2h0KCkmJmEuYWRkQ2xhc3MoXCJmaXgtaGVpZ2h0XCIpfSkuY2xvc2VzdChcInVsXCIpLndpZHRoKDEwMCpiLmxlbmd0aCtcIiVcIiksdGhpc30sdXBkYXRlX3BhZGRsZXM6ZnVuY3Rpb24oYSl7YT1hLmNsb3Nlc3QoXCJsaVwiKTt2YXIgYj1hLmNsb3Nlc3QoXCIuY2Fyb3VzZWxcIikuc2libGluZ3MoXCIudmlzaWJsZS1pbWdcIik7YS5uZXh0KCkubGVuZ3RoPjA/dGhpcy5TKFwiLmNsZWFyaW5nLW1haW4tbmV4dFwiLGIpLnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIik6dGhpcy5TKFwiLmNsZWFyaW5nLW1haW4tbmV4dFwiLGIpLmFkZENsYXNzKFwiZGlzYWJsZWRcIiksYS5wcmV2KCkubGVuZ3RoPjA/dGhpcy5TKFwiLmNsZWFyaW5nLW1haW4tcHJldlwiLGIpLnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIik6dGhpcy5TKFwiLmNsZWFyaW5nLW1haW4tcHJldlwiLGIpLmFkZENsYXNzKFwiZGlzYWJsZWRcIil9LGNlbnRlcl9hbmRfbGFiZWw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5jc3MoIXRoaXMucnRsJiZiLmxlbmd0aD4wP3ttYXJnaW5MZWZ0Oi0oYi5vdXRlcldpZHRoKCkvMiksbWFyZ2luVG9wOi0oYS5vdXRlckhlaWdodCgpLzIpLWIub3V0ZXJIZWlnaHQoKS0xMH06e21hcmdpblJpZ2h0Oi0oYi5vdXRlcldpZHRoKCkvMiksbWFyZ2luVG9wOi0oYS5vdXRlckhlaWdodCgpLzIpLWIub3V0ZXJIZWlnaHQoKS0xMCxsZWZ0OlwiYXV0b1wiLHJpZ2h0OlwiNTAlXCJ9KSx0aGlzfSxsb2FkOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZDtyZXR1cm5cIkFcIj09PWFbMF0ubm9kZU5hbWU/KGI9YS5hdHRyKFwiaHJlZlwiKSxjPWEuZGF0YShcImNsZWFyaW5nLWludGVyY2hhbmdlXCIpKTooZD1hLmNsb3Nlc3QoXCJhXCIpLGI9ZC5hdHRyKFwiaHJlZlwiKSxjPWQuZGF0YShcImNsZWFyaW5nLWludGVyY2hhbmdlXCIpKSx0aGlzLnByZWxvYWQoYSkse3NyYzpiP2I6YS5hdHRyKFwic3JjXCIpLGludGVyY2hhbmdlOmI/YzphLmRhdGEoXCJjbGVhcmluZy1pbnRlcmNoYW5nZVwiKX19LHByZWxvYWQ6ZnVuY3Rpb24oYSl7dGhpcy5pbWcoYS5jbG9zZXN0KFwibGlcIikubmV4dCgpLFwibmV4dFwiKS5pbWcoYS5jbG9zZXN0KFwibGlcIikucHJldigpLFwicHJldlwiKX0saW1nOmZ1bmN0aW9uKGIsYyl7aWYoYi5sZW5ndGgpe3ZhciBkLGUsZixnPWEoXCIuY2xlYXJpbmctcHJlbG9hZC1cIitjKSxoPXRoaXMuUyhcImFcIixiKTtoLmxlbmd0aD8oZD1oLmF0dHIoXCJocmVmXCIpLGU9aC5kYXRhKFwiY2xlYXJpbmctaW50ZXJjaGFuZ2VcIikpOihmPXRoaXMuUyhcImltZ1wiLGIpLGQ9Zi5hdHRyKFwic3JjXCIpLGU9Zi5kYXRhKFwiY2xlYXJpbmctaW50ZXJjaGFuZ2VcIikpLGU/Zy5hdHRyKFwiZGF0YS1pbnRlcmNoYW5nZVwiLGUpOihnLmF0dHIoXCJzcmNcIixkKSxnLmF0dHIoXCJkYXRhLWludGVyY2hhbmdlXCIsXCJcIikpfXJldHVybiB0aGlzfSxjYXB0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5hdHRyKFwiZGF0YS1jYXB0aW9uXCIpO3JldHVybiBjP2EuaHRtbChjKS5zaG93KCk6YS50ZXh0KFwiXCIpLmhpZGUoKSx0aGlzfSxnbzpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuUyhcIi52aXNpYmxlXCIsYSksZD1jW2JdKCk7dGhpcy5zZXR0aW5ncy5za2lwX3NlbGVjdG9yJiYwIT1kLmZpbmQodGhpcy5zZXR0aW5ncy5za2lwX3NlbGVjdG9yKS5sZW5ndGgmJihkPWRbYl0oKSksZC5sZW5ndGgmJnRoaXMuUyhcImltZ1wiLGQpLnRyaWdnZXIoXCJjbGljay5mbmR0bi5jbGVhcmluZ1wiLFtjLGRdKS50cmlnZ2VyKFwiY2hhbmdlLmZuZHRuLmNsZWFyaW5nXCIpfSxzaGlmdDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT1iLnBhcmVudCgpLGY9dGhpcy5zZXR0aW5ncy5wcmV2X2luZGV4fHxiLmluZGV4KCksZz10aGlzLmRpcmVjdGlvbihlLGEsYiksaD10aGlzLnJ0bD9cInJpZ2h0XCI6XCJsZWZ0XCIsaT1wYXJzZUludChlLmNzcyhcImxlZnRcIiksMTApLGo9Yi5vdXRlcldpZHRoKCksaz17fTtiLmluZGV4KCk9PT1mfHwvc2tpcC8udGVzdChnKT8vc2tpcC8udGVzdChnKSYmKGQ9Yi5pbmRleCgpLXRoaXMuc2V0dGluZ3MudXBfY291bnQsdGhpcy5sb2NrKCksZD4wPyhrW2hdPS0oZCpqKSxlLmFuaW1hdGUoaywzMDAsdGhpcy51bmxvY2soKSkpOihrW2hdPTAsZS5hbmltYXRlKGssMzAwLHRoaXMudW5sb2NrKCkpKSk6L2xlZnQvLnRlc3QoZyk/KHRoaXMubG9jaygpLGtbaF09aStqLGUuYW5pbWF0ZShrLDMwMCx0aGlzLnVubG9jaygpKSk6L3JpZ2h0Ly50ZXN0KGcpJiYodGhpcy5sb2NrKCksa1toXT1pLWosZS5hbmltYXRlKGssMzAwLHRoaXMudW5sb2NrKCkpKSxjKCl9LGRpcmVjdGlvbjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT10aGlzLlMoXCJsaVwiLGEpLGY9ZS5vdXRlcldpZHRoKCkrZS5vdXRlcldpZHRoKCkvNCxnPU1hdGguZmxvb3IodGhpcy5TKFwiLmNsZWFyaW5nLWNvbnRhaW5lclwiKS5vdXRlcldpZHRoKCkvZiktMSxoPWUuaW5kZXgoYyk7cmV0dXJuIHRoaXMuc2V0dGluZ3MudXBfY291bnQ9ZyxkPXRoaXMuYWRqYWNlbnQodGhpcy5zZXR0aW5ncy5wcmV2X2luZGV4LGgpP2g+ZyYmaD50aGlzLnNldHRpbmdzLnByZXZfaW5kZXg/XCJyaWdodFwiOmg+Zy0xJiZoPD10aGlzLnNldHRpbmdzLnByZXZfaW5kZXg/XCJsZWZ0XCI6ITE6XCJza2lwXCIsdGhpcy5zZXR0aW5ncy5wcmV2X2luZGV4PWgsZH0sYWRqYWNlbnQ6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YisxO2M+PWItMTtjLS0paWYoYz09PWEpcmV0dXJuITA7cmV0dXJuITF9LGxvY2s6ZnVuY3Rpb24oKXt0aGlzLnNldHRpbmdzLmxvY2tlZD0hMH0sdW5sb2NrOmZ1bmN0aW9uKCl7dGhpcy5zZXR0aW5ncy5sb2NrZWQ9ITF9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldHRpbmdzLmxvY2tlZH0sb2ZmOmZ1bmN0aW9uKCl7dGhpcy5TKHRoaXMuc2NvcGUpLm9mZihcIi5mbmR0bi5jbGVhcmluZ1wiKSx0aGlzLlMoYikub2ZmKFwiLmZuZHRuLmNsZWFyaW5nXCIpfSxyZWZsb3c6ZnVuY3Rpb24oKXt0aGlzLmluaXQoKX19fShqUXVlcnksd2luZG93LHdpbmRvdy5kb2N1bWVudCksZnVuY3Rpb24oYSxiLGMsZCl7XCJ1c2Ugc3RyaWN0XCI7Rm91bmRhdGlvbi5saWJzLmRyb3Bkb3duPXtuYW1lOlwiZHJvcGRvd25cIix2ZXJzaW9uOlwiNS41LjJcIixzZXR0aW5nczp7YWN0aXZlX2NsYXNzOlwib3BlblwiLGRpc2FibGVkX2NsYXNzOlwiZGlzYWJsZWRcIixtZWdhX2NsYXNzOlwibWVnYVwiLGFsaWduOlwiYm90dG9tXCIsaXNfaG92ZXI6ITEsaG92ZXJfdGltZW91dDoxNTAsb3BlbmVkOmZ1bmN0aW9uKCl7fSxjbG9zZWQ6ZnVuY3Rpb24oKXt9fSxpbml0OmZ1bmN0aW9uKGIsYyxkKXtGb3VuZGF0aW9uLmluaGVyaXQodGhpcyxcInRocm90dGxlXCIpLGEuZXh0ZW5kKCEwLHRoaXMuc2V0dGluZ3MsYyxkKSx0aGlzLmJpbmRpbmdzKGMsZCl9LGV2ZW50czpmdW5jdGlvbihkKXt2YXIgZT10aGlzLGY9ZS5TO2YodGhpcy5zY29wZSkub2ZmKFwiLmRyb3Bkb3duXCIpLm9uKFwiY2xpY2suZm5kdG4uZHJvcGRvd25cIixcIltcIit0aGlzLmF0dHJfbmFtZSgpK1wiXVwiLGZ1bmN0aW9uKGIpe3ZhciBjPWYodGhpcykuZGF0YShlLmF0dHJfbmFtZSghMCkrXCItaW5pdFwiKXx8ZS5zZXR0aW5nczsoIWMuaXNfaG92ZXJ8fE1vZGVybml6ci50b3VjaCkmJihiLnByZXZlbnREZWZhdWx0KCksZih0aGlzKS5wYXJlbnQoXCJbZGF0YS1yZXZlYWwtaWRdXCIpLmxlbmd0aCYmYi5zdG9wUHJvcGFnYXRpb24oKSxlLnRvZ2dsZShhKHRoaXMpKSl9KS5vbihcIm1vdXNlZW50ZXIuZm5kdG4uZHJvcGRvd25cIixcIltcIit0aGlzLmF0dHJfbmFtZSgpK1wiXSwgW1wiK3RoaXMuYXR0cl9uYW1lKCkrXCItY29udGVudF1cIixmdW5jdGlvbihhKXt2YXIgYixjLGQ9Zih0aGlzKTtjbGVhclRpbWVvdXQoZS50aW1lb3V0KSxkLmRhdGEoZS5kYXRhX2F0dHIoKSk/KGI9ZihcIiNcIitkLmRhdGEoZS5kYXRhX2F0dHIoKSkpLGM9ZCk6KGI9ZCxjPWYoXCJbXCIrZS5hdHRyX25hbWUoKSsnPVwiJytiLmF0dHIoXCJpZFwiKSsnXCJdJykpO3ZhciBnPWMuZGF0YShlLmF0dHJfbmFtZSghMCkrXCItaW5pdFwiKXx8ZS5zZXR0aW5ncztmKGEuY3VycmVudFRhcmdldCkuZGF0YShlLmRhdGFfYXR0cigpKSYmZy5pc19ob3ZlciYmZS5jbG9zZWFsbC5jYWxsKGUpLGcuaXNfaG92ZXImJmUub3Blbi5hcHBseShlLFtiLGNdKX0pLm9uKFwibW91c2VsZWF2ZS5mbmR0bi5kcm9wZG93blwiLFwiW1wiK3RoaXMuYXR0cl9uYW1lKCkrXCJdLCBbXCIrdGhpcy5hdHRyX25hbWUoKStcIi1jb250ZW50XVwiLGZ1bmN0aW9uKGEpe3ZhciBiLGM9Zih0aGlzKTtpZihjLmRhdGEoZS5kYXRhX2F0dHIoKSkpYj1jLmRhdGEoZS5kYXRhX2F0dHIoITApK1wiLWluaXRcIil8fGUuc2V0dGluZ3M7ZWxzZSB2YXIgZD1mKFwiW1wiK2UuYXR0cl9uYW1lKCkrJz1cIicrZih0aGlzKS5hdHRyKFwiaWRcIikrJ1wiXScpLGI9ZC5kYXRhKGUuYXR0cl9uYW1lKCEwKStcIi1pbml0XCIpfHxlLnNldHRpbmdzO2UudGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5kYXRhKGUuZGF0YV9hdHRyKCkpP2IuaXNfaG92ZXImJmUuY2xvc2UuY2FsbChlLGYoXCIjXCIrYy5kYXRhKGUuZGF0YV9hdHRyKCkpKSk6Yi5pc19ob3ZlciYmZS5jbG9zZS5jYWxsKGUsYyl9LmJpbmQodGhpcyksYi5ob3Zlcl90aW1lb3V0KX0pLm9uKFwiY2xpY2suZm5kdG4uZHJvcGRvd25cIixmdW5jdGlvbihiKXt2YXIgZD1mKGIudGFyZ2V0KS5jbG9zZXN0KFwiW1wiK2UuYXR0cl9uYW1lKCkrXCItY29udGVudF1cIiksZz1kLmZpbmQoXCJhXCIpO3JldHVybiBnLmxlbmd0aD4wJiZcImZhbHNlXCIhPT1kLmF0dHIoXCJhcmlhLWF1dG9jbG9zZVwiKSYmZS5jbG9zZS5jYWxsKGUsZihcIltcIitlLmF0dHJfbmFtZSgpK1wiLWNvbnRlbnRdXCIpKSxiLnRhcmdldCE9PWMmJiFhLmNvbnRhaW5zKGMuZG9jdW1lbnRFbGVtZW50LGIudGFyZ2V0KXx8ZihiLnRhcmdldCkuY2xvc2VzdChcIltcIitlLmF0dHJfbmFtZSgpK1wiXVwiKS5sZW5ndGg+MD92b2lkIDA6IWYoYi50YXJnZXQpLmRhdGEoXCJyZXZlYWxJZFwiKSYmZC5sZW5ndGg+MCYmKGYoYi50YXJnZXQpLmlzKFwiW1wiK2UuYXR0cl9uYW1lKCkrXCItY29udGVudF1cIil8fGEuY29udGFpbnMoZC5maXJzdCgpWzBdLGIudGFyZ2V0KSk/dm9pZCBiLnN0b3BQcm9wYWdhdGlvbigpOnZvaWQgZS5jbG9zZS5jYWxsKGUsZihcIltcIitlLmF0dHJfbmFtZSgpK1wiLWNvbnRlbnRdXCIpKX0pLm9uKFwib3BlbmVkLmZuZHRuLmRyb3Bkb3duXCIsXCJbXCIrZS5hdHRyX25hbWUoKStcIi1jb250ZW50XVwiLGZ1bmN0aW9uKCl7ZS5zZXR0aW5ncy5vcGVuZWQuY2FsbCh0aGlzKX0pLm9uKFwiY2xvc2VkLmZuZHRuLmRyb3Bkb3duXCIsXCJbXCIrZS5hdHRyX25hbWUoKStcIi1jb250ZW50XVwiLGZ1bmN0aW9uKCl7ZS5zZXR0aW5ncy5jbG9zZWQuY2FsbCh0aGlzKX0pLGYoYikub2ZmKFwiLmRyb3Bkb3duXCIpLm9uKFwicmVzaXplLmZuZHRuLmRyb3Bkb3duXCIsZS50aHJvdHRsZShmdW5jdGlvbigpe2UucmVzaXplLmNhbGwoZSl9LDUwKSksdGhpcy5yZXNpemUoKX0sY2xvc2U6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcztiLmVhY2goZnVuY3Rpb24oZCl7dmFyIGU9YShcIltcIitjLmF0dHJfbmFtZSgpK1wiPVwiK2JbZF0uaWQrXCJdXCIpfHxhKFwiYXJpYS1jb250cm9scz1cIitiW2RdLmlkK1wiXVwiKTtlLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsXCJmYWxzZVwiKSxjLlModGhpcykuaGFzQ2xhc3MoYy5zZXR0aW5ncy5hY3RpdmVfY2xhc3MpJiYoYy5TKHRoaXMpLmNzcyhGb3VuZGF0aW9uLnJ0bD9cInJpZ2h0XCI6XCJsZWZ0XCIsXCItOTk5OTlweFwiKS5hdHRyKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIikucmVtb3ZlQ2xhc3MoYy5zZXR0aW5ncy5hY3RpdmVfY2xhc3MpLnByZXYoXCJbXCIrYy5hdHRyX25hbWUoKStcIl1cIikucmVtb3ZlQ2xhc3MoYy5zZXR0aW5ncy5hY3RpdmVfY2xhc3MpLnJlbW92ZURhdGEoXCJ0YXJnZXRcIiksYy5TKHRoaXMpLnRyaWdnZXIoXCJjbG9zZWQuZm5kdG4uZHJvcGRvd25cIixbYl0pKX0pLGIucmVtb3ZlQ2xhc3MoXCJmLW9wZW4tXCIrdGhpcy5hdHRyX25hbWUoITApKX0sY2xvc2VhbGw6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO2EuZWFjaChiLlMoXCIuZi1vcGVuLVwiK3RoaXMuYXR0cl9uYW1lKCEwKSksZnVuY3Rpb24oKXtiLmNsb3NlLmNhbGwoYixiLlModGhpcykpfSl9LG9wZW46ZnVuY3Rpb24oYSxiKXt0aGlzLmNzcyhhLmFkZENsYXNzKHRoaXMuc2V0dGluZ3MuYWN0aXZlX2NsYXNzKSxiKSxhLnByZXYoXCJbXCIrdGhpcy5hdHRyX25hbWUoKStcIl1cIikuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5hY3RpdmVfY2xhc3MpLGEuZGF0YShcInRhcmdldFwiLGIuZ2V0KDApKS50cmlnZ2VyKFwib3BlbmVkLmZuZHRuLmRyb3Bkb3duXCIsW2EsYl0pLGEuYXR0cihcImFyaWEtaGlkZGVuXCIsXCJmYWxzZVwiKSxiLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsXCJ0cnVlXCIpLGEuZm9jdXMoKSxhLmFkZENsYXNzKFwiZi1vcGVuLVwiK3RoaXMuYXR0cl9uYW1lKCEwKSl9LGRhdGFfYXR0cjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWVzcGFjZS5sZW5ndGg+MD90aGlzLm5hbWVzcGFjZStcIi1cIit0aGlzLm5hbWU6dGhpcy5uYW1lfSx0b2dnbGU6ZnVuY3Rpb24oYSl7aWYoIWEuaGFzQ2xhc3ModGhpcy5zZXR0aW5ncy5kaXNhYmxlZF9jbGFzcykpe3ZhciBiPXRoaXMuUyhcIiNcIithLmRhdGEodGhpcy5kYXRhX2F0dHIoKSkpOzAhPT1iLmxlbmd0aCYmKHRoaXMuY2xvc2UuY2FsbCh0aGlzLHRoaXMuUyhcIltcIit0aGlzLmF0dHJfbmFtZSgpK1wiLWNvbnRlbnRdXCIpLm5vdChiKSksYi5oYXNDbGFzcyh0aGlzLnNldHRpbmdzLmFjdGl2ZV9jbGFzcyk/KHRoaXMuY2xvc2UuY2FsbCh0aGlzLGIpLGIuZGF0YShcInRhcmdldFwiKSE9PWEuZ2V0KDApJiZ0aGlzLm9wZW4uY2FsbCh0aGlzLGIsYSkpOnRoaXMub3Blbi5jYWxsKHRoaXMsYixhKSl9fSxyZXNpemU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLlMoXCJbXCIrdGhpcy5hdHRyX25hbWUoKStcIi1jb250ZW50XS5vcGVuXCIpLGM9YShiLmRhdGEoXCJ0YXJnZXRcIikpO2IubGVuZ3RoJiZjLmxlbmd0aCYmdGhpcy5jc3MoYixjKX0sY3NzOmZ1bmN0aW9uKGEsYil7dmFyIGM9TWF0aC5tYXgoKGIud2lkdGgoKS1hLndpZHRoKCkpLzIsOCksZD1iLmRhdGEodGhpcy5hdHRyX25hbWUoITApK1wiLWluaXRcIil8fHRoaXMuc2V0dGluZ3MsZT1hLnBhcmVudCgpLmNzcyhcIm92ZXJmbG93LXlcIil8fGEucGFyZW50KCkuY3NzKFwib3ZlcmZsb3dcIik7aWYodGhpcy5jbGVhcl9pZHgoKSx0aGlzLnNtYWxsKCkpe3ZhciBmPXRoaXMuZGlycy5ib3R0b20uY2FsbChhLGIsZCk7YS5hdHRyKFwic3R5bGVcIixcIlwiKS5yZW1vdmVDbGFzcyhcImRyb3AtbGVmdCBkcm9wLXJpZ2h0IGRyb3AtdG9wXCIpLmNzcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHdpZHRoOlwiOTUlXCIsXCJtYXgtd2lkdGhcIjpcIm5vbmVcIix0b3A6Zi50b3B9KSxhLmNzcyhGb3VuZGF0aW9uLnJ0bD9cInJpZ2h0XCI6XCJsZWZ0XCIsYyl9ZWxzZSBpZihcInZpc2libGVcIiE9PWUpe3ZhciBnPWJbMF0ub2Zmc2V0VG9wK2JbMF0ub2Zmc2V0SGVpZ2h0O2EuYXR0cihcInN0eWxlXCIsXCJcIikuY3NzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOmd9KSxhLmNzcyhGb3VuZGF0aW9uLnJ0bD9cInJpZ2h0XCI6XCJsZWZ0XCIsYyl9ZWxzZSB0aGlzLnN0eWxlKGEsYixkKTtyZXR1cm4gYX0sc3R5bGU6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEuZXh0ZW5kKHtwb3NpdGlvbjpcImFic29sdXRlXCJ9LHRoaXMuZGlyc1tkLmFsaWduXS5jYWxsKGIsYyxkKSk7Yi5hdHRyKFwic3R5bGVcIixcIlwiKS5jc3MoZSl9LGRpcnM6e19iYXNlOmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMub2Zmc2V0UGFyZW50KCksZT1kLm9mZnNldCgpLGY9YS5vZmZzZXQoKTtmLnRvcC09ZS50b3AsZi5sZWZ0LT1lLmxlZnQsZi5taXNzUmlnaHQ9ITEsZi5taXNzVG9wPSExLGYubWlzc0xlZnQ9ITEsZi5sZWZ0UmlnaHRGbGFnPSExO3ZhciBnO2c9Yy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwicm93XCIpWzBdP2MuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInJvd1wiKVswXS5jbGllbnRXaWR0aDpiLmlubmVyV2lkdGg7dmFyIGg9KGIuaW5uZXJXaWR0aC1nKS8yLGk9ZztyZXR1cm4gdGhpcy5oYXNDbGFzcyhcIm1lZ2FcIil8fChhLm9mZnNldCgpLnRvcDw9dGhpcy5vdXRlckhlaWdodCgpJiYoZi5taXNzVG9wPSEwLGk9Yi5pbm5lcldpZHRoLWgsZi5sZWZ0UmlnaHRGbGFnPSEwKSxhLm9mZnNldCgpLmxlZnQrdGhpcy5vdXRlcldpZHRoKCk+YS5vZmZzZXQoKS5sZWZ0K2gmJmEub2Zmc2V0KCkubGVmdC1oPnRoaXMub3V0ZXJXaWR0aCgpJiYoZi5taXNzUmlnaHQ9ITAsZi5taXNzTGVmdD0hMSksYS5vZmZzZXQoKS5sZWZ0LXRoaXMub3V0ZXJXaWR0aCgpPD0wJiYoZi5taXNzTGVmdD0hMCxmLm1pc3NSaWdodD0hMSkpLGZ9LHRvcDpmdW5jdGlvbihhLGIpe3ZhciBjPUZvdW5kYXRpb24ubGlicy5kcm9wZG93bixkPWMuZGlycy5fYmFzZS5jYWxsKHRoaXMsYSk7cmV0dXJuIHRoaXMuYWRkQ2xhc3MoXCJkcm9wLXRvcFwiKSwxPT1kLm1pc3NUb3AmJihkLnRvcD1kLnRvcCthLm91dGVySGVpZ2h0KCkrdGhpcy5vdXRlckhlaWdodCgpLHRoaXMucmVtb3ZlQ2xhc3MoXCJkcm9wLXRvcFwiKSksMT09ZC5taXNzUmlnaHQmJihkLmxlZnQ9ZC5sZWZ0LXRoaXMub3V0ZXJXaWR0aCgpK2Eub3V0ZXJXaWR0aCgpKSwoYS5vdXRlcldpZHRoKCk8dGhpcy5vdXRlcldpZHRoKCl8fGMuc21hbGwoKXx8dGhpcy5oYXNDbGFzcyhiLm1lZ2FfbWVudSkpJiZjLmFkanVzdF9waXAodGhpcyxhLGIsZCksRm91bmRhdGlvbi5ydGw/e2xlZnQ6ZC5sZWZ0LXRoaXMub3V0ZXJXaWR0aCgpK2Eub3V0ZXJXaWR0aCgpLHRvcDpkLnRvcC10aGlzLm91dGVySGVpZ2h0KCl9OntsZWZ0OmQubGVmdCx0b3A6ZC50b3AtdGhpcy5vdXRlckhlaWdodCgpfX0sYm90dG9tOmZ1bmN0aW9uKGEsYil7dmFyIGM9Rm91bmRhdGlvbi5saWJzLmRyb3Bkb3duLGQ9Yy5kaXJzLl9iYXNlLmNhbGwodGhpcyxhKTtyZXR1cm4gMT09ZC5taXNzUmlnaHQmJihkLmxlZnQ9ZC5sZWZ0LXRoaXMub3V0ZXJXaWR0aCgpK2Eub3V0ZXJXaWR0aCgpKSwoYS5vdXRlcldpZHRoKCk8dGhpcy5vdXRlcldpZHRoKCl8fGMuc21hbGwoKXx8dGhpcy5oYXNDbGFzcyhiLm1lZ2FfbWVudSkpJiZjLmFkanVzdF9waXAodGhpcyxhLGIsZCksXG5jLnJ0bD97bGVmdDpkLmxlZnQtdGhpcy5vdXRlcldpZHRoKCkrYS5vdXRlcldpZHRoKCksdG9wOmQudG9wK2Eub3V0ZXJIZWlnaHQoKX06e2xlZnQ6ZC5sZWZ0LHRvcDpkLnRvcCthLm91dGVySGVpZ2h0KCl9fSxsZWZ0OmZ1bmN0aW9uKGEsYil7dmFyIGM9Rm91bmRhdGlvbi5saWJzLmRyb3Bkb3duLmRpcnMuX2Jhc2UuY2FsbCh0aGlzLGEpO3JldHVybiB0aGlzLmFkZENsYXNzKFwiZHJvcC1sZWZ0XCIpLDE9PWMubWlzc0xlZnQmJihjLmxlZnQ9Yy5sZWZ0K3RoaXMub3V0ZXJXaWR0aCgpLGMudG9wPWMudG9wK2Eub3V0ZXJIZWlnaHQoKSx0aGlzLnJlbW92ZUNsYXNzKFwiZHJvcC1sZWZ0XCIpKSx7bGVmdDpjLmxlZnQtdGhpcy5vdXRlcldpZHRoKCksdG9wOmMudG9wfX0scmlnaHQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1Gb3VuZGF0aW9uLmxpYnMuZHJvcGRvd24uZGlycy5fYmFzZS5jYWxsKHRoaXMsYSk7dGhpcy5hZGRDbGFzcyhcImRyb3AtcmlnaHRcIiksMT09Yy5taXNzUmlnaHQ/KGMubGVmdD1jLmxlZnQtdGhpcy5vdXRlcldpZHRoKCksYy50b3A9Yy50b3ArYS5vdXRlckhlaWdodCgpLHRoaXMucmVtb3ZlQ2xhc3MoXCJkcm9wLXJpZ2h0XCIpKTpjLnRyaWdnZXJlZFJpZ2h0PSEwO3ZhciBkPUZvdW5kYXRpb24ubGlicy5kcm9wZG93bjtyZXR1cm4oYS5vdXRlcldpZHRoKCk8dGhpcy5vdXRlcldpZHRoKCl8fGQuc21hbGwoKXx8dGhpcy5oYXNDbGFzcyhiLm1lZ2FfbWVudSkpJiZkLmFkanVzdF9waXAodGhpcyxhLGIsYykse2xlZnQ6Yy5sZWZ0K2Eub3V0ZXJXaWR0aCgpLHRvcDpjLnRvcH19fSxhZGp1c3RfcGlwOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPUZvdW5kYXRpb24uc3R5bGVzaGVldCxmPTg7YS5oYXNDbGFzcyhjLm1lZ2FfY2xhc3MpP2Y9ZC5sZWZ0K2Iub3V0ZXJXaWR0aCgpLzItODp0aGlzLnNtYWxsKCkmJihmKz1kLmxlZnQtOCksdGhpcy5ydWxlX2lkeD1lLmNzc1J1bGVzLmxlbmd0aDt2YXIgZz1cIi5mLWRyb3Bkb3duLm9wZW46YmVmb3JlXCIsaD1cIi5mLWRyb3Bkb3duLm9wZW46YWZ0ZXJcIixpPVwibGVmdDogXCIrZitcInB4O1wiLGo9XCJsZWZ0OiBcIisoZi0xKStcInB4O1wiOzE9PWQubWlzc1JpZ2h0JiYoZj1hLm91dGVyV2lkdGgoKS0yMyxnPVwiLmYtZHJvcGRvd24ub3BlbjpiZWZvcmVcIixoPVwiLmYtZHJvcGRvd24ub3BlbjphZnRlclwiLGk9XCJsZWZ0OiBcIitmK1wicHg7XCIsaj1cImxlZnQ6IFwiKyhmLTEpK1wicHg7XCIpLDE9PWQudHJpZ2dlcmVkUmlnaHQmJihnPVwiLmYtZHJvcGRvd24ub3BlbjpiZWZvcmVcIixoPVwiLmYtZHJvcGRvd24ub3BlbjphZnRlclwiLGk9XCJsZWZ0Oi0xMnB4O1wiLGo9XCJsZWZ0Oi0xNHB4O1wiKSxlLmluc2VydFJ1bGU/KGUuaW5zZXJ0UnVsZShbZyxcIntcIixpLFwifVwiXS5qb2luKFwiIFwiKSx0aGlzLnJ1bGVfaWR4KSxlLmluc2VydFJ1bGUoW2gsXCJ7XCIsaixcIn1cIl0uam9pbihcIiBcIiksdGhpcy5ydWxlX2lkeCsxKSk6KGUuYWRkUnVsZShnLGksdGhpcy5ydWxlX2lkeCksZS5hZGRSdWxlKGgsaix0aGlzLnJ1bGVfaWR4KzEpKX0sY2xlYXJfaWR4OmZ1bmN0aW9uKCl7dmFyIGE9Rm91bmRhdGlvbi5zdHlsZXNoZWV0O1widW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLnJ1bGVfaWR4JiYoYS5kZWxldGVSdWxlKHRoaXMucnVsZV9pZHgpLGEuZGVsZXRlUnVsZSh0aGlzLnJ1bGVfaWR4KSxkZWxldGUgdGhpcy5ydWxlX2lkeCl9LHNtYWxsOmZ1bmN0aW9uKCl7cmV0dXJuIG1hdGNoTWVkaWEoRm91bmRhdGlvbi5tZWRpYV9xdWVyaWVzLnNtYWxsKS5tYXRjaGVzJiYhbWF0Y2hNZWRpYShGb3VuZGF0aW9uLm1lZGlhX3F1ZXJpZXMubWVkaXVtKS5tYXRjaGVzfSxvZmY6ZnVuY3Rpb24oKXt0aGlzLlModGhpcy5zY29wZSkub2ZmKFwiLmZuZHRuLmRyb3Bkb3duXCIpLHRoaXMuUyhcImh0bWwsIGJvZHlcIikub2ZmKFwiLmZuZHRuLmRyb3Bkb3duXCIpLHRoaXMuUyhiKS5vZmYoXCIuZm5kdG4uZHJvcGRvd25cIiksdGhpcy5TKFwiW2RhdGEtZHJvcGRvd24tY29udGVudF1cIikub2ZmKFwiLmZuZHRuLmRyb3Bkb3duXCIpfSxyZWZsb3c6ZnVuY3Rpb24oKXt9fX0oalF1ZXJ5LHdpbmRvdyx3aW5kb3cuZG9jdW1lbnQpLGZ1bmN0aW9uKGEsYixjLGQpe1widXNlIHN0cmljdFwiO0ZvdW5kYXRpb24ubGlicy5lcXVhbGl6ZXI9e25hbWU6XCJlcXVhbGl6ZXJcIix2ZXJzaW9uOlwiNS41LjJcIixzZXR0aW5nczp7dXNlX3RhbGxlc3Q6ITAsYmVmb3JlX2hlaWdodF9jaGFuZ2U6YS5ub29wLGFmdGVyX2hlaWdodF9jaGFuZ2U6YS5ub29wLGVxdWFsaXplX29uX3N0YWNrOiExLGFjdF9vbl9oaWRkZW5fZWw6ITF9LGluaXQ6ZnVuY3Rpb24oYSxiLGMpe0ZvdW5kYXRpb24uaW5oZXJpdCh0aGlzLFwiaW1hZ2VfbG9hZGVkXCIpLHRoaXMuYmluZGluZ3MoYixjKSx0aGlzLnJlZmxvdygpfSxldmVudHM6ZnVuY3Rpb24oKXt0aGlzLlMoYikub2ZmKFwiLmVxdWFsaXplclwiKS5vbihcInJlc2l6ZS5mbmR0bi5lcXVhbGl6ZXJcIixmdW5jdGlvbihhKXt0aGlzLnJlZmxvdygpfS5iaW5kKHRoaXMpKX0sZXF1YWxpemU6ZnVuY3Rpb24oYil7dmFyIGMsZCxlPSExLGY9Yi5kYXRhKFwiZXF1YWxpemVyXCIpLGc9Yi5kYXRhKHRoaXMuYXR0cl9uYW1lKCEwKStcIi1pbml0XCIpfHx0aGlzLnNldHRpbmdzO2lmKGM9Yi5maW5kKGcuYWN0X29uX2hpZGRlbl9lbD9mP1wiW1wiK3RoaXMuYXR0cl9uYW1lKCkrJy13YXRjaD1cIicrZisnXCJdJzpcIltcIit0aGlzLmF0dHJfbmFtZSgpK1wiLXdhdGNoXVwiOmY/XCJbXCIrdGhpcy5hdHRyX25hbWUoKSsnLXdhdGNoPVwiJytmKydcIl06dmlzaWJsZSc6XCJbXCIrdGhpcy5hdHRyX25hbWUoKStcIi13YXRjaF06dmlzaWJsZVwiKSwwIT09Yy5sZW5ndGgmJihnLmJlZm9yZV9oZWlnaHRfY2hhbmdlKCksYi50cmlnZ2VyKFwiYmVmb3JlLWhlaWdodC1jaGFuZ2UuZm5kdGguZXF1YWxpemVyXCIpLGMuaGVpZ2h0KFwiaW5oZXJpdFwiKSxnLmVxdWFsaXplX29uX3N0YWNrIT09ITF8fChkPWMuZmlyc3QoKS5vZmZzZXQoKS50b3AsYy5lYWNoKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcykub2Zmc2V0KCkudG9wIT09ZD8oZT0hMCwhMSk6dm9pZCAwfSksIWUpKSl7dmFyIGg9Yy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzKS5vdXRlckhlaWdodCghMSl9KS5nZXQoKTtpZihnLnVzZV90YWxsZXN0KXt2YXIgaT1NYXRoLm1heC5hcHBseShudWxsLGgpO2MuY3NzKFwiaGVpZ2h0XCIsaSl9ZWxzZXt2YXIgaj1NYXRoLm1pbi5hcHBseShudWxsLGgpO2MuY3NzKFwiaGVpZ2h0XCIsail9Zy5hZnRlcl9oZWlnaHRfY2hhbmdlKCksYi50cmlnZ2VyKFwiYWZ0ZXItaGVpZ2h0LWNoYW5nZS5mbmR0bi5lcXVhbGl6ZXJcIil9fSxyZWZsb3c6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMuUyhcIltcIit0aGlzLmF0dHJfbmFtZSgpK1wiXVwiLHRoaXMuc2NvcGUpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5kYXRhKFwiZXF1YWxpemVyLW1xXCIpLGU9ITA7ZCYmKGQ9XCJpc19cIitkLnJlcGxhY2UoLy0vZyxcIl9cIiksRm91bmRhdGlvbi51dGlscy5oYXNPd25Qcm9wZXJ0eShkKSYmKGU9ITEpKSxiLmltYWdlX2xvYWRlZChiLlMoXCJpbWdcIix0aGlzKSxmdW5jdGlvbigpe2lmKGV8fEZvdW5kYXRpb24udXRpbHNbZF0oKSliLmVxdWFsaXplKGMpO2Vsc2V7dmFyIGE9Yy5maW5kKFwiW1wiK2IuYXR0cl9uYW1lKCkrXCItd2F0Y2hdOnZpc2libGVcIik7YS5jc3MoXCJoZWlnaHRcIixcImF1dG9cIil9fSl9KX19fShqUXVlcnksd2luZG93LHdpbmRvdy5kb2N1bWVudCksZnVuY3Rpb24oYSxiLGMsZCl7XCJ1c2Ugc3RyaWN0XCI7Rm91bmRhdGlvbi5saWJzLmludGVyY2hhbmdlPXtuYW1lOlwiaW50ZXJjaGFuZ2VcIix2ZXJzaW9uOlwiNS41LjJcIixjYWNoZTp7fSxpbWFnZXNfbG9hZGVkOiExLG5vZGVzX2xvYWRlZDohMSxzZXR0aW5nczp7bG9hZF9hdHRyOlwiaW50ZXJjaGFuZ2VcIixuYW1lZF9xdWVyaWVzOntcImRlZmF1bHRcIjpcIm9ubHkgc2NyZWVuXCIsc21hbGw6Rm91bmRhdGlvbi5tZWRpYV9xdWVyaWVzLnNtYWxsLFwic21hbGwtb25seVwiOkZvdW5kYXRpb24ubWVkaWFfcXVlcmllc1tcInNtYWxsLW9ubHlcIl0sbWVkaXVtOkZvdW5kYXRpb24ubWVkaWFfcXVlcmllcy5tZWRpdW0sXCJtZWRpdW0tb25seVwiOkZvdW5kYXRpb24ubWVkaWFfcXVlcmllc1tcIm1lZGl1bS1vbmx5XCJdLGxhcmdlOkZvdW5kYXRpb24ubWVkaWFfcXVlcmllcy5sYXJnZSxcImxhcmdlLW9ubHlcIjpGb3VuZGF0aW9uLm1lZGlhX3F1ZXJpZXNbXCJsYXJnZS1vbmx5XCJdLHhsYXJnZTpGb3VuZGF0aW9uLm1lZGlhX3F1ZXJpZXMueGxhcmdlLFwieGxhcmdlLW9ubHlcIjpGb3VuZGF0aW9uLm1lZGlhX3F1ZXJpZXNbXCJ4bGFyZ2Utb25seVwiXSx4eGxhcmdlOkZvdW5kYXRpb24ubWVkaWFfcXVlcmllcy54eGxhcmdlLGxhbmRzY2FwZTpcIm9ubHkgc2NyZWVuIGFuZCAob3JpZW50YXRpb246IGxhbmRzY2FwZSlcIixwb3J0cmFpdDpcIm9ubHkgc2NyZWVuIGFuZCAob3JpZW50YXRpb246IHBvcnRyYWl0KVwiLHJldGluYTpcIm9ubHkgc2NyZWVuIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAyKSxvbmx5IHNjcmVlbiBhbmQgKG1pbi0tbW96LWRldmljZS1waXhlbC1yYXRpbzogMiksb25seSBzY3JlZW4gYW5kICgtby1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAyLzEpLG9ubHkgc2NyZWVuIGFuZCAobWluLWRldmljZS1waXhlbC1yYXRpbzogMiksb25seSBzY3JlZW4gYW5kIChtaW4tcmVzb2x1dGlvbjogMTkyZHBpKSxvbmx5IHNjcmVlbiBhbmQgKG1pbi1yZXNvbHV0aW9uOiAyZHBweClcIn0sZGlyZWN0aXZlczp7cmVwbGFjZTpmdW5jdGlvbihiLGMsZCl7aWYobnVsbCE9PWImJi9JTUcvLnRlc3QoYlswXS5ub2RlTmFtZSkpe3ZhciBlPWJbMF0uc3JjO2lmKG5ldyBSZWdFeHAoYyxcImlcIikudGVzdChlKSlyZXR1cm47cmV0dXJuIGIuYXR0cihcInNyY1wiLGMpLGQoYlswXS5zcmMpfXZhciBmPWIuZGF0YSh0aGlzLmRhdGFfYXR0citcIi1sYXN0LXBhdGhcIiksZz10aGlzO2lmKGYhPWMpcmV0dXJuL1xcLihnaWZ8anBnfGpwZWd8dGlmZnxwbmcpKFs/I10uKik/L2kudGVzdChjKT8oYShiKS5jc3MoXCJiYWNrZ3JvdW5kLWltYWdlXCIsXCJ1cmwoXCIrYytcIilcIiksYi5kYXRhKFwiaW50ZXJjaGFuZ2UtbGFzdC1wYXRoXCIsYyksZChjKSk6YS5nZXQoYyxmdW5jdGlvbihhKXtiLmh0bWwoYSksYi5kYXRhKGcuZGF0YV9hdHRyK1wiLWxhc3QtcGF0aFwiLGMpLGQoKX0pfX19LGluaXQ6ZnVuY3Rpb24oYixjLGQpe0ZvdW5kYXRpb24uaW5oZXJpdCh0aGlzLFwidGhyb3R0bGUgcmFuZG9tX3N0clwiKSx0aGlzLmRhdGFfYXR0cj10aGlzLnNldF9kYXRhX2F0dHIoKSxhLmV4dGVuZCghMCx0aGlzLnNldHRpbmdzLGMsZCksdGhpcy5iaW5kaW5ncyhjLGQpLHRoaXMucmVmbG93KCl9LGdldF9tZWRpYV9oYXNoOmZ1bmN0aW9uKCl7dmFyIGE9XCJcIjtmb3IodmFyIGIgaW4gdGhpcy5zZXR0aW5ncy5uYW1lZF9xdWVyaWVzKWErPW1hdGNoTWVkaWEodGhpcy5zZXR0aW5ncy5uYW1lZF9xdWVyaWVzW2JdKS5tYXRjaGVzLnRvU3RyaW5nKCk7cmV0dXJuIGF9LGV2ZW50czpmdW5jdGlvbigpe3ZhciBjLGQ9dGhpcztyZXR1cm4gYShiKS5vZmYoXCIuaW50ZXJjaGFuZ2VcIikub24oXCJyZXNpemUuZm5kdG4uaW50ZXJjaGFuZ2VcIixkLnRocm90dGxlKGZ1bmN0aW9uKCl7dmFyIGE9ZC5nZXRfbWVkaWFfaGFzaCgpO2EhPT1jJiZkLnJlc2l6ZSgpLGM9YX0sNTApKSx0aGlzfSxyZXNpemU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmNhY2hlO2lmKCF0aGlzLmltYWdlc19sb2FkZWR8fCF0aGlzLm5vZGVzX2xvYWRlZClyZXR1cm4gdm9pZCBzZXRUaW1lb3V0KGEucHJveHkodGhpcy5yZXNpemUsdGhpcyksNTApO2Zvcih2YXIgYyBpbiBiKWlmKGIuaGFzT3duUHJvcGVydHkoYykpe3ZhciBkPXRoaXMucmVzdWx0cyhjLGJbY10pO2QmJnRoaXMuc2V0dGluZ3MuZGlyZWN0aXZlc1tkLnNjZW5hcmlvWzFdXS5jYWxsKHRoaXMsZC5lbCxkLnNjZW5hcmlvWzBdLGZ1bmN0aW9uKGEpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgQXJyYXkpdmFyIGI9YXJndW1lbnRzWzBdO2Vsc2UgdmFyIGI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO3JldHVybiBmdW5jdGlvbigpe2EuZWwudHJpZ2dlcihhLnNjZW5hcmlvWzFdLGIpfX0oZCkpfX0scmVzdWx0czpmdW5jdGlvbihhLGIpe3ZhciBjPWIubGVuZ3RoO2lmKGM+MClmb3IodmFyIGQ9dGhpcy5TKFwiW1wiK3RoaXMuYWRkX25hbWVzcGFjZShcImRhdGEtdXVpZFwiKSsnPVwiJythKydcIl0nKTtjLS07KXt2YXIgZSxmPWJbY11bMl07aWYoZT1tYXRjaE1lZGlhKHRoaXMuc2V0dGluZ3MubmFtZWRfcXVlcmllcy5oYXNPd25Qcm9wZXJ0eShmKT90aGlzLnNldHRpbmdzLm5hbWVkX3F1ZXJpZXNbZl06ZiksZS5tYXRjaGVzKXJldHVybntlbDpkLHNjZW5hcmlvOmJbY119fXJldHVybiExfSxsb2FkOmZ1bmN0aW9uKGEsYil7cmV0dXJuKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0aGlzW1wiY2FjaGVkX1wiK2FdfHxiKSYmdGhpc1tcInVwZGF0ZV9cIithXSgpLHRoaXNbXCJjYWNoZWRfXCIrYV19LHVwZGF0ZV9pbWFnZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLlMoXCJpbWdbXCIrdGhpcy5kYXRhX2F0dHIrXCJdXCIpLGI9YS5sZW5ndGgsYz1iLGQ9MCxlPXRoaXMuZGF0YV9hdHRyO2Zvcih0aGlzLmNhY2hlPXt9LHRoaXMuY2FjaGVkX2ltYWdlcz1bXSx0aGlzLmltYWdlc19sb2FkZWQ9MD09PWI7Yy0tOyl7aWYoZCsrLGFbY10pe3ZhciBmPWFbY10uZ2V0QXR0cmlidXRlKGUpfHxcIlwiO2YubGVuZ3RoPjAmJnRoaXMuY2FjaGVkX2ltYWdlcy5wdXNoKGFbY10pfWQ9PT1iJiYodGhpcy5pbWFnZXNfbG9hZGVkPSEwLHRoaXMuZW5oYW5jZShcImltYWdlc1wiKSl9cmV0dXJuIHRoaXN9LHVwZGF0ZV9ub2RlczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuUyhcIltcIit0aGlzLmRhdGFfYXR0citcIl1cIikubm90KFwiaW1nXCIpLGI9YS5sZW5ndGgsYz1iLGQ9MCxlPXRoaXMuZGF0YV9hdHRyO2Zvcih0aGlzLmNhY2hlZF9ub2Rlcz1bXSx0aGlzLm5vZGVzX2xvYWRlZD0wPT09YjtjLS07KXtkKys7dmFyIGY9YVtjXS5nZXRBdHRyaWJ1dGUoZSl8fFwiXCI7Zi5sZW5ndGg+MCYmdGhpcy5jYWNoZWRfbm9kZXMucHVzaChhW2NdKSxkPT09YiYmKHRoaXMubm9kZXNfbG9hZGVkPSEwLHRoaXMuZW5oYW5jZShcIm5vZGVzXCIpKX1yZXR1cm4gdGhpc30sZW5oYW5jZTpmdW5jdGlvbihjKXtmb3IodmFyIGQ9dGhpc1tcImNhY2hlZF9cIitjXS5sZW5ndGg7ZC0tOyl0aGlzLm9iamVjdChhKHRoaXNbXCJjYWNoZWRfXCIrY11bZF0pKTtyZXR1cm4gYShiKS50cmlnZ2VyKFwicmVzaXplLmZuZHRuLmludGVyY2hhbmdlXCIpfSxjb252ZXJ0X2RpcmVjdGl2ZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnRyaW0oYSk7cmV0dXJuIGIubGVuZ3RoPjA/YjpcInJlcGxhY2VcIn0scGFyc2Vfc2NlbmFyaW86ZnVuY3Rpb24oYSl7dmFyIGI9YVswXS5tYXRjaCgvKC4rKSxcXHMqKFxcdyspXFxzKiQvKSxjPWFbMV0ubWF0Y2goLyguKilcXCkvKTtpZihiKXZhciBkPWJbMV0sZT1iWzJdO2Vsc2UgdmFyIGY9YVswXS5zcGxpdCgvLFxccyokLyksZD1mWzBdLGU9XCJcIjtyZXR1cm5bdGhpcy50cmltKGQpLHRoaXMuY29udmVydF9kaXJlY3RpdmUoZSksdGhpcy50cmltKGNbMV0pXX0sb2JqZWN0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucGFyc2VfZGF0YV9hdHRyKGEpLGM9W10sZD1iLmxlbmd0aDtpZihkPjApZm9yKDtkLS07KXt2YXIgZT1iW2RdLnNwbGl0KC8sXFxzP1xcKC8pO2lmKGUubGVuZ3RoPjEpe3ZhciBmPXRoaXMucGFyc2Vfc2NlbmFyaW8oZSk7Yy5wdXNoKGYpfX1yZXR1cm4gdGhpcy5zdG9yZShhLGMpfSxzdG9yZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucmFuZG9tX3N0cigpLGQ9YS5kYXRhKHRoaXMuYWRkX25hbWVzcGFjZShcInV1aWRcIiwhMCkpO3JldHVybiB0aGlzLmNhY2hlW2RdP3RoaXMuY2FjaGVbZF06KGEuYXR0cih0aGlzLmFkZF9uYW1lc3BhY2UoXCJkYXRhLXV1aWRcIiksYyksdGhpcy5jYWNoZVtjXT1iKX0sdHJpbTpmdW5jdGlvbihiKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYj9hLnRyaW0oYik6Yn0sc2V0X2RhdGFfYXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLm5hbWVzcGFjZS5sZW5ndGg+MD90aGlzLm5hbWVzcGFjZStcIi1cIit0aGlzLnNldHRpbmdzLmxvYWRfYXR0cjp0aGlzLnNldHRpbmdzLmxvYWRfYXR0cjp0aGlzLm5hbWVzcGFjZS5sZW5ndGg+MD9cImRhdGEtXCIrdGhpcy5uYW1lc3BhY2UrXCItXCIrdGhpcy5zZXR0aW5ncy5sb2FkX2F0dHI6XCJkYXRhLVwiK3RoaXMuc2V0dGluZ3MubG9hZF9hdHRyfSxwYXJzZV9kYXRhX2F0dHI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEuYXR0cih0aGlzLmF0dHJfbmFtZSgpKS5zcGxpdCgvXFxbKC4qPylcXF0vKSxjPWIubGVuZ3RoLGQ9W107Yy0tOyliW2NdLnJlcGxhY2UoL1tcXFdcXGRdKy8sXCJcIikubGVuZ3RoPjQmJmQucHVzaChiW2NdKTtyZXR1cm4gZH0scmVmbG93OmZ1bmN0aW9uKCl7dGhpcy5sb2FkKFwiaW1hZ2VzXCIsITApLHRoaXMubG9hZChcIm5vZGVzXCIsITApfX19KGpRdWVyeSx3aW5kb3csd2luZG93LmRvY3VtZW50KSxmdW5jdGlvbihhLGIsYyxkKXtcInVzZSBzdHJpY3RcIjtGb3VuZGF0aW9uLmxpYnMuam95cmlkZT17bmFtZTpcImpveXJpZGVcIix2ZXJzaW9uOlwiNS41LjJcIixkZWZhdWx0czp7ZXhwb3NlOiExLG1vZGFsOiEwLGtleWJvYXJkOiEwLHRpcF9sb2NhdGlvbjpcImJvdHRvbVwiLG51Yl9wb3NpdGlvbjpcImF1dG9cIixzY3JvbGxfc3BlZWQ6MTUwMCxzY3JvbGxfYW5pbWF0aW9uOlwibGluZWFyXCIsdGltZXI6MCxzdGFydF90aW1lcl9vbl9jbGljazohMCxzdGFydF9vZmZzZXQ6MCxuZXh0X2J1dHRvbjohMCxwcmV2X2J1dHRvbjohMCx0aXBfYW5pbWF0aW9uOlwiZmFkZVwiLHBhdXNlX2FmdGVyOltdLGV4cG9zZWQ6W10sdGlwX2FuaW1hdGlvbl9mYWRlX3NwZWVkOjMwMCxjb29raWVfbW9uc3RlcjohMSxjb29raWVfbmFtZTpcImpveXJpZGVcIixjb29raWVfZG9tYWluOiExLGNvb2tpZV9leHBpcmVzOjM2NSx0aXBfY29udGFpbmVyOlwiYm9keVwiLGFib3J0X29uX2Nsb3NlOiEwLHRpcF9sb2NhdGlvbl9wYXR0ZXJuczp7dG9wOltcImJvdHRvbVwiXSxib3R0b206W10sbGVmdDpbXCJyaWdodFwiLFwidG9wXCIsXCJib3R0b21cIl0scmlnaHQ6W1wibGVmdFwiLFwidG9wXCIsXCJib3R0b21cIl19LHBvc3RfcmlkZV9jYWxsYmFjazpmdW5jdGlvbigpe30scG9zdF9zdGVwX2NhbGxiYWNrOmZ1bmN0aW9uKCl7fSxwcmVfc3RlcF9jYWxsYmFjazpmdW5jdGlvbigpe30scHJlX3JpZGVfY2FsbGJhY2s6ZnVuY3Rpb24oKXt9LHBvc3RfZXhwb3NlX2NhbGxiYWNrOmZ1bmN0aW9uKCl7fSx0ZW1wbGF0ZTp7bGluazonPGEgaHJlZj1cIiNjbG9zZVwiIGNsYXNzPVwiam95cmlkZS1jbG9zZS10aXBcIj4mdGltZXM7PC9hPicsdGltZXI6JzxkaXYgY2xhc3M9XCJqb3lyaWRlLXRpbWVyLWluZGljYXRvci13cmFwXCI+PHNwYW4gY2xhc3M9XCJqb3lyaWRlLXRpbWVyLWluZGljYXRvclwiPjwvc3Bhbj48L2Rpdj4nLHRpcDonPGRpdiBjbGFzcz1cImpveXJpZGUtdGlwLWd1aWRlXCI+PHNwYW4gY2xhc3M9XCJqb3lyaWRlLW51YlwiPjwvc3Bhbj48L2Rpdj4nLHdyYXBwZXI6JzxkaXYgY2xhc3M9XCJqb3lyaWRlLWNvbnRlbnQtd3JhcHBlclwiPjwvZGl2PicsYnV0dG9uOic8YSBocmVmPVwiI1wiIGNsYXNzPVwic21hbGwgYnV0dG9uIGpveXJpZGUtbmV4dC10aXBcIj48L2E+JyxwcmV2X2J1dHRvbjonPGEgaHJlZj1cIiNcIiBjbGFzcz1cInNtYWxsIGJ1dHRvbiBqb3lyaWRlLXByZXYtdGlwXCI+PC9hPicsbW9kYWw6JzxkaXYgY2xhc3M9XCJqb3lyaWRlLW1vZGFsLWJnXCI+PC9kaXY+JyxleHBvc2U6JzxkaXYgY2xhc3M9XCJqb3lyaWRlLWV4cG9zZS13cmFwcGVyXCI+PC9kaXY+JyxleHBvc2VfY292ZXI6JzxkaXYgY2xhc3M9XCJqb3lyaWRlLWV4cG9zZS1jb3ZlclwiPjwvZGl2Pid9LGV4cG9zZV9hZGRfY2xhc3M6XCJcIn0saW5pdDpmdW5jdGlvbihiLGMsZCl7Rm91bmRhdGlvbi5pbmhlcml0KHRoaXMsXCJ0aHJvdHRsZSByYW5kb21fc3RyXCIpLHRoaXMuc2V0dGluZ3M9dGhpcy5zZXR0aW5nc3x8YS5leHRlbmQoe30sdGhpcy5kZWZhdWx0cyxkfHxjKSx0aGlzLmJpbmRpbmdzKGMsZCl9LGdvX25leHQ6ZnVuY3Rpb24oKXt0aGlzLnNldHRpbmdzLiRsaS5uZXh0KCkubGVuZ3RoPDE/dGhpcy5lbmQoKTp0aGlzLnNldHRpbmdzLnRpbWVyPjA/KGNsZWFyVGltZW91dCh0aGlzLnNldHRpbmdzLmF1dG9tYXRlKSx0aGlzLmhpZGUoKSx0aGlzLnNob3coKSx0aGlzLnN0YXJ0VGltZXIoKSk6KHRoaXMuaGlkZSgpLHRoaXMuc2hvdygpKX0sZ29fcHJldjpmdW5jdGlvbigpe3RoaXMuc2V0dGluZ3MuJGxpLnByZXYoKS5sZW5ndGg8MXx8KHRoaXMuc2V0dGluZ3MudGltZXI+MD8oY2xlYXJUaW1lb3V0KHRoaXMuc2V0dGluZ3MuYXV0b21hdGUpLHRoaXMuaGlkZSgpLHRoaXMuc2hvdyhudWxsLCEwKSx0aGlzLnN0YXJ0VGltZXIoKSk6KHRoaXMuaGlkZSgpLHRoaXMuc2hvdyhudWxsLCEwKSkpfSxldmVudHM6ZnVuY3Rpb24oKXt2YXIgYz10aGlzO2EodGhpcy5zY29wZSkub2ZmKFwiLmpveXJpZGVcIikub24oXCJjbGljay5mbmR0bi5qb3lyaWRlXCIsXCIuam95cmlkZS1uZXh0LXRpcCwgLmpveXJpZGUtbW9kYWwtYmdcIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksdGhpcy5nb19uZXh0KCl9LmJpbmQodGhpcykpLm9uKFwiY2xpY2suZm5kdG4uam95cmlkZVwiLFwiLmpveXJpZGUtcHJldi10aXBcIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksdGhpcy5nb19wcmV2KCl9LmJpbmQodGhpcykpLm9uKFwiY2xpY2suZm5kdG4uam95cmlkZVwiLFwiLmpveXJpZGUtY2xvc2UtdGlwXCIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuZW5kKHRoaXMuc2V0dGluZ3MuYWJvcnRfb25fY2xvc2UpfS5iaW5kKHRoaXMpKS5vbihcImtleXVwLmZuZHRuLmpveXJpZGVcIixmdW5jdGlvbihhKXtpZih0aGlzLnNldHRpbmdzLmtleWJvYXJkJiZ0aGlzLnNldHRpbmdzLnJpZGluZylzd2l0Y2goYS53aGljaCl7Y2FzZSAzOTphLnByZXZlbnREZWZhdWx0KCksdGhpcy5nb19uZXh0KCk7YnJlYWs7Y2FzZSAzNzphLnByZXZlbnREZWZhdWx0KCksdGhpcy5nb19wcmV2KCk7YnJlYWs7Y2FzZSAyNzphLnByZXZlbnREZWZhdWx0KCksdGhpcy5lbmQodGhpcy5zZXR0aW5ncy5hYm9ydF9vbl9jbG9zZSl9fS5iaW5kKHRoaXMpKSxhKGIpLm9mZihcIi5qb3lyaWRlXCIpLm9uKFwicmVzaXplLmZuZHRuLmpveXJpZGVcIixjLnRocm90dGxlKGZ1bmN0aW9uKCl7aWYoYShcIltcIitjLmF0dHJfbmFtZSgpK1wiXVwiKS5sZW5ndGg+MCYmYy5zZXR0aW5ncy4kbmV4dF90aXAmJmMuc2V0dGluZ3MucmlkaW5nKXtpZihjLnNldHRpbmdzLmV4cG9zZWQubGVuZ3RoPjApe3ZhciBiPWEoYy5zZXR0aW5ncy5leHBvc2VkKTtiLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2MudW5fZXhwb3NlKGIpLGMuZXhwb3NlKGIpfSl9Yy5pc19waG9uZSgpP2MucG9zX3Bob25lKCk6Yy5wb3NfZGVmYXVsdCghMSl9fSwxMDApKX0sc3RhcnQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9YShcIltcIit0aGlzLmF0dHJfbmFtZSgpK1wiXVwiLHRoaXMuc2NvcGUpLGQ9W1widGltZXJcIixcInNjcm9sbFNwZWVkXCIsXCJzdGFydE9mZnNldFwiLFwidGlwQW5pbWF0aW9uRmFkZVNwZWVkXCIsXCJjb29raWVFeHBpcmVzXCJdLGU9ZC5sZW5ndGg7IWMubGVuZ3RoPjB8fCh0aGlzLnNldHRpbmdzLmluaXR8fHRoaXMuZXZlbnRzKCksdGhpcy5zZXR0aW5ncz1jLmRhdGEodGhpcy5hdHRyX25hbWUoITApK1wiLWluaXRcIiksdGhpcy5zZXR0aW5ncy4kY29udGVudF9lbD1jLHRoaXMuc2V0dGluZ3MuJGJvZHk9YSh0aGlzLnNldHRpbmdzLnRpcF9jb250YWluZXIpLHRoaXMuc2V0dGluZ3MuYm9keV9vZmZzZXQ9YSh0aGlzLnNldHRpbmdzLnRpcF9jb250YWluZXIpLnBvc2l0aW9uKCksdGhpcy5zZXR0aW5ncy4kdGlwX2NvbnRlbnQ9dGhpcy5zZXR0aW5ncy4kY29udGVudF9lbC5maW5kKFwiPiBsaVwiKSx0aGlzLnNldHRpbmdzLnBhdXNlZD0hMSx0aGlzLnNldHRpbmdzLmF0dGVtcHRzPTAsdGhpcy5zZXR0aW5ncy5yaWRpbmc9ITAsXCJmdW5jdGlvblwiIT10eXBlb2YgYS5jb29raWUmJih0aGlzLnNldHRpbmdzLmNvb2tpZV9tb25zdGVyPSExKSwoIXRoaXMuc2V0dGluZ3MuY29va2llX21vbnN0ZXJ8fHRoaXMuc2V0dGluZ3MuY29va2llX21vbnN0ZXImJiFhLmNvb2tpZSh0aGlzLnNldHRpbmdzLmNvb2tpZV9uYW1lKSkmJih0aGlzLnNldHRpbmdzLiR0aXBfY29udGVudC5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBmPWEodGhpcyk7dGhpcy5zZXR0aW5ncz1hLmV4dGVuZCh7fSxiLmRlZmF1bHRzLGIuZGF0YV9vcHRpb25zKGYpKTtmb3IodmFyIGc9ZTtnLS07KWIuc2V0dGluZ3NbZFtnXV09cGFyc2VJbnQoYi5zZXR0aW5nc1tkW2ddXSwxMCk7Yi5jcmVhdGUoeyRsaTpmLGluZGV4OmN9KX0pLCF0aGlzLnNldHRpbmdzLnN0YXJ0X3RpbWVyX29uX2NsaWNrJiZ0aGlzLnNldHRpbmdzLnRpbWVyPjA/KHRoaXMuc2hvdyhcImluaXRcIiksdGhpcy5zdGFydFRpbWVyKCkpOnRoaXMuc2hvdyhcImluaXRcIikpKX0scmVzdW1lOmZ1bmN0aW9uKCl7dGhpcy5zZXRfbGkoKSx0aGlzLnNob3coKX0sdGlwX3RlbXBsYXRlOmZ1bmN0aW9uKGIpe3ZhciBjLGQ7cmV0dXJuIGIudGlwX2NsYXNzPWIudGlwX2NsYXNzfHxcIlwiLGM9YSh0aGlzLnNldHRpbmdzLnRlbXBsYXRlLnRpcCkuYWRkQ2xhc3MoYi50aXBfY2xhc3MpLGQ9YS50cmltKGEoYi5saSkuaHRtbCgpKSt0aGlzLnByZXZfYnV0dG9uX3RleHQoYi5wcmV2X2J1dHRvbl90ZXh0LGIuaW5kZXgpK3RoaXMuYnV0dG9uX3RleHQoYi5idXR0b25fdGV4dCkrdGhpcy5zZXR0aW5ncy50ZW1wbGF0ZS5saW5rK3RoaXMudGltZXJfaW5zdGFuY2UoYi5pbmRleCksYy5hcHBlbmQoYSh0aGlzLnNldHRpbmdzLnRlbXBsYXRlLndyYXBwZXIpKSxjLmZpcnN0KCkuYXR0cih0aGlzLmFkZF9uYW1lc3BhY2UoXCJkYXRhLWluZGV4XCIpLGIuaW5kZXgpLGEoXCIuam95cmlkZS1jb250ZW50LXdyYXBwZXJcIixjKS5hcHBlbmQoZCksY1swXX0sdGltZXJfaW5zdGFuY2U6ZnVuY3Rpb24oYil7dmFyIGM7cmV0dXJuIGM9MD09PWImJnRoaXMuc2V0dGluZ3Muc3RhcnRfdGltZXJfb25fY2xpY2smJnRoaXMuc2V0dGluZ3MudGltZXI+MHx8MD09PXRoaXMuc2V0dGluZ3MudGltZXI/XCJcIjphKHRoaXMuc2V0dGluZ3MudGVtcGxhdGUudGltZXIpWzBdLm91dGVySFRNTH0sYnV0dG9uX3RleHQ6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuc2V0dGluZ3MudGlwX3NldHRpbmdzLm5leHRfYnV0dG9uPyhiPWEudHJpbShiKXx8XCJOZXh0XCIsYj1hKHRoaXMuc2V0dGluZ3MudGVtcGxhdGUuYnV0dG9uKS5hcHBlbmQoYilbMF0ub3V0ZXJIVE1MKTpiPVwiXCIsYn0scHJldl9idXR0b25fdGV4dDpmdW5jdGlvbihiLGMpe3JldHVybiB0aGlzLnNldHRpbmdzLnRpcF9zZXR0aW5ncy5wcmV2X2J1dHRvbj8oYj1hLnRyaW0oYil8fFwiUHJldmlvdXNcIixiPTA9PWM/YSh0aGlzLnNldHRpbmdzLnRlbXBsYXRlLnByZXZfYnV0dG9uKS5hcHBlbmQoYikuYWRkQ2xhc3MoXCJkaXNhYmxlZFwiKVswXS5vdXRlckhUTUw6YSh0aGlzLnNldHRpbmdzLnRlbXBsYXRlLnByZXZfYnV0dG9uKS5hcHBlbmQoYilbMF0ub3V0ZXJIVE1MKTpiPVwiXCIsYn0sY3JlYXRlOmZ1bmN0aW9uKGIpe3RoaXMuc2V0dGluZ3MudGlwX3NldHRpbmdzPWEuZXh0ZW5kKHt9LHRoaXMuc2V0dGluZ3MsdGhpcy5kYXRhX29wdGlvbnMoYi4kbGkpKTt2YXIgYz1iLiRsaS5hdHRyKHRoaXMuYWRkX25hbWVzcGFjZShcImRhdGEtYnV0dG9uXCIpKXx8Yi4kbGkuYXR0cih0aGlzLmFkZF9uYW1lc3BhY2UoXCJkYXRhLXRleHRcIikpLGQ9Yi4kbGkuYXR0cih0aGlzLmFkZF9uYW1lc3BhY2UoXCJkYXRhLWJ1dHRvbi1wcmV2XCIpKXx8Yi4kbGkuYXR0cih0aGlzLmFkZF9uYW1lc3BhY2UoXCJkYXRhLXByZXYtdGV4dFwiKSksZT1iLiRsaS5hdHRyKFwiY2xhc3NcIiksZj1hKHRoaXMudGlwX3RlbXBsYXRlKHt0aXBfY2xhc3M6ZSxpbmRleDpiLmluZGV4LGJ1dHRvbl90ZXh0OmMscHJldl9idXR0b25fdGV4dDpkLGxpOmIuJGxpfSkpO2EodGhpcy5zZXR0aW5ncy50aXBfY29udGFpbmVyKS5hcHBlbmQoZil9LHNob3c6ZnVuY3Rpb24oYixjKXt2YXIgZT1udWxsO2lmKHRoaXMuc2V0dGluZ3MuJGxpPT09ZHx8LTE9PT1hLmluQXJyYXkodGhpcy5zZXR0aW5ncy4kbGkuaW5kZXgoKSx0aGlzLnNldHRpbmdzLnBhdXNlX2FmdGVyKSlpZih0aGlzLnNldHRpbmdzLnBhdXNlZD90aGlzLnNldHRpbmdzLnBhdXNlZD0hMTp0aGlzLnNldF9saShiLGMpLHRoaXMuc2V0dGluZ3MuYXR0ZW1wdHM9MCx0aGlzLnNldHRpbmdzLiRsaS5sZW5ndGgmJnRoaXMuc2V0dGluZ3MuJHRhcmdldC5sZW5ndGg+MCl7aWYoYiYmKHRoaXMuc2V0dGluZ3MucHJlX3JpZGVfY2FsbGJhY2sodGhpcy5zZXR0aW5ncy4kbGkuaW5kZXgoKSx0aGlzLnNldHRpbmdzLiRuZXh0X3RpcCksdGhpcy5zZXR0aW5ncy5tb2RhbCYmdGhpcy5zaG93X21vZGFsKCkpLHRoaXMuc2V0dGluZ3MucHJlX3N0ZXBfY2FsbGJhY2sodGhpcy5zZXR0aW5ncy4kbGkuaW5kZXgoKSx0aGlzLnNldHRpbmdzLiRuZXh0X3RpcCksdGhpcy5zZXR0aW5ncy5tb2RhbCYmdGhpcy5zZXR0aW5ncy5leHBvc2UmJnRoaXMuZXhwb3NlKCksdGhpcy5zZXR0aW5ncy50aXBfc2V0dGluZ3M9YS5leHRlbmQoe30sdGhpcy5zZXR0aW5ncyx0aGlzLmRhdGFfb3B0aW9ucyh0aGlzLnNldHRpbmdzLiRsaSkpLHRoaXMuc2V0dGluZ3MudGltZXI9cGFyc2VJbnQodGhpcy5zZXR0aW5ncy50aW1lciwxMCksdGhpcy5zZXR0aW5ncy50aXBfc2V0dGluZ3MudGlwX2xvY2F0aW9uX3BhdHRlcm49dGhpcy5zZXR0aW5ncy50aXBfbG9jYXRpb25fcGF0dGVybnNbdGhpcy5zZXR0aW5ncy50aXBfc2V0dGluZ3MudGlwX2xvY2F0aW9uXSwhL2JvZHkvaS50ZXN0KHRoaXMuc2V0dGluZ3MuJHRhcmdldC5zZWxlY3Rvcikpe3ZhciBmPWEoXCIuam95cmlkZS1tb2RhbC1iZ1wiKTsvcG9wL2kudGVzdCh0aGlzLnNldHRpbmdzLnRpcEFuaW1hdGlvbik/Zi5oaWRlKCk6Zi5mYWRlT3V0KHRoaXMuc2V0dGluZ3MudGlwQW5pbWF0aW9uRmFkZVNwZWVkKSx0aGlzLnNjcm9sbF90bygpfXRoaXMuaXNfcGhvbmUoKT90aGlzLnBvc19waG9uZSghMCk6dGhpcy5wb3NfZGVmYXVsdCghMCksZT10aGlzLnNldHRpbmdzLiRuZXh0X3RpcC5maW5kKFwiLmpveXJpZGUtdGltZXItaW5kaWNhdG9yXCIpLC9wb3AvaS50ZXN0KHRoaXMuc2V0dGluZ3MudGlwX2FuaW1hdGlvbik/KGUud2lkdGgoMCksdGhpcy5zZXR0aW5ncy50aW1lcj4wPyh0aGlzLnNldHRpbmdzLiRuZXh0X3RpcC5zaG93KCksc2V0VGltZW91dChmdW5jdGlvbigpe2UuYW5pbWF0ZSh7d2lkdGg6ZS5wYXJlbnQoKS53aWR0aCgpfSx0aGlzLnNldHRpbmdzLnRpbWVyLFwibGluZWFyXCIpfS5iaW5kKHRoaXMpLHRoaXMuc2V0dGluZ3MudGlwX2FuaW1hdGlvbl9mYWRlX3NwZWVkKSk6dGhpcy5zZXR0aW5ncy4kbmV4dF90aXAuc2hvdygpKTovZmFkZS9pLnRlc3QodGhpcy5zZXR0aW5ncy50aXBfYW5pbWF0aW9uKSYmKGUud2lkdGgoMCksdGhpcy5zZXR0aW5ncy50aW1lcj4wPyh0aGlzLnNldHRpbmdzLiRuZXh0X3RpcC5mYWRlSW4odGhpcy5zZXR0aW5ncy50aXBfYW5pbWF0aW9uX2ZhZGVfc3BlZWQpLnNob3coKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5hbmltYXRlKHt3aWR0aDplLnBhcmVudCgpLndpZHRoKCl9LHRoaXMuc2V0dGluZ3MudGltZXIsXCJsaW5lYXJcIil9LmJpbmQodGhpcyksdGhpcy5zZXR0aW5ncy50aXBfYW5pbWF0aW9uX2ZhZGVfc3BlZWQpKTp0aGlzLnNldHRpbmdzLiRuZXh0X3RpcC5mYWRlSW4odGhpcy5zZXR0aW5ncy50aXBfYW5pbWF0aW9uX2ZhZGVfc3BlZWQpKSx0aGlzLnNldHRpbmdzLiRjdXJyZW50X3RpcD10aGlzLnNldHRpbmdzLiRuZXh0X3RpcH1lbHNlIHRoaXMuc2V0dGluZ3MuJGxpJiZ0aGlzLnNldHRpbmdzLiR0YXJnZXQubGVuZ3RoPDE/dGhpcy5zaG93KGIsYyk6dGhpcy5lbmQoKTtlbHNlIHRoaXMuc2V0dGluZ3MucGF1c2VkPSEwfSxpc19waG9uZTpmdW5jdGlvbigpe3JldHVybiBtYXRjaE1lZGlhKEZvdW5kYXRpb24ubWVkaWFfcXVlcmllcy5zbWFsbCkubWF0Y2hlcyYmIW1hdGNoTWVkaWEoRm91bmRhdGlvbi5tZWRpYV9xdWVyaWVzLm1lZGl1bSkubWF0Y2hlc30saGlkZTpmdW5jdGlvbigpe3RoaXMuc2V0dGluZ3MubW9kYWwmJnRoaXMuc2V0dGluZ3MuZXhwb3NlJiZ0aGlzLnVuX2V4cG9zZSgpLHRoaXMuc2V0dGluZ3MubW9kYWx8fGEoXCIuam95cmlkZS1tb2RhbC1iZ1wiKS5oaWRlKCksdGhpcy5zZXR0aW5ncy4kY3VycmVudF90aXAuY3NzKFwidmlzaWJpbGl0eVwiLFwiaGlkZGVuXCIpLHNldFRpbWVvdXQoYS5wcm94eShmdW5jdGlvbigpe3RoaXMuaGlkZSgpLHRoaXMuY3NzKFwidmlzaWJpbGl0eVwiLFwidmlzaWJsZVwiKX0sdGhpcy5zZXR0aW5ncy4kY3VycmVudF90aXApLDApLHRoaXMuc2V0dGluZ3MucG9zdF9zdGVwX2NhbGxiYWNrKHRoaXMuc2V0dGluZ3MuJGxpLmluZGV4KCksdGhpcy5zZXR0aW5ncy4kY3VycmVudF90aXApfSxzZXRfbGk6ZnVuY3Rpb24oYSxiKXthPyh0aGlzLnNldHRpbmdzLiRsaT10aGlzLnNldHRpbmdzLiR0aXBfY29udGVudC5lcSh0aGlzLnNldHRpbmdzLnN0YXJ0X29mZnNldCksdGhpcy5zZXRfbmV4dF90aXAoKSx0aGlzLnNldHRpbmdzLiRjdXJyZW50X3RpcD10aGlzLnNldHRpbmdzLiRuZXh0X3RpcCk6KGI/dGhpcy5zZXR0aW5ncy4kbGk9dGhpcy5zZXR0aW5ncy4kbGkucHJldigpOnRoaXMuc2V0dGluZ3MuJGxpPXRoaXMuc2V0dGluZ3MuJGxpLm5leHQoKSx0aGlzLnNldF9uZXh0X3RpcCgpKSx0aGlzLnNldF90YXJnZXQoKX0sc2V0X25leHRfdGlwOmZ1bmN0aW9uKCl7dGhpcy5zZXR0aW5ncy4kbmV4dF90aXA9YShcIi5qb3lyaWRlLXRpcC1ndWlkZVwiKS5lcSh0aGlzLnNldHRpbmdzLiRsaS5pbmRleCgpKSx0aGlzLnNldHRpbmdzLiRuZXh0X3RpcC5kYXRhKFwiY2xvc2VkXCIsXCJcIil9LHNldF90YXJnZXQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLnNldHRpbmdzLiRsaS5hdHRyKHRoaXMuYWRkX25hbWVzcGFjZShcImRhdGEtY2xhc3NcIikpLGQ9dGhpcy5zZXR0aW5ncy4kbGkuYXR0cih0aGlzLmFkZF9uYW1lc3BhY2UoXCJkYXRhLWlkXCIpKSxlPWZ1bmN0aW9uKCl7cmV0dXJuIGQ/YShjLmdldEVsZW1lbnRCeUlkKGQpKTpiP2EoXCIuXCIrYikuZmlyc3QoKTphKFwiYm9keVwiKX07dGhpcy5zZXR0aW5ncy4kdGFyZ2V0PWUoKX0sc2Nyb2xsX3RvOmZ1bmN0aW9uKCl7dmFyIGMsZDtjPWEoYikuaGVpZ2h0KCkvMixkPU1hdGguY2VpbCh0aGlzLnNldHRpbmdzLiR0YXJnZXQub2Zmc2V0KCkudG9wLWMrdGhpcy5zZXR0aW5ncy4kbmV4dF90aXAub3V0ZXJIZWlnaHQoKSksMCE9ZCYmYShcImh0bWwsIGJvZHlcIikuc3RvcCgpLmFuaW1hdGUoe3Njcm9sbFRvcDpkfSx0aGlzLnNldHRpbmdzLnNjcm9sbF9zcGVlZCxcInN3aW5nXCIpfSxwYXVzZWQ6ZnVuY3Rpb24oKXtyZXR1cm4tMT09PWEuaW5BcnJheSh0aGlzLnNldHRpbmdzLiRsaS5pbmRleCgpKzEsdGhpcy5zZXR0aW5ncy5wYXVzZV9hZnRlcil9LHJlc3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLmhpZGUoKSx0aGlzLnNldHRpbmdzLiRsaT1kLHRoaXMuc2hvdyhcImluaXRcIil9LHBvc19kZWZhdWx0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc2V0dGluZ3MuJG5leHRfdGlwLmZpbmQoXCIuam95cmlkZS1udWJcIiksYz1NYXRoLmNlaWwoYi5vdXRlcldpZHRoKCkvMiksZD1NYXRoLmNlaWwoYi5vdXRlckhlaWdodCgpLzIpLGU9YXx8ITE7aWYoZSYmKHRoaXMuc2V0dGluZ3MuJG5leHRfdGlwLmNzcyhcInZpc2liaWxpdHlcIixcImhpZGRlblwiKSx0aGlzLnNldHRpbmdzLiRuZXh0X3RpcC5zaG93KCkpLC9ib2R5L2kudGVzdCh0aGlzLnNldHRpbmdzLiR0YXJnZXQuc2VsZWN0b3IpKXRoaXMuc2V0dGluZ3MuJGxpLmxlbmd0aCYmdGhpcy5wb3NfbW9kYWwoYik7ZWxzZXt2YXIgZj10aGlzLnNldHRpbmdzLnRpcF9zZXR0aW5ncy50aXBBZGp1c3RtZW50WT9wYXJzZUludCh0aGlzLnNldHRpbmdzLnRpcF9zZXR0aW5ncy50aXBBZGp1c3RtZW50WSk6MCxnPXRoaXMuc2V0dGluZ3MudGlwX3NldHRpbmdzLnRpcEFkanVzdG1lbnRYP3BhcnNlSW50KHRoaXMuc2V0dGluZ3MudGlwX3NldHRpbmdzLnRpcEFkanVzdG1lbnRYKTowO3RoaXMuYm90dG9tKCk/KHRoaXMuc2V0dGluZ3MuJG5leHRfdGlwLmNzcyh0aGlzLnJ0bD97dG9wOnRoaXMuc2V0dGluZ3MuJHRhcmdldC5vZmZzZXQoKS50b3ArZCt0aGlzLnNldHRpbmdzLiR0YXJnZXQub3V0ZXJIZWlnaHQoKStmLGxlZnQ6dGhpcy5zZXR0aW5ncy4kdGFyZ2V0Lm9mZnNldCgpLmxlZnQrdGhpcy5zZXR0aW5ncy4kdGFyZ2V0Lm91dGVyV2lkdGgoKS10aGlzLnNldHRpbmdzLiRuZXh0X3RpcC5vdXRlcldpZHRoKCkrZ306e3RvcDp0aGlzLnNldHRpbmdzLiR0YXJnZXQub2Zmc2V0KCkudG9wK2QrdGhpcy5zZXR0aW5ncy4kdGFyZ2V0Lm91dGVySGVpZ2h0KCkrZixsZWZ0OnRoaXMuc2V0dGluZ3MuJHRhcmdldC5vZmZzZXQoKS5sZWZ0K2d9KSx0aGlzLm51Yl9wb3NpdGlvbihiLHRoaXMuc2V0dGluZ3MudGlwX3NldHRpbmdzLm51Yl9wb3NpdGlvbixcInRvcFwiKSk6dGhpcy50b3AoKT8odGhpcy5zZXR0aW5ncy4kbmV4dF90aXAuY3NzKHRoaXMucnRsP3t0b3A6dGhpcy5zZXR0aW5ncy4kdGFyZ2V0Lm9mZnNldCgpLnRvcC10aGlzLnNldHRpbmdzLiRuZXh0X3RpcC5vdXRlckhlaWdodCgpLWQrZixsZWZ0OnRoaXMuc2V0dGluZ3MuJHRhcmdldC5vZmZzZXQoKS5sZWZ0K3RoaXMuc2V0dGluZ3MuJHRhcmdldC5vdXRlcldpZHRoKCktdGhpcy5zZXR0aW5ncy4kbmV4dF90aXAub3V0ZXJXaWR0aCgpfTp7dG9wOnRoaXMuc2V0dGluZ3MuJHRhcmdldC5vZmZzZXQoKS50b3AtdGhpcy5zZXR0aW5ncy4kbmV4dF90aXAub3V0ZXJIZWlnaHQoKS1kK2YsbGVmdDp0aGlzLnNldHRpbmdzLiR0YXJnZXQub2Zmc2V0KCkubGVmdCtnfSksdGhpcy5udWJfcG9zaXRpb24oYix0aGlzLnNldHRpbmdzLnRpcF9zZXR0aW5ncy5udWJfcG9zaXRpb24sXCJib3R0b21cIikpOnRoaXMucmlnaHQoKT8odGhpcy5zZXR0aW5ncy4kbmV4dF90aXAuY3NzKHt0b3A6dGhpcy5zZXR0aW5ncy4kdGFyZ2V0Lm9mZnNldCgpLnRvcCtmLGxlZnQ6dGhpcy5zZXR0aW5ncy4kdGFyZ2V0Lm91dGVyV2lkdGgoKSt0aGlzLnNldHRpbmdzLiR0YXJnZXQub2Zmc2V0KCkubGVmdCtjK2d9KSx0aGlzLm51Yl9wb3NpdGlvbihiLHRoaXMuc2V0dGluZ3MudGlwX3NldHRpbmdzLm51Yl9wb3NpdGlvbixcImxlZnRcIikpOnRoaXMubGVmdCgpJiYodGhpcy5zZXR0aW5ncy4kbmV4dF90aXAuY3NzKHt0b3A6dGhpcy5zZXR0aW5ncy4kdGFyZ2V0Lm9mZnNldCgpLnRvcCtmLGxlZnQ6dGhpcy5zZXR0aW5ncy4kdGFyZ2V0Lm9mZnNldCgpLmxlZnQtdGhpcy5zZXR0aW5ncy4kbmV4dF90aXAub3V0ZXJXaWR0aCgpLWMrZ30pLHRoaXMubnViX3Bvc2l0aW9uKGIsdGhpcy5zZXR0aW5ncy50aXBfc2V0dGluZ3MubnViX3Bvc2l0aW9uLFwicmlnaHRcIikpLCF0aGlzLnZpc2libGUodGhpcy5jb3JuZXJzKHRoaXMuc2V0dGluZ3MuJG5leHRfdGlwKSkmJnRoaXMuc2V0dGluZ3MuYXR0ZW1wdHM8dGhpcy5zZXR0aW5ncy50aXBfc2V0dGluZ3MudGlwX2xvY2F0aW9uX3BhdHRlcm4ubGVuZ3RoJiYoYi5yZW1vdmVDbGFzcyhcImJvdHRvbVwiKS5yZW1vdmVDbGFzcyhcInRvcFwiKS5yZW1vdmVDbGFzcyhcInJpZ2h0XCIpLnJlbW92ZUNsYXNzKFwibGVmdFwiKSx0aGlzLnNldHRpbmdzLnRpcF9zZXR0aW5ncy50aXBfbG9jYXRpb249dGhpcy5zZXR0aW5ncy50aXBfc2V0dGluZ3MudGlwX2xvY2F0aW9uX3BhdHRlcm5bdGhpcy5zZXR0aW5ncy5hdHRlbXB0c10sdGhpcy5zZXR0aW5ncy5hdHRlbXB0cysrLHRoaXMucG9zX2RlZmF1bHQoKSl9ZSYmKHRoaXMuc2V0dGluZ3MuJG5leHRfdGlwLmhpZGUoKSx0aGlzLnNldHRpbmdzLiRuZXh0X3RpcC5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJ2aXNpYmxlXCIpKX0scG9zX3Bob25lOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuc2V0dGluZ3MuJG5leHRfdGlwLm91dGVySGVpZ2h0KCksZD0odGhpcy5zZXR0aW5ncy4kbmV4dF90aXAub2Zmc2V0KCksdGhpcy5zZXR0aW5ncy4kdGFyZ2V0Lm91dGVySGVpZ2h0KCkpLGU9YShcIi5qb3lyaWRlLW51YlwiLHRoaXMuc2V0dGluZ3MuJG5leHRfdGlwKSxmPU1hdGguY2VpbChlLm91dGVySGVpZ2h0KCkvMiksZz1ifHwhMTtlLnJlbW92ZUNsYXNzKFwiYm90dG9tXCIpLnJlbW92ZUNsYXNzKFwidG9wXCIpLnJlbW92ZUNsYXNzKFwicmlnaHRcIikucmVtb3ZlQ2xhc3MoXCJsZWZ0XCIpLGcmJih0aGlzLnNldHRpbmdzLiRuZXh0X3RpcC5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIiksdGhpcy5zZXR0aW5ncy4kbmV4dF90aXAuc2hvdygpKSwvYm9keS9pLnRlc3QodGhpcy5zZXR0aW5ncy4kdGFyZ2V0LnNlbGVjdG9yKT90aGlzLnNldHRpbmdzLiRsaS5sZW5ndGgmJnRoaXMucG9zX21vZGFsKGUpOnRoaXMudG9wKCk/KHRoaXMuc2V0dGluZ3MuJG5leHRfdGlwLm9mZnNldCh7dG9wOnRoaXMuc2V0dGluZ3MuJHRhcmdldC5vZmZzZXQoKS50b3AtYy1mfSksZS5hZGRDbGFzcyhcImJvdHRvbVwiKSk6KHRoaXMuc2V0dGluZ3MuJG5leHRfdGlwLm9mZnNldCh7dG9wOnRoaXMuc2V0dGluZ3MuJHRhcmdldC5vZmZzZXQoKS50b3ArZCtmfSksZS5hZGRDbGFzcyhcInRvcFwiKSksZyYmKHRoaXMuc2V0dGluZ3MuJG5leHRfdGlwLmhpZGUoKSx0aGlzLnNldHRpbmdzLiRuZXh0X3RpcC5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJ2aXNpYmxlXCIpKX0scG9zX21vZGFsOmZ1bmN0aW9uKGEpe3RoaXMuY2VudGVyKCksYS5oaWRlKCksdGhpcy5zaG93X21vZGFsKCl9LHNob3dfbW9kYWw6ZnVuY3Rpb24oKXtpZighdGhpcy5zZXR0aW5ncy4kbmV4dF90aXAuZGF0YShcImNsb3NlZFwiKSl7dmFyIGI9YShcIi5qb3lyaWRlLW1vZGFsLWJnXCIpO2lmKGIubGVuZ3RoPDEpe3ZhciBiPWEodGhpcy5zZXR0aW5ncy50ZW1wbGF0ZS5tb2RhbCk7Yi5hcHBlbmRUbyhcImJvZHlcIil9L3BvcC9pLnRlc3QodGhpcy5zZXR0aW5ncy50aXBfYW5pbWF0aW9uKT9iLnNob3coKTpiLmZhZGVJbih0aGlzLnNldHRpbmdzLnRpcF9hbmltYXRpb25fZmFkZV9zcGVlZCl9fSxleHBvc2U6ZnVuY3Rpb24oKXt2YXIgYyxkLGUsZixnLGg9XCJleHBvc2UtXCIrdGhpcy5yYW5kb21fc3RyKDYpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBhKWU9YXJndW1lbnRzWzBdO2Vsc2V7aWYoIXRoaXMuc2V0dGluZ3MuJHRhcmdldHx8L2JvZHkvaS50ZXN0KHRoaXMuc2V0dGluZ3MuJHRhcmdldC5zZWxlY3RvcikpcmV0dXJuITE7ZT10aGlzLnNldHRpbmdzLiR0YXJnZXR9cmV0dXJuIGUubGVuZ3RoPDE/KGIuY29uc29sZSYmY29uc29sZS5lcnJvcihcImVsZW1lbnQgbm90IHZhbGlkXCIsZSksITEpOihjPWEodGhpcy5zZXR0aW5ncy50ZW1wbGF0ZS5leHBvc2UpLHRoaXMuc2V0dGluZ3MuJGJvZHkuYXBwZW5kKGMpLGMuY3NzKHt0b3A6ZS5vZmZzZXQoKS50b3AsbGVmdDplLm9mZnNldCgpLmxlZnQsd2lkdGg6ZS5vdXRlcldpZHRoKCEwKSxoZWlnaHQ6ZS5vdXRlckhlaWdodCghMCl9KSxkPWEodGhpcy5zZXR0aW5ncy50ZW1wbGF0ZS5leHBvc2VfY292ZXIpLGY9e3pJbmRleDplLmNzcyhcInotaW5kZXhcIikscG9zaXRpb246ZS5jc3MoXCJwb3NpdGlvblwiKX0sZz1udWxsPT1lLmF0dHIoXCJjbGFzc1wiKT9cIlwiOmUuYXR0cihcImNsYXNzXCIpLGUuY3NzKFwiei1pbmRleFwiLHBhcnNlSW50KGMuY3NzKFwiei1pbmRleFwiKSkrMSksXCJzdGF0aWNcIj09Zi5wb3NpdGlvbiYmZS5jc3MoXCJwb3NpdGlvblwiLFwicmVsYXRpdmVcIiksZS5kYXRhKFwiZXhwb3NlLWNzc1wiLGYpLGUuZGF0YShcIm9yaWctY2xhc3NcIixnKSxlLmF0dHIoXCJjbGFzc1wiLGcrXCIgXCIrdGhpcy5zZXR0aW5ncy5leHBvc2VfYWRkX2NsYXNzKSxkLmNzcyh7dG9wOmUub2Zmc2V0KCkudG9wLGxlZnQ6ZS5vZmZzZXQoKS5sZWZ0LHdpZHRoOmUub3V0ZXJXaWR0aCghMCksaGVpZ2h0OmUub3V0ZXJIZWlnaHQoITApfSksdGhpcy5zZXR0aW5ncy5tb2RhbCYmdGhpcy5zaG93X21vZGFsKCksdGhpcy5zZXR0aW5ncy4kYm9keS5hcHBlbmQoZCksYy5hZGRDbGFzcyhoKSxkLmFkZENsYXNzKGgpLGUuZGF0YShcImV4cG9zZVwiLGgpLHRoaXMuc2V0dGluZ3MucG9zdF9leHBvc2VfY2FsbGJhY2sodGhpcy5zZXR0aW5ncy4kbGkuaW5kZXgoKSx0aGlzLnNldHRpbmdzLiRuZXh0X3RpcCxlKSx2b2lkIHRoaXMuYWRkX2V4cG9zZWQoZSkpfSx1bl9leHBvc2U6ZnVuY3Rpb24oKXt2YXIgYyxkLGUsZixnLGg9ITE7aWYoYXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIGEpZD1hcmd1bWVudHNbMF07ZWxzZXtpZighdGhpcy5zZXR0aW5ncy4kdGFyZ2V0fHwvYm9keS9pLnRlc3QodGhpcy5zZXR0aW5ncy4kdGFyZ2V0LnNlbGVjdG9yKSlyZXR1cm4hMTtkPXRoaXMuc2V0dGluZ3MuJHRhcmdldH1yZXR1cm4gZC5sZW5ndGg8MT8oYi5jb25zb2xlJiZjb25zb2xlLmVycm9yKFwiZWxlbWVudCBub3QgdmFsaWRcIixkKSwhMSk6KGM9ZC5kYXRhKFwiZXhwb3NlXCIpLGU9YShcIi5cIitjKSxhcmd1bWVudHMubGVuZ3RoPjEmJihoPWFyZ3VtZW50c1sxXSksaD09PSEwP2EoXCIuam95cmlkZS1leHBvc2Utd3JhcHBlciwuam95cmlkZS1leHBvc2UtY292ZXJcIikucmVtb3ZlKCk6ZS5yZW1vdmUoKSxmPWQuZGF0YShcImV4cG9zZS1jc3NcIiksXCJhdXRvXCI9PWYuekluZGV4P2QuY3NzKFwiei1pbmRleFwiLFwiXCIpOmQuY3NzKFwiei1pbmRleFwiLGYuekluZGV4KSxmLnBvc2l0aW9uIT1kLmNzcyhcInBvc2l0aW9uXCIpJiYoXCJzdGF0aWNcIj09Zi5wb3NpdGlvbj9kLmNzcyhcInBvc2l0aW9uXCIsXCJcIik6ZC5jc3MoXCJwb3NpdGlvblwiLGYucG9zaXRpb24pKSxnPWQuZGF0YShcIm9yaWctY2xhc3NcIiksZC5hdHRyKFwiY2xhc3NcIixnKSxkLnJlbW92ZURhdGEoXCJvcmlnLWNsYXNzZXNcIiksZC5yZW1vdmVEYXRhKFwiZXhwb3NlXCIpLGQucmVtb3ZlRGF0YShcImV4cG9zZS16LWluZGV4XCIpLHZvaWQgdGhpcy5yZW1vdmVfZXhwb3NlZChkKSl9LGFkZF9leHBvc2VkOmZ1bmN0aW9uKGIpe3RoaXMuc2V0dGluZ3MuZXhwb3NlZD10aGlzLnNldHRpbmdzLmV4cG9zZWR8fFtdLGIgaW5zdGFuY2VvZiBhfHxcIm9iamVjdFwiPT10eXBlb2YgYj90aGlzLnNldHRpbmdzLmV4cG9zZWQucHVzaChiWzBdKTpcInN0cmluZ1wiPT10eXBlb2YgYiYmdGhpcy5zZXR0aW5ncy5leHBvc2VkLnB1c2goYil9LHJlbW92ZV9leHBvc2VkOmZ1bmN0aW9uKGIpe3ZhciBjLGQ7Zm9yKGIgaW5zdGFuY2VvZiBhP2M9YlswXTpcInN0cmluZ1wiPT10eXBlb2YgYiYmKGM9YiksdGhpcy5zZXR0aW5ncy5leHBvc2VkPXRoaXMuc2V0dGluZ3MuZXhwb3NlZHx8W10sZD10aGlzLnNldHRpbmdzLmV4cG9zZWQubGVuZ3RoO2QtLTspaWYodGhpcy5zZXR0aW5ncy5leHBvc2VkW2RdPT1jKXJldHVybiB2b2lkIHRoaXMuc2V0dGluZ3MuZXhwb3NlZC5zcGxpY2UoZCwxKX0sY2VudGVyOmZ1bmN0aW9uKCl7dmFyIGM9YShiKTtyZXR1cm4gdGhpcy5zZXR0aW5ncy4kbmV4dF90aXAuY3NzKHt0b3A6KGMuaGVpZ2h0KCktdGhpcy5zZXR0aW5ncy4kbmV4dF90aXAub3V0ZXJIZWlnaHQoKSkvMitjLnNjcm9sbFRvcCgpLGxlZnQ6KGMud2lkdGgoKS10aGlzLnNldHRpbmdzLiRuZXh0X3RpcC5vdXRlcldpZHRoKCkpLzIrYy5zY3JvbGxMZWZ0KCl9KSwhMH0sYm90dG9tOmZ1bmN0aW9uKCl7cmV0dXJuL2JvdHRvbS9pLnRlc3QodGhpcy5zZXR0aW5ncy50aXBfc2V0dGluZ3MudGlwX2xvY2F0aW9uKX0sdG9wOmZ1bmN0aW9uKCl7cmV0dXJuL3RvcC9pLnRlc3QodGhpcy5zZXR0aW5ncy50aXBfc2V0dGluZ3MudGlwX2xvY2F0aW9uKX0scmlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4vcmlnaHQvaS50ZXN0KHRoaXMuc2V0dGluZ3MudGlwX3NldHRpbmdzLnRpcF9sb2NhdGlvbil9LGxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4vbGVmdC9pLnRlc3QodGhpcy5zZXR0aW5ncy50aXBfc2V0dGluZ3MudGlwX2xvY2F0aW9uKX0sY29ybmVyczpmdW5jdGlvbihjKXt2YXIgZD1hKGIpLGU9ZC5oZWlnaHQoKS8yLGY9TWF0aC5jZWlsKHRoaXMuc2V0dGluZ3MuJHRhcmdldC5vZmZzZXQoKS50b3AtZSt0aGlzLnNldHRpbmdzLiRuZXh0X3RpcC5vdXRlckhlaWdodCgpKSxnPWQud2lkdGgoKStkLnNjcm9sbExlZnQoKSxoPWQuaGVpZ2h0KCkrZixpPWQuaGVpZ2h0KCkrZC5zY3JvbGxUb3AoKSxqPWQuc2Nyb2xsVG9wKCk7cmV0dXJuIGo+ZiYmKGo9MD5mPzA6ZiksaD5pJiYoaT1oKSxbYy5vZmZzZXQoKS50b3A8aixnPGMub2Zmc2V0KCkubGVmdCtjLm91dGVyV2lkdGgoKSxpPGMub2Zmc2V0KCkudG9wK2Mub3V0ZXJIZWlnaHQoKSxkLnNjcm9sbExlZnQoKT5jLm9mZnNldCgpLmxlZnRdfSx2aXNpYmxlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmxlbmd0aDtiLS07KWlmKGFbYl0pcmV0dXJuITE7cmV0dXJuITB9LG51Yl9wb3NpdGlvbjpmdW5jdGlvbihhLGIsYyl7YS5hZGRDbGFzcyhcImF1dG9cIj09PWI/YzpiKX0sc3RhcnRUaW1lcjpmdW5jdGlvbigpe3RoaXMuc2V0dGluZ3MuJGxpLmxlbmd0aD90aGlzLnNldHRpbmdzLmF1dG9tYXRlPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmhpZGUoKSx0aGlzLnNob3coKSx0aGlzLnN0YXJ0VGltZXIoKX0uYmluZCh0aGlzKSx0aGlzLnNldHRpbmdzLnRpbWVyKTpjbGVhclRpbWVvdXQodGhpcy5zZXR0aW5ncy5hdXRvbWF0ZSl9LGVuZDpmdW5jdGlvbihiKXt0aGlzLnNldHRpbmdzLmNvb2tpZV9tb25zdGVyJiZhLmNvb2tpZSh0aGlzLnNldHRpbmdzLmNvb2tpZV9uYW1lLFwicmlkZGVuXCIse2V4cGlyZXM6dGhpcy5zZXR0aW5ncy5jb29raWVfZXhwaXJlcyxkb21haW46dGhpcy5zZXR0aW5ncy5jb29raWVfZG9tYWlufSksdGhpcy5zZXR0aW5ncy50aW1lcj4wJiZjbGVhclRpbWVvdXQodGhpcy5zZXR0aW5ncy5hdXRvbWF0ZSksdGhpcy5zZXR0aW5ncy5tb2RhbCYmdGhpcy5zZXR0aW5ncy5leHBvc2UmJnRoaXMudW5fZXhwb3NlKCksYSh0aGlzLnNjb3BlKS5vZmYoXCJrZXl1cC5qb3lyaWRlXCIpLHRoaXMuc2V0dGluZ3MuJG5leHRfdGlwLmRhdGEoXCJjbG9zZWRcIiwhMCksdGhpcy5zZXR0aW5ncy5yaWRpbmc9ITEsYShcIi5qb3lyaWRlLW1vZGFsLWJnXCIpLmhpZGUoKSx0aGlzLnNldHRpbmdzLiRjdXJyZW50X3RpcC5oaWRlKCksKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBifHxiPT09ITEpJiYodGhpcy5zZXR0aW5ncy5wb3N0X3N0ZXBfY2FsbGJhY2sodGhpcy5zZXR0aW5ncy4kbGkuaW5kZXgoKSx0aGlzLnNldHRpbmdzLiRjdXJyZW50X3RpcCksdGhpcy5zZXR0aW5ncy5wb3N0X3JpZGVfY2FsbGJhY2sodGhpcy5zZXR0aW5ncy4kbGkuaW5kZXgoKSx0aGlzLnNldHRpbmdzLiRjdXJyZW50X3RpcCkpLGEoXCIuam95cmlkZS10aXAtZ3VpZGVcIikucmVtb3ZlKCl9LG9mZjpmdW5jdGlvbigpe2EodGhpcy5zY29wZSkub2ZmKFwiLmpveXJpZGVcIiksYShiKS5vZmYoXCIuam95cmlkZVwiKSxhKFwiLmpveXJpZGUtY2xvc2UtdGlwLCAuam95cmlkZS1uZXh0LXRpcCwgLmpveXJpZGUtbW9kYWwtYmdcIikub2ZmKFwiLmpveXJpZGVcIiksYShcIi5qb3lyaWRlLXRpcC1ndWlkZSwgLmpveXJpZGUtbW9kYWwtYmdcIikucmVtb3ZlKCksY2xlYXJUaW1lb3V0KHRoaXMuc2V0dGluZ3MuYXV0b21hdGUpLHRoaXMuc2V0dGluZ3M9e319LHJlZmxvdzpmdW5jdGlvbigpe319fShqUXVlcnksd2luZG93LHdpbmRvdy5kb2N1bWVudCksZnVuY3Rpb24oYSxiLGMsZCl7XCJ1c2Ugc3RyaWN0XCI7Rm91bmRhdGlvbi5saWJzW1wibWFnZWxsYW4tZXhwZWRpdGlvblwiXT17bmFtZTpcIm1hZ2VsbGFuLWV4cGVkaXRpb25cIix2ZXJzaW9uOlwiNS41LjJcIixzZXR0aW5nczp7YWN0aXZlX2NsYXNzOlwiYWN0aXZlXCIsdGhyZXNob2xkOjAsZGVzdGluYXRpb25fdGhyZXNob2xkOjIwLHRocm90dGxlX2RlbGF5OjMwLGZpeGVkX3RvcDowLG9mZnNldF9ieV9oZWlnaHQ6ITAsZHVyYXRpb246NzAwLGVhc2luZzpcInN3aW5nXCJ9LGluaXQ6ZnVuY3Rpb24oYSxiLGMpe0ZvdW5kYXRpb24uaW5oZXJpdCh0aGlzLFwidGhyb3R0bGVcIiksdGhpcy5iaW5kaW5ncyhiLGMpfSxldmVudHM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9Yi5TLGQ9Yi5zZXR0aW5ncztiLnNldF9leHBlZGl0aW9uX3Bvc2l0aW9uKCksYyhiLnNjb3BlKS5vZmYoXCIubWFnZWxsYW5cIikub24oXCJjbGljay5mbmR0bi5tYWdlbGxhblwiLFwiW1wiK2IuYWRkX25hbWVzcGFjZShcImRhdGEtbWFnZWxsYW4tYXJyaXZhbFwiKStcIl0gYVtocmVmKj0jXVwiLGZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuaG9zdG5hbWU9PT1sb2NhdGlvbi5ob3N0bmFtZXx8IXRoaXMuaG9zdG5hbWUsZT1iLmZpbHRlclBhdGhuYW1lKGxvY2F0aW9uLnBhdGhuYW1lKT09PWIuZmlsdGVyUGF0aG5hbWUodGhpcy5wYXRobmFtZSksZj10aGlzLmhhc2gucmVwbGFjZSgvKDp8XFwufFxcLykvZyxcIlxcXFwkMVwiKSxnPXRoaXM7aWYoZCYmZSYmZil7Yy5wcmV2ZW50RGVmYXVsdCgpO3ZhciBoPWEodGhpcykuY2xvc2VzdChcIltcIitiLmF0dHJfbmFtZSgpK1wiXVwiKSxpPWguZGF0YShcIm1hZ2VsbGFuLWV4cGVkaXRpb24taW5pdFwiKSxqPXRoaXMuaGFzaC5zcGxpdChcIiNcIikuam9pbihcIlwiKSxrPWEoJ2FbbmFtZT1cIicraisnXCJdJyk7MD09PWsubGVuZ3RoJiYoaz1hKFwiI1wiK2opKTt2YXIgbD1rLm9mZnNldCgpLnRvcC1pLmRlc3RpbmF0aW9uX3RocmVzaG9sZCsxO2kub2Zmc2V0X2J5X2hlaWdodCYmKGwtPWgub3V0ZXJIZWlnaHQoKSksYShcImh0bWwsIGJvZHlcIikuc3RvcCgpLmFuaW1hdGUoe3Njcm9sbFRvcDpsfSxpLmR1cmF0aW9uLGkuZWFzaW5nLGZ1bmN0aW9uKCl7aGlzdG9yeS5wdXNoU3RhdGU/aGlzdG9yeS5wdXNoU3RhdGUobnVsbCxudWxsLGcucGF0aG5hbWUrXCIjXCIraik6bG9jYXRpb24uaGFzaD1nLnBhdGhuYW1lK1wiI1wiK2p9KX19KS5vbihcInNjcm9sbC5mbmR0bi5tYWdlbGxhblwiLGIudGhyb3R0bGUodGhpcy5jaGVja19mb3JfYXJyaXZhbHMuYmluZCh0aGlzKSxkLnRocm90dGxlX2RlbGF5KSl9LGNoZWNrX2Zvcl9hcnJpdmFsczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS51cGRhdGVfYXJyaXZhbHMoKSxhLnVwZGF0ZV9leHBlZGl0aW9uX3Bvc2l0aW9ucygpfSxzZXRfZXhwZWRpdGlvbl9wb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBiPXRoaXM7YShcIltcIit0aGlzLmF0dHJfbmFtZSgpK1wiPWZpeGVkXVwiLGIuc2NvcGUpLmVhY2goZnVuY3Rpb24oYyxkKXt2YXIgZSxmLGc9YSh0aGlzKSxoPWcuZGF0YShcIm1hZ2VsbGFuLWV4cGVkaXRpb24taW5pdFwiKSxpPWcuYXR0cihcInN0eWxlc1wiKTtnLmF0dHIoXCJzdHlsZVwiLFwiXCIpLGU9Zy5vZmZzZXQoKS50b3AraC50aHJlc2hvbGQsZj1wYXJzZUludChnLmRhdGEoXCJtYWdlbGxhbi1maXhlZC10b3BcIikpLGlzTmFOKGYpfHwoYi5zZXR0aW5ncy5maXhlZF90b3A9ZiksZy5kYXRhKGIuZGF0YV9hdHRyKFwibWFnZWxsYW4tdG9wLW9mZnNldFwiKSxlKSxnLmF0dHIoXCJzdHlsZVwiLGkpfSl9LHVwZGF0ZV9leHBlZGl0aW9uX3Bvc2l0aW9uczpmdW5jdGlvbigpe3ZhciBjPXRoaXMsZD1hKGIpLnNjcm9sbFRvcCgpO2EoXCJbXCIrdGhpcy5hdHRyX25hbWUoKStcIj1maXhlZF1cIixjLnNjb3BlKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxlPWIuZGF0YShcIm1hZ2VsbGFuLWV4cGVkaXRpb24taW5pdFwiKSxmPWIuYXR0cihcInN0eWxlXCIpLGc9Yi5kYXRhKFwibWFnZWxsYW4tdG9wLW9mZnNldFwiKTtpZihkK2Muc2V0dGluZ3MuZml4ZWRfdG9wPj1nKXt2YXIgaD1iLnByZXYoXCJbXCIrYy5hZGRfbmFtZXNwYWNlKFwiZGF0YS1tYWdlbGxhbi1leHBlZGl0aW9uLWNsb25lXCIpK1wiXVwiKTswPT09aC5sZW5ndGgmJihoPWIuY2xvbmUoKSxoLnJlbW92ZUF0dHIoYy5hdHRyX25hbWUoKSksaC5hdHRyKGMuYWRkX25hbWVzcGFjZShcImRhdGEtbWFnZWxsYW4tZXhwZWRpdGlvbi1jbG9uZVwiKSxcIlwiKSxiLmJlZm9yZShoKSksYi5jc3Moe3Bvc2l0aW9uOlwiZml4ZWRcIix0b3A6ZS5maXhlZF90b3B9KS5hZGRDbGFzcyhcImZpeGVkXCIpfWVsc2UgYi5wcmV2KFwiW1wiK2MuYWRkX25hbWVzcGFjZShcImRhdGEtbWFnZWxsYW4tZXhwZWRpdGlvbi1jbG9uZVwiKStcIl1cIikucmVtb3ZlKCksYi5hdHRyKFwic3R5bGVcIixmKS5jc3MoXCJwb3NpdGlvblwiLFwiXCIpLmNzcyhcInRvcFwiLFwiXCIpLnJlbW92ZUNsYXNzKFwiZml4ZWRcIil9KX0sdXBkYXRlX2Fycml2YWxzOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxkPWEoYikuc2Nyb2xsVG9wKCk7YShcIltcIit0aGlzLmF0dHJfbmFtZSgpK1wiXVwiLGMuc2NvcGUpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGU9Yi5kYXRhKGMuYXR0cl9uYW1lKCEwKStcIi1pbml0XCIpLGY9Yy5vZmZzZXRzKGIsZCksZz1iLmZpbmQoXCJbXCIrYy5hZGRfbmFtZXNwYWNlKFwiZGF0YS1tYWdlbGxhbi1hcnJpdmFsXCIpK1wiXVwiKSxoPSExO2YuZWFjaChmdW5jdGlvbihhLGQpe2lmKGQudmlld3BvcnRfb2Zmc2V0Pj1kLnRvcF9vZmZzZXQpe3ZhciBmPWIuZmluZChcIltcIitjLmFkZF9uYW1lc3BhY2UoXCJkYXRhLW1hZ2VsbGFuLWFycml2YWxcIikrXCJdXCIpO3JldHVybiBmLm5vdChkLmFycml2YWwpLnJlbW92ZUNsYXNzKGUuYWN0aXZlX2NsYXNzKSxkLmFycml2YWwuYWRkQ2xhc3MoZS5hY3RpdmVfY2xhc3MpLGg9ITAsITB9fSksaHx8Zy5yZW1vdmVDbGFzcyhlLmFjdGl2ZV9jbGFzcyl9KX0sb2Zmc2V0czpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMsZT1iLmRhdGEoZC5hdHRyX25hbWUoITApK1wiLWluaXRcIiksZj1jO3JldHVybiBiLmZpbmQoXCJbXCIrZC5hZGRfbmFtZXNwYWNlKFwiZGF0YS1tYWdlbGxhbi1hcnJpdmFsXCIpK1wiXVwiKS5tYXAoZnVuY3Rpb24oYyxnKXt2YXIgaD1hKHRoaXMpLmRhdGEoZC5kYXRhX2F0dHIoXCJtYWdlbGxhbi1hcnJpdmFsXCIpKSxpPWEoXCJbXCIrZC5hZGRfbmFtZXNwYWNlKFwiZGF0YS1tYWdlbGxhbi1kZXN0aW5hdGlvblwiKStcIj1cIitoK1wiXVwiKTtpZihpLmxlbmd0aD4wKXt2YXIgaj1pLm9mZnNldCgpLnRvcC1lLmRlc3RpbmF0aW9uX3RocmVzaG9sZDtyZXR1cm4gZS5vZmZzZXRfYnlfaGVpZ2h0JiYoai09Yi5vdXRlckhlaWdodCgpKSxqPU1hdGguZmxvb3Ioaikse2Rlc3RpbmF0aW9uOmksYXJyaXZhbDphKHRoaXMpLHRvcF9vZmZzZXQ6aix2aWV3cG9ydF9vZmZzZXQ6Zn19fSkuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnRvcF9vZmZzZXQ8Yi50b3Bfb2Zmc2V0Py0xOmEudG9wX29mZnNldD5iLnRvcF9vZmZzZXQ/MTowfSl9LGRhdGFfYXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5uYW1lc3BhY2UubGVuZ3RoPjA/dGhpcy5uYW1lc3BhY2UrXCItXCIrYTphfSxvZmY6ZnVuY3Rpb24oKXt0aGlzLlModGhpcy5zY29wZSkub2ZmKFwiLm1hZ2VsbGFuXCIpLHRoaXMuUyhiKS5vZmYoXCIubWFnZWxsYW5cIil9LGZpbHRlclBhdGhuYW1lOmZ1bmN0aW9uKGEpe3JldHVybiBhPWF8fFwiXCIsYS5yZXBsYWNlKC9eXFwvLyxcIlwiKS5yZXBsYWNlKC8oPzppbmRleHxkZWZhdWx0KS5bYS16QS1aXXszLDR9JC8sXCJcIikucmVwbGFjZSgvXFwvJC8sXCJcIil9LHJlZmxvdzpmdW5jdGlvbigpe3ZhciBiPXRoaXM7YShcIltcIitiLmFkZF9uYW1lc3BhY2UoXCJkYXRhLW1hZ2VsbGFuLWV4cGVkaXRpb24tY2xvbmVcIikrXCJdXCIsYi5zY29wZSkucmVtb3ZlKCl9fX0oalF1ZXJ5LHdpbmRvdyx3aW5kb3cuZG9jdW1lbnQpLGZ1bmN0aW9uKGEsYixjLGQpe1widXNlIHN0cmljdFwiO0ZvdW5kYXRpb24ubGlicy5vZmZjYW52YXM9e25hbWU6XCJvZmZjYW52YXNcIix2ZXJzaW9uOlwiNS41LjJcIixzZXR0aW5nczp7b3Blbl9tZXRob2Q6XCJtb3ZlXCIsY2xvc2Vfb25fY2xpY2s6ITF9LGluaXQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuYmluZGluZ3MoYixjKX0sZXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIuUyxkPVwiXCIsZT1cIlwiLGY9XCJcIjtcIm1vdmVcIj09PXRoaXMuc2V0dGluZ3Mub3Blbl9tZXRob2Q/KGQ9XCJtb3ZlLVwiLGU9XCJyaWdodFwiLGY9XCJsZWZ0XCIpOlwib3ZlcmxhcF9zaW5nbGVcIj09PXRoaXMuc2V0dGluZ3Mub3Blbl9tZXRob2Q/KGQ9XCJvZmZjYW52YXMtb3ZlcmxhcC1cIixlPVwicmlnaHRcIixmPVwibGVmdFwiKTpcIm92ZXJsYXBcIj09PXRoaXMuc2V0dGluZ3Mub3Blbl9tZXRob2QmJihkPVwib2ZmY2FudmFzLW92ZXJsYXBcIiksYyh0aGlzLnNjb3BlKS5vZmYoXCIub2ZmY2FudmFzXCIpLm9uKFwiY2xpY2suZm5kdG4ub2ZmY2FudmFzXCIsXCIubGVmdC1vZmYtY2FudmFzLXRvZ2dsZVwiLGZ1bmN0aW9uKGYpe2IuY2xpY2tfdG9nZ2xlX2NsYXNzKGYsZCtlKSxcIm92ZXJsYXBcIiE9PWIuc2V0dGluZ3Mub3Blbl9tZXRob2QmJmMoXCIubGVmdC1zdWJtZW51XCIpLnJlbW92ZUNsYXNzKGQrZSksYShcIi5sZWZ0LW9mZi1jYW52YXMtdG9nZ2xlXCIpLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsXCJ0cnVlXCIpfSkub24oXCJjbGljay5mbmR0bi5vZmZjYW52YXNcIixcIi5sZWZ0LW9mZi1jYW52YXMtbWVudSBhXCIsZnVuY3Rpb24oZil7dmFyIGc9Yi5nZXRfc2V0dGluZ3MoZiksaD1jKHRoaXMpLnBhcmVudCgpOyFnLmNsb3NlX29uX2NsaWNrfHxoLmhhc0NsYXNzKFwiaGFzLXN1Ym1lbnVcIil8fGguaGFzQ2xhc3MoXCJiYWNrXCIpP2ModGhpcykucGFyZW50KCkuaGFzQ2xhc3MoXCJoYXMtc3VibWVudVwiKT8oZi5wcmV2ZW50RGVmYXVsdCgpLGModGhpcykuc2libGluZ3MoXCIubGVmdC1zdWJtZW51XCIpLnRvZ2dsZUNsYXNzKGQrZSkpOmguaGFzQ2xhc3MoXCJiYWNrXCIpJiYoZi5wcmV2ZW50RGVmYXVsdCgpLGgucGFyZW50KCkucmVtb3ZlQ2xhc3MoZCtlKSk6KGIuaGlkZS5jYWxsKGIsZCtlLGIuZ2V0X3dyYXBwZXIoZikpLGgucGFyZW50KCkucmVtb3ZlQ2xhc3MoZCtlKSksYShcIi5sZWZ0LW9mZi1jYW52YXMtdG9nZ2xlXCIpLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsXCJ0cnVlXCIpfSkub24oXCJjbGljay5mbmR0bi5vZmZjYW52YXNcIixcIi5yaWdodC1vZmYtY2FudmFzLXRvZ2dsZVwiLGZ1bmN0aW9uKGUpe2IuY2xpY2tfdG9nZ2xlX2NsYXNzKGUsZCtmKSxcIm92ZXJsYXBcIiE9PWIuc2V0dGluZ3Mub3Blbl9tZXRob2QmJmMoXCIucmlnaHQtc3VibWVudVwiKS5yZW1vdmVDbGFzcyhkK2YpLGEoXCIucmlnaHQtb2ZmLWNhbnZhcy10b2dnbGVcIikuYXR0cihcImFyaWEtZXhwYW5kZWRcIixcInRydWVcIil9KS5vbihcImNsaWNrLmZuZHRuLm9mZmNhbnZhc1wiLFwiLnJpZ2h0LW9mZi1jYW52YXMtbWVudSBhXCIsZnVuY3Rpb24oZSl7dmFyIGc9Yi5nZXRfc2V0dGluZ3MoZSksaD1jKHRoaXMpLnBhcmVudCgpOyFnLmNsb3NlX29uX2NsaWNrfHxoLmhhc0NsYXNzKFwiaGFzLXN1Ym1lbnVcIil8fGguaGFzQ2xhc3MoXCJiYWNrXCIpP2ModGhpcykucGFyZW50KCkuaGFzQ2xhc3MoXCJoYXMtc3VibWVudVwiKT8oZS5wcmV2ZW50RGVmYXVsdCgpLGModGhpcykuc2libGluZ3MoXCIucmlnaHQtc3VibWVudVwiKS50b2dnbGVDbGFzcyhkK2YpKTpoLmhhc0NsYXNzKFwiYmFja1wiKSYmKGUucHJldmVudERlZmF1bHQoKSxoLnBhcmVudCgpLnJlbW92ZUNsYXNzKGQrZikpOihiLmhpZGUuY2FsbChiLGQrZixiLmdldF93cmFwcGVyKGUpKSxoLnBhcmVudCgpLnJlbW92ZUNsYXNzKGQrZikpLGEoXCIucmlnaHQtb2ZmLWNhbnZhcy10b2dnbGVcIikuYXR0cihcImFyaWEtZXhwYW5kZWRcIixcInRydWVcIil9KS5vbihcImNsaWNrLmZuZHRuLm9mZmNhbnZhc1wiLFwiLmV4aXQtb2ZmLWNhbnZhc1wiLGZ1bmN0aW9uKGcpe2IuY2xpY2tfcmVtb3ZlX2NsYXNzKGcsZCtmKSxjKFwiLnJpZ2h0LXN1Ym1lbnVcIikucmVtb3ZlQ2xhc3MoZCtmKSxlJiYoYi5jbGlja19yZW1vdmVfY2xhc3MoZyxkK2UpLGMoXCIubGVmdC1zdWJtZW51XCIpLnJlbW92ZUNsYXNzKGQrZikpLGEoXCIucmlnaHQtb2ZmLWNhbnZhcy10b2dnbGVcIikuYXR0cihcImFyaWEtZXhwYW5kZWRcIixcInRydWVcIil9KS5vbihcImNsaWNrLmZuZHRuLm9mZmNhbnZhc1wiLFwiLmV4aXQtb2ZmLWNhbnZhc1wiLGZ1bmN0aW9uKGMpe2IuY2xpY2tfcmVtb3ZlX2NsYXNzKGMsZCtmKSxhKFwiLmxlZnQtb2ZmLWNhbnZhcy10b2dnbGVcIikuYXR0cihcImFyaWEtZXhwYW5kZWRcIixcImZhbHNlXCIpLGUmJihiLmNsaWNrX3JlbW92ZV9jbGFzcyhjLGQrZSksYShcIi5yaWdodC1vZmYtY2FudmFzLXRvZ2dsZVwiKS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLFwiZmFsc2VcIikpfSl9LHRvZ2dsZTpmdW5jdGlvbihhLGIpe2I9Ynx8dGhpcy5nZXRfd3JhcHBlcigpLGIuaXMoXCIuXCIrYSk/dGhpcy5oaWRlKGEsYik6dGhpcy5zaG93KGEsYil9LHNob3c6ZnVuY3Rpb24oYSxiKXtiPWJ8fHRoaXMuZ2V0X3dyYXBwZXIoKSxiLnRyaWdnZXIoXCJvcGVuLmZuZHRuLm9mZmNhbnZhc1wiKSxiLmFkZENsYXNzKGEpfSxoaWRlOmZ1bmN0aW9uKGEsYil7Yj1ifHx0aGlzLmdldF93cmFwcGVyKCksYi50cmlnZ2VyKFwiY2xvc2UuZm5kdG4ub2ZmY2FudmFzXCIpLGIucmVtb3ZlQ2xhc3MoYSl9LGNsaWNrX3RvZ2dsZV9jbGFzczpmdW5jdGlvbihhLGIpe1xuYS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBjPXRoaXMuZ2V0X3dyYXBwZXIoYSk7dGhpcy50b2dnbGUoYixjKX0sY2xpY2tfcmVtb3ZlX2NsYXNzOmZ1bmN0aW9uKGEsYil7YS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBjPXRoaXMuZ2V0X3dyYXBwZXIoYSk7dGhpcy5oaWRlKGIsYyl9LGdldF9zZXR0aW5nczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLlMoYS50YXJnZXQpLmNsb3Nlc3QoXCJbXCIrdGhpcy5hdHRyX25hbWUoKStcIl1cIik7cmV0dXJuIGIuZGF0YSh0aGlzLmF0dHJfbmFtZSghMCkrXCItaW5pdFwiKXx8dGhpcy5zZXR0aW5nc30sZ2V0X3dyYXBwZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5TKGE/YS50YXJnZXQ6dGhpcy5zY29wZSkuY2xvc2VzdChcIi5vZmYtY2FudmFzLXdyYXBcIik7cmV0dXJuIDA9PT1iLmxlbmd0aCYmKGI9dGhpcy5TKFwiLm9mZi1jYW52YXMtd3JhcFwiKSksYn0scmVmbG93OmZ1bmN0aW9uKCl7fX19KGpRdWVyeSx3aW5kb3csd2luZG93LmRvY3VtZW50KSxmdW5jdGlvbihhLGIsYyxkKXtcInVzZSBzdHJpY3RcIjt2YXIgZT1mdW5jdGlvbigpe30sZj1mdW5jdGlvbihlLGYpe2lmKGUuaGFzQ2xhc3MoZi5zbGlkZXNfY29udGFpbmVyX2NsYXNzKSlyZXR1cm4gdGhpczt2YXIgaixrLGwsbSxuLG8scD10aGlzLHE9ZSxyPTAscz0hMTtwLnNsaWRlcz1mdW5jdGlvbigpe3JldHVybiBxLmNoaWxkcmVuKGYuc2xpZGVfc2VsZWN0b3IpfSxwLnNsaWRlcygpLmZpcnN0KCkuYWRkQ2xhc3MoZi5hY3RpdmVfc2xpZGVfY2xhc3MpLHAudXBkYXRlX3NsaWRlX251bWJlcj1mdW5jdGlvbihiKXtmLnNsaWRlX251bWJlciYmKGsuZmluZChcInNwYW46Zmlyc3RcIikudGV4dChwYXJzZUludChiKSsxKSxrLmZpbmQoXCJzcGFuOmxhc3RcIikudGV4dChwLnNsaWRlcygpLmxlbmd0aCkpLGYuYnVsbGV0cyYmKGwuY2hpbGRyZW4oKS5yZW1vdmVDbGFzcyhmLmJ1bGxldHNfYWN0aXZlX2NsYXNzKSxhKGwuY2hpbGRyZW4oKS5nZXQoYikpLmFkZENsYXNzKGYuYnVsbGV0c19hY3RpdmVfY2xhc3MpKX0scC51cGRhdGVfYWN0aXZlX2xpbms9ZnVuY3Rpb24oYil7dmFyIGM9YSgnW2RhdGEtb3JiaXQtbGluaz1cIicrcC5zbGlkZXMoKS5lcShiKS5hdHRyKFwiZGF0YS1vcmJpdC1zbGlkZVwiKSsnXCJdJyk7Yy5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKGYuYnVsbGV0c19hY3RpdmVfY2xhc3MpLGMuYWRkQ2xhc3MoZi5idWxsZXRzX2FjdGl2ZV9jbGFzcyl9LHAuYnVpbGRfbWFya3VwPWZ1bmN0aW9uKCl7cS53cmFwKCc8ZGl2IGNsYXNzPVwiJytmLmNvbnRhaW5lcl9jbGFzcysnXCI+PC9kaXY+Jyksaj1xLnBhcmVudCgpLHEuYWRkQ2xhc3MoZi5zbGlkZXNfY29udGFpbmVyX2NsYXNzKSxmLnN0YWNrX29uX3NtYWxsJiZqLmFkZENsYXNzKGYuc3RhY2tfb25fc21hbGxfY2xhc3MpLGYubmF2aWdhdGlvbl9hcnJvd3MmJihqLmFwcGVuZChhKCc8YSBocmVmPVwiI1wiPjxzcGFuPjwvc3Bhbj48L2E+JykuYWRkQ2xhc3MoZi5wcmV2X2NsYXNzKSksai5hcHBlbmQoYSgnPGEgaHJlZj1cIiNcIj48c3Bhbj48L3NwYW4+PC9hPicpLmFkZENsYXNzKGYubmV4dF9jbGFzcykpKSxmLnRpbWVyJiYobT1hKFwiPGRpdj5cIikuYWRkQ2xhc3MoZi50aW1lcl9jb250YWluZXJfY2xhc3MpLG0uYXBwZW5kKFwiPHNwYW4+XCIpLG0uYXBwZW5kKGEoXCI8ZGl2PlwiKS5hZGRDbGFzcyhmLnRpbWVyX3Byb2dyZXNzX2NsYXNzKSksbS5hZGRDbGFzcyhmLnRpbWVyX3BhdXNlZF9jbGFzcyksai5hcHBlbmQobSkpLGYuc2xpZGVfbnVtYmVyJiYoaz1hKFwiPGRpdj5cIikuYWRkQ2xhc3MoZi5zbGlkZV9udW1iZXJfY2xhc3MpLGsuYXBwZW5kKFwiPHNwYW4+PC9zcGFuPiBcIitmLnNsaWRlX251bWJlcl90ZXh0K1wiIDxzcGFuPjwvc3Bhbj5cIiksai5hcHBlbmQoaykpLGYuYnVsbGV0cyYmKGw9YShcIjxvbD5cIikuYWRkQ2xhc3MoZi5idWxsZXRzX2NvbnRhaW5lcl9jbGFzcyksai5hcHBlbmQobCksbC53cmFwKCc8ZGl2IGNsYXNzPVwib3JiaXQtYnVsbGV0cy1jb250YWluZXJcIj48L2Rpdj4nKSxwLnNsaWRlcygpLmVhY2goZnVuY3Rpb24oYixjKXt2YXIgZD1hKFwiPGxpPlwiKS5hdHRyKFwiZGF0YS1vcmJpdC1zbGlkZVwiLGIpLm9uKFwiY2xpY2tcIixwLmxpbmtfYnVsbGV0KTtsLmFwcGVuZChkKX0pKX0scC5fZ290bz1mdW5jdGlvbihiLGMpe2lmKGI9PT1yKXJldHVybiExO1wib2JqZWN0XCI9PXR5cGVvZiBvJiZvLnJlc3RhcnQoKTt2YXIgZD1wLnNsaWRlcygpLGU9XCJuZXh0XCI7aWYocz0hMCxyPmImJihlPVwicHJldlwiKSxiPj1kLmxlbmd0aCl7aWYoIWYuY2lyY3VsYXIpcmV0dXJuITE7Yj0wfWVsc2UgaWYoMD5iKXtpZighZi5jaXJjdWxhcilyZXR1cm4hMTtiPWQubGVuZ3RoLTF9dmFyIGc9YShkLmdldChyKSksaD1hKGQuZ2V0KGIpKTtnLmNzcyhcInpJbmRleFwiLDIpLGcucmVtb3ZlQ2xhc3MoZi5hY3RpdmVfc2xpZGVfY2xhc3MpLGguY3NzKFwiekluZGV4XCIsNCkuYWRkQ2xhc3MoZi5hY3RpdmVfc2xpZGVfY2xhc3MpLHEudHJpZ2dlcihcImJlZm9yZS1zbGlkZS1jaGFuZ2UuZm5kdG4ub3JiaXRcIiksZi5iZWZvcmVfc2xpZGVfY2hhbmdlKCkscC51cGRhdGVfYWN0aXZlX2xpbmsoYik7dmFyIGk9ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbigpe3I9YixzPSExLGM9PT0hMCYmKG89cC5jcmVhdGVfdGltZXIoKSxvLnN0YXJ0KCkpLHAudXBkYXRlX3NsaWRlX251bWJlcihyKSxxLnRyaWdnZXIoXCJhZnRlci1zbGlkZS1jaGFuZ2UuZm5kdG4ub3JiaXRcIixbe3NsaWRlX251bWJlcjpyLHRvdGFsX3NsaWRlczpkLmxlbmd0aH1dKSxmLmFmdGVyX3NsaWRlX2NoYW5nZShyLGQubGVuZ3RoKX07cS5vdXRlckhlaWdodCgpIT1oLm91dGVySGVpZ2h0KCkmJmYudmFyaWFibGVfaGVpZ2h0P3EuYW5pbWF0ZSh7aGVpZ2h0Omgub3V0ZXJIZWlnaHQoKX0sMjUwLFwibGluZWFyXCIsYSk6YSgpfTtpZigxPT09ZC5sZW5ndGgpcmV0dXJuIGkoKSwhMTt2YXIgaj1mdW5jdGlvbigpe1wibmV4dFwiPT09ZSYmbi5uZXh0KGcsaCxpKSxcInByZXZcIj09PWUmJm4ucHJldihnLGgsaSl9O2gub3V0ZXJIZWlnaHQoKT5xLm91dGVySGVpZ2h0KCkmJmYudmFyaWFibGVfaGVpZ2h0P3EuYW5pbWF0ZSh7aGVpZ2h0Omgub3V0ZXJIZWlnaHQoKX0sMjUwLFwibGluZWFyXCIsaik6aigpfSxwLm5leHQ9ZnVuY3Rpb24oYSl7YS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxhLnByZXZlbnREZWZhdWx0KCkscC5fZ290byhyKzEpfSxwLnByZXY9ZnVuY3Rpb24oYSl7YS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxhLnByZXZlbnREZWZhdWx0KCkscC5fZ290byhyLTEpfSxwLmxpbmtfY3VzdG9tPWZ1bmN0aW9uKGIpe2IucHJldmVudERlZmF1bHQoKTt2YXIgYz1hKHRoaXMpLmF0dHIoXCJkYXRhLW9yYml0LWxpbmtcIik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGMmJlwiXCIhPShjPWEudHJpbShjKSkpe3ZhciBkPWouZmluZChcIltkYXRhLW9yYml0LXNsaWRlPVwiK2MrXCJdXCIpOy0xIT1kLmluZGV4KCkmJnAuX2dvdG8oZC5pbmRleCgpKX19LHAubGlua19idWxsZXQ9ZnVuY3Rpb24oYil7dmFyIGM9YSh0aGlzKS5hdHRyKFwiZGF0YS1vcmJpdC1zbGlkZVwiKTtpZihcInN0cmluZ1wiPT10eXBlb2YgYyYmXCJcIiE9KGM9YS50cmltKGMpKSlpZihpc05hTihwYXJzZUludChjKSkpe3ZhciBkPWouZmluZChcIltkYXRhLW9yYml0LXNsaWRlPVwiK2MrXCJdXCIpOy0xIT1kLmluZGV4KCkmJnAuX2dvdG8oZC5pbmRleCgpKzEpfWVsc2UgcC5fZ290byhwYXJzZUludChjKSl9LHAudGltZXJfY2FsbGJhY2s9ZnVuY3Rpb24oKXtwLl9nb3RvKHIrMSwhMCl9LHAuY29tcHV0ZV9kaW1lbnNpb25zPWZ1bmN0aW9uKCl7dmFyIGI9YShwLnNsaWRlcygpLmdldChyKSksYz1iLm91dGVySGVpZ2h0KCk7Zi52YXJpYWJsZV9oZWlnaHR8fHAuc2xpZGVzKCkuZWFjaChmdW5jdGlvbigpe2EodGhpcykub3V0ZXJIZWlnaHQoKT5jJiYoYz1hKHRoaXMpLm91dGVySGVpZ2h0KCkpfSkscS5oZWlnaHQoYyl9LHAuY3JlYXRlX3RpbWVyPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IGcoai5maW5kKFwiLlwiK2YudGltZXJfY29udGFpbmVyX2NsYXNzKSxmLHAudGltZXJfY2FsbGJhY2spO3JldHVybiBhfSxwLnN0b3BfdGltZXI9ZnVuY3Rpb24oKXtcIm9iamVjdFwiPT10eXBlb2YgbyYmby5zdG9wKCl9LHAudG9nZ2xlX3RpbWVyPWZ1bmN0aW9uKCl7dmFyIGE9ai5maW5kKFwiLlwiK2YudGltZXJfY29udGFpbmVyX2NsYXNzKTthLmhhc0NsYXNzKGYudGltZXJfcGF1c2VkX2NsYXNzKT8oXCJ1bmRlZmluZWRcIj09dHlwZW9mIG8mJihvPXAuY3JlYXRlX3RpbWVyKCkpLG8uc3RhcnQoKSk6XCJvYmplY3RcIj09dHlwZW9mIG8mJm8uc3RvcCgpfSxwLmluaXQ9ZnVuY3Rpb24oKXtwLmJ1aWxkX21hcmt1cCgpLGYudGltZXImJihvPXAuY3JlYXRlX3RpbWVyKCksRm91bmRhdGlvbi51dGlscy5pbWFnZV9sb2FkZWQodGhpcy5zbGlkZXMoKS5jaGlsZHJlbihcImltZ1wiKSxvLnN0YXJ0KSksbj1uZXcgaShmLHEpLFwic2xpZGVcIj09PWYuYW5pbWF0aW9uJiYobj1uZXcgaChmLHEpKSxqLm9uKFwiY2xpY2tcIixcIi5cIitmLm5leHRfY2xhc3MscC5uZXh0KSxqLm9uKFwiY2xpY2tcIixcIi5cIitmLnByZXZfY2xhc3MscC5wcmV2KSxmLm5leHRfb25fY2xpY2smJmoub24oXCJjbGlja1wiLFwiLlwiK2Yuc2xpZGVzX2NvbnRhaW5lcl9jbGFzcytcIiBbZGF0YS1vcmJpdC1zbGlkZV1cIixwLmxpbmtfYnVsbGV0KSxqLm9uKFwiY2xpY2tcIixwLnRvZ2dsZV90aW1lciksZi5zd2lwZSYmai5vbihcInRvdWNoc3RhcnQuZm5kdG4ub3JiaXRcIixmdW5jdGlvbihhKXthLnRvdWNoZXN8fChhPWEub3JpZ2luYWxFdmVudCk7dmFyIGI9e3N0YXJ0X3BhZ2VfeDphLnRvdWNoZXNbMF0ucGFnZVgsc3RhcnRfcGFnZV95OmEudG91Y2hlc1swXS5wYWdlWSxzdGFydF90aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGRlbHRhX3g6MCxpc19zY3JvbGxpbmc6ZH07ai5kYXRhKFwic3dpcGUtdHJhbnNpdGlvblwiLGIpLGEuc3RvcFByb3BhZ2F0aW9uKCl9KS5vbihcInRvdWNobW92ZS5mbmR0bi5vcmJpdFwiLGZ1bmN0aW9uKGEpe2lmKGEudG91Y2hlc3x8KGE9YS5vcmlnaW5hbEV2ZW50KSwhKGEudG91Y2hlcy5sZW5ndGg+MXx8YS5zY2FsZSYmMSE9PWEuc2NhbGUpKXt2YXIgYj1qLmRhdGEoXCJzd2lwZS10cmFuc2l0aW9uXCIpO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBiJiYoYj17fSksYi5kZWx0YV94PWEudG91Y2hlc1swXS5wYWdlWC1iLnN0YXJ0X3BhZ2VfeCxcInVuZGVmaW5lZFwiPT10eXBlb2YgYi5pc19zY3JvbGxpbmcmJihiLmlzX3Njcm9sbGluZz0hIShiLmlzX3Njcm9sbGluZ3x8TWF0aC5hYnMoYi5kZWx0YV94KTxNYXRoLmFicyhhLnRvdWNoZXNbMF0ucGFnZVktYi5zdGFydF9wYWdlX3kpKSksIWIuaXNfc2Nyb2xsaW5nJiYhYi5hY3RpdmUpe2EucHJldmVudERlZmF1bHQoKTt2YXIgYz1iLmRlbHRhX3g8MD9yKzE6ci0xO2IuYWN0aXZlPSEwLHAuX2dvdG8oYyl9fX0pLm9uKFwidG91Y2hlbmQuZm5kdG4ub3JiaXRcIixmdW5jdGlvbihhKXtqLmRhdGEoXCJzd2lwZS10cmFuc2l0aW9uXCIse30pLGEuc3RvcFByb3BhZ2F0aW9uKCl9KSxqLm9uKFwibW91c2VlbnRlci5mbmR0bi5vcmJpdFwiLGZ1bmN0aW9uKGEpe2YudGltZXImJmYucGF1c2Vfb25faG92ZXImJnAuc3RvcF90aW1lcigpfSkub24oXCJtb3VzZWxlYXZlLmZuZHRuLm9yYml0XCIsZnVuY3Rpb24oYSl7Zi50aW1lciYmZi5yZXN1bWVfb25fbW91c2VvdXQmJm8uc3RhcnQoKX0pLGEoYykub24oXCJjbGlja1wiLFwiW2RhdGEtb3JiaXQtbGlua11cIixwLmxpbmtfY3VzdG9tKSxhKGIpLm9uKFwibG9hZCByZXNpemVcIixwLmNvbXB1dGVfZGltZW5zaW9ucyksRm91bmRhdGlvbi51dGlscy5pbWFnZV9sb2FkZWQodGhpcy5zbGlkZXMoKS5jaGlsZHJlbihcImltZ1wiKSxwLmNvbXB1dGVfZGltZW5zaW9ucyksRm91bmRhdGlvbi51dGlscy5pbWFnZV9sb2FkZWQodGhpcy5zbGlkZXMoKS5jaGlsZHJlbihcImltZ1wiKSxmdW5jdGlvbigpe2oucHJldihcIi5cIitmLnByZWxvYWRlcl9jbGFzcykuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKSxwLnVwZGF0ZV9zbGlkZV9udW1iZXIoMCkscC51cGRhdGVfYWN0aXZlX2xpbmsoMCkscS50cmlnZ2VyKFwicmVhZHkuZm5kdG4ub3JiaXRcIil9KX0scC5pbml0KCl9LGc9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj10aGlzLGc9Yi50aW1lcl9zcGVlZCxoPWEuZmluZChcIi5cIitiLnRpbWVyX3Byb2dyZXNzX2NsYXNzKSxpPS0xO3RoaXMudXBkYXRlX3Byb2dyZXNzPWZ1bmN0aW9uKGEpe3ZhciBiPWguY2xvbmUoKTtiLmF0dHIoXCJzdHlsZVwiLFwiXCIpLGIuY3NzKFwid2lkdGhcIixhK1wiJVwiKSxoLnJlcGxhY2VXaXRoKGIpLGg9Yn0sdGhpcy5yZXN0YXJ0PWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGUpLGEuYWRkQ2xhc3MoYi50aW1lcl9wYXVzZWRfY2xhc3MpLGk9LTEsZi51cGRhdGVfcHJvZ3Jlc3MoMCl9LHRoaXMuc3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gYS5oYXNDbGFzcyhiLnRpbWVyX3BhdXNlZF9jbGFzcyk/KGk9LTE9PT1pP2c6aSxhLnJlbW92ZUNsYXNzKGIudGltZXJfcGF1c2VkX2NsYXNzKSxkPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGguYW5pbWF0ZSh7d2lkdGg6XCIxMDAlXCJ9LGksXCJsaW5lYXJcIiksZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zi5yZXN0YXJ0KCksYygpfSxpKSx2b2lkIGEudHJpZ2dlcihcInRpbWVyLXN0YXJ0ZWQuZm5kdG4ub3JiaXRcIikpOiEwfSx0aGlzLnN0b3A9ZnVuY3Rpb24oKXtpZihhLmhhc0NsYXNzKGIudGltZXJfcGF1c2VkX2NsYXNzKSlyZXR1cm4hMDtjbGVhclRpbWVvdXQoZSksYS5hZGRDbGFzcyhiLnRpbWVyX3BhdXNlZF9jbGFzcyk7dmFyIGM9KG5ldyBEYXRlKS5nZXRUaW1lKCk7aS09Yy1kO3ZhciBoPTEwMC1pL2cqMTAwO2YudXBkYXRlX3Byb2dyZXNzKGgpLGEudHJpZ2dlcihcInRpbWVyLXN0b3BwZWQuZm5kdG4ub3JiaXRcIil9fSxoPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yi5hbmltYXRpb25fc3BlZWQsZT0xPT09YShcImh0bWxbZGlyPXJ0bF1cIikubGVuZ3RoLGY9ZT9cIm1hcmdpblJpZ2h0XCI6XCJtYXJnaW5MZWZ0XCIsZz17fTtnW2ZdPVwiMCVcIix0aGlzLm5leHQ9ZnVuY3Rpb24oYSxiLGMpe2EuYW5pbWF0ZSh7bWFyZ2luTGVmdDpcIi0xMDAlXCJ9LGQpLGIuYW5pbWF0ZShnLGQsZnVuY3Rpb24oKXthLmNzcyhmLFwiMTAwJVwiKSxjKCl9KX0sdGhpcy5wcmV2PWZ1bmN0aW9uKGEsYixjKXthLmFuaW1hdGUoe21hcmdpbkxlZnQ6XCIxMDAlXCJ9LGQpLGIuY3NzKGYsXCItMTAwJVwiKSxiLmFuaW1hdGUoZyxkLGZ1bmN0aW9uKCl7YS5jc3MoZixcIjEwMCVcIiksYygpfSl9fSxpPWZ1bmN0aW9uKGIsYyl7e3ZhciBkPWIuYW5pbWF0aW9uX3NwZWVkOzE9PT1hKFwiaHRtbFtkaXI9cnRsXVwiKS5sZW5ndGh9dGhpcy5uZXh0PWZ1bmN0aW9uKGEsYixjKXtiLmNzcyh7bWFyZ2luOlwiMCVcIixvcGFjaXR5OlwiMC4wMVwifSksYi5hbmltYXRlKHtvcGFjaXR5OlwiMVwifSxkLFwibGluZWFyXCIsZnVuY3Rpb24oKXthLmNzcyhcIm1hcmdpblwiLFwiMTAwJVwiKSxjKCl9KX0sdGhpcy5wcmV2PWZ1bmN0aW9uKGEsYixjKXtiLmNzcyh7bWFyZ2luOlwiMCVcIixvcGFjaXR5OlwiMC4wMVwifSksYi5hbmltYXRlKHtvcGFjaXR5OlwiMVwifSxkLFwibGluZWFyXCIsZnVuY3Rpb24oKXthLmNzcyhcIm1hcmdpblwiLFwiMTAwJVwiKSxjKCl9KX19O0ZvdW5kYXRpb24ubGlicz1Gb3VuZGF0aW9uLmxpYnN8fHt9LEZvdW5kYXRpb24ubGlicy5vcmJpdD17bmFtZTpcIm9yYml0XCIsdmVyc2lvbjpcIjUuNS4yXCIsc2V0dGluZ3M6e2FuaW1hdGlvbjpcInNsaWRlXCIsdGltZXJfc3BlZWQ6MWU0LHBhdXNlX29uX2hvdmVyOiEwLHJlc3VtZV9vbl9tb3VzZW91dDohMSxuZXh0X29uX2NsaWNrOiEwLGFuaW1hdGlvbl9zcGVlZDo1MDAsc3RhY2tfb25fc21hbGw6ITEsbmF2aWdhdGlvbl9hcnJvd3M6ITAsc2xpZGVfbnVtYmVyOiEwLHNsaWRlX251bWJlcl90ZXh0Olwib2ZcIixjb250YWluZXJfY2xhc3M6XCJvcmJpdC1jb250YWluZXJcIixzdGFja19vbl9zbWFsbF9jbGFzczpcIm9yYml0LXN0YWNrLW9uLXNtYWxsXCIsbmV4dF9jbGFzczpcIm9yYml0LW5leHRcIixwcmV2X2NsYXNzOlwib3JiaXQtcHJldlwiLHRpbWVyX2NvbnRhaW5lcl9jbGFzczpcIm9yYml0LXRpbWVyXCIsdGltZXJfcGF1c2VkX2NsYXNzOlwicGF1c2VkXCIsdGltZXJfcHJvZ3Jlc3NfY2xhc3M6XCJvcmJpdC1wcm9ncmVzc1wiLHNsaWRlc19jb250YWluZXJfY2xhc3M6XCJvcmJpdC1zbGlkZXMtY29udGFpbmVyXCIscHJlbG9hZGVyX2NsYXNzOlwicHJlbG9hZGVyXCIsc2xpZGVfc2VsZWN0b3I6XCIqXCIsYnVsbGV0c19jb250YWluZXJfY2xhc3M6XCJvcmJpdC1idWxsZXRzXCIsYnVsbGV0c19hY3RpdmVfY2xhc3M6XCJhY3RpdmVcIixzbGlkZV9udW1iZXJfY2xhc3M6XCJvcmJpdC1zbGlkZS1udW1iZXJcIixjYXB0aW9uX2NsYXNzOlwib3JiaXQtY2FwdGlvblwiLGFjdGl2ZV9zbGlkZV9jbGFzczpcImFjdGl2ZVwiLG9yYml0X3RyYW5zaXRpb25fY2xhc3M6XCJvcmJpdC10cmFuc2l0aW9uaW5nXCIsYnVsbGV0czohMCxjaXJjdWxhcjohMCx0aW1lcjohMCx2YXJpYWJsZV9oZWlnaHQ6ITEsc3dpcGU6ITAsYmVmb3JlX3NsaWRlX2NoYW5nZTplLGFmdGVyX3NsaWRlX2NoYW5nZTplfSxpbml0OmZ1bmN0aW9uKGEsYixjKXt0aGlzLmJpbmRpbmdzKGIsYyl9LGV2ZW50czpmdW5jdGlvbihhKXt2YXIgYj1uZXcgZih0aGlzLlMoYSksdGhpcy5TKGEpLmRhdGEoXCJvcmJpdC1pbml0XCIpKTt0aGlzLlMoYSkuZGF0YSh0aGlzLm5hbWUrXCItaW5zdGFuY2VcIixiKX0scmVmbG93OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLlMoYS5zY29wZSkuaXMoXCJbZGF0YS1vcmJpdF1cIikpe3ZhciBiPWEuUyhhLnNjb3BlKSxjPWIuZGF0YShhLm5hbWUrXCItaW5zdGFuY2VcIik7Yy5jb21wdXRlX2RpbWVuc2lvbnMoKX1lbHNlIGEuUyhcIltkYXRhLW9yYml0XVwiLGEuc2NvcGUpLmVhY2goZnVuY3Rpb24oYixjKXt2YXIgZD1hLlMoYyksZT0oYS5kYXRhX29wdGlvbnMoZCksZC5kYXRhKGEubmFtZStcIi1pbnN0YW5jZVwiKSk7ZS5jb21wdXRlX2RpbWVuc2lvbnMoKX0pfX19KGpRdWVyeSx3aW5kb3csd2luZG93LmRvY3VtZW50KSxmdW5jdGlvbihhLGIsYyxkKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGEpe3ZhciBiPS9mYWRlL2kudGVzdChhKSxjPS9wb3AvaS50ZXN0KGEpO3JldHVybnthbmltYXRlOmJ8fGMscG9wOmMsZmFkZTpifX1Gb3VuZGF0aW9uLmxpYnMucmV2ZWFsPXtuYW1lOlwicmV2ZWFsXCIsdmVyc2lvbjpcIjUuNS4yXCIsbG9ja2VkOiExLHNldHRpbmdzOnthbmltYXRpb246XCJmYWRlQW5kUG9wXCIsYW5pbWF0aW9uX3NwZWVkOjI1MCxjbG9zZV9vbl9iYWNrZ3JvdW5kX2NsaWNrOiEwLGNsb3NlX29uX2VzYzohMCxkaXNtaXNzX21vZGFsX2NsYXNzOlwiY2xvc2UtcmV2ZWFsLW1vZGFsXCIsbXVsdGlwbGVfb3BlbmVkOiExLGJnX2NsYXNzOlwicmV2ZWFsLW1vZGFsLWJnXCIscm9vdF9lbGVtZW50OlwiYm9keVwiLG9wZW46ZnVuY3Rpb24oKXt9LG9wZW5lZDpmdW5jdGlvbigpe30sY2xvc2U6ZnVuY3Rpb24oKXt9LGNsb3NlZDpmdW5jdGlvbigpe30sb25fYWpheF9lcnJvcjphLm5vb3AsYmc6YShcIi5yZXZlYWwtbW9kYWwtYmdcIiksY3NzOntvcGVuOntvcGFjaXR5OjAsdmlzaWJpbGl0eTpcInZpc2libGVcIixkaXNwbGF5OlwiYmxvY2tcIn0sY2xvc2U6e29wYWNpdHk6MSx2aXNpYmlsaXR5OlwiaGlkZGVuXCIsZGlzcGxheTpcIm5vbmVcIn19fSxpbml0OmZ1bmN0aW9uKGIsYyxkKXthLmV4dGVuZCghMCx0aGlzLnNldHRpbmdzLGMsZCksdGhpcy5iaW5kaW5ncyhjLGQpfSxldmVudHM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxkPWIuUztyZXR1cm4gZCh0aGlzLnNjb3BlKS5vZmYoXCIucmV2ZWFsXCIpLm9uKFwiY2xpY2suZm5kdG4ucmV2ZWFsXCIsXCJbXCIrdGhpcy5hZGRfbmFtZXNwYWNlKFwiZGF0YS1yZXZlYWwtaWRcIikrXCJdOm5vdChbZGlzYWJsZWRdKVwiLGZ1bmN0aW9uKGEpe2lmKGEucHJldmVudERlZmF1bHQoKSwhYi5sb2NrZWQpe3ZhciBjPWQodGhpcyksZT1jLmRhdGEoYi5kYXRhX2F0dHIoXCJyZXZlYWwtYWpheFwiKSksZj1jLmRhdGEoYi5kYXRhX2F0dHIoXCJyZXZlYWwtcmVwbGFjZS1jb250ZW50XCIpKTtpZihiLmxvY2tlZD0hMCxcInVuZGVmaW5lZFwiPT10eXBlb2YgZSliLm9wZW4uY2FsbChiLGMpO2Vsc2V7dmFyIGc9ZT09PSEwP2MuYXR0cihcImhyZWZcIik6ZTtiLm9wZW4uY2FsbChiLGMse3VybDpnfSx7cmVwbGFjZUNvbnRlbnRTZWw6Zn0pfX19KSxkKGMpLm9uKFwiY2xpY2suZm5kdG4ucmV2ZWFsXCIsdGhpcy5jbG9zZV90YXJnZXRzKCksZnVuY3Rpb24oYSl7aWYoYS5wcmV2ZW50RGVmYXVsdCgpLCFiLmxvY2tlZCl7dmFyIGM9ZChcIltcIitiLmF0dHJfbmFtZSgpK1wiXS5vcGVuXCIpLmRhdGEoYi5hdHRyX25hbWUoITApK1wiLWluaXRcIil8fGIuc2V0dGluZ3MsZT1kKGEudGFyZ2V0KVswXT09PWQoXCIuXCIrYy5iZ19jbGFzcylbMF07aWYoZSl7aWYoIWMuY2xvc2Vfb25fYmFja2dyb3VuZF9jbGljaylyZXR1cm47YS5zdG9wUHJvcGFnYXRpb24oKX1iLmxvY2tlZD0hMCxiLmNsb3NlLmNhbGwoYixlP2QoXCJbXCIrYi5hdHRyX25hbWUoKStcIl0ub3Blbjpub3QoLnRvYmFjaylcIik6ZCh0aGlzKS5jbG9zZXN0KFwiW1wiK2IuYXR0cl9uYW1lKCkrXCJdXCIpKX19KSxkKFwiW1wiK2IuYXR0cl9uYW1lKCkrXCJdXCIsdGhpcy5zY29wZSkubGVuZ3RoPjA/ZCh0aGlzLnNjb3BlKS5vbihcIm9wZW4uZm5kdG4ucmV2ZWFsXCIsdGhpcy5zZXR0aW5ncy5vcGVuKS5vbihcIm9wZW5lZC5mbmR0bi5yZXZlYWxcIix0aGlzLnNldHRpbmdzLm9wZW5lZCkub24oXCJvcGVuZWQuZm5kdG4ucmV2ZWFsXCIsdGhpcy5vcGVuX3ZpZGVvKS5vbihcImNsb3NlLmZuZHRuLnJldmVhbFwiLHRoaXMuc2V0dGluZ3MuY2xvc2UpLm9uKFwiY2xvc2VkLmZuZHRuLnJldmVhbFwiLHRoaXMuc2V0dGluZ3MuY2xvc2VkKS5vbihcImNsb3NlZC5mbmR0bi5yZXZlYWxcIix0aGlzLmNsb3NlX3ZpZGVvKTpkKHRoaXMuc2NvcGUpLm9uKFwib3Blbi5mbmR0bi5yZXZlYWxcIixcIltcIitiLmF0dHJfbmFtZSgpK1wiXVwiLHRoaXMuc2V0dGluZ3Mub3Blbikub24oXCJvcGVuZWQuZm5kdG4ucmV2ZWFsXCIsXCJbXCIrYi5hdHRyX25hbWUoKStcIl1cIix0aGlzLnNldHRpbmdzLm9wZW5lZCkub24oXCJvcGVuZWQuZm5kdG4ucmV2ZWFsXCIsXCJbXCIrYi5hdHRyX25hbWUoKStcIl1cIix0aGlzLm9wZW5fdmlkZW8pLm9uKFwiY2xvc2UuZm5kdG4ucmV2ZWFsXCIsXCJbXCIrYi5hdHRyX25hbWUoKStcIl1cIix0aGlzLnNldHRpbmdzLmNsb3NlKS5vbihcImNsb3NlZC5mbmR0bi5yZXZlYWxcIixcIltcIitiLmF0dHJfbmFtZSgpK1wiXVwiLHRoaXMuc2V0dGluZ3MuY2xvc2VkKS5vbihcImNsb3NlZC5mbmR0bi5yZXZlYWxcIixcIltcIitiLmF0dHJfbmFtZSgpK1wiXVwiLHRoaXMuY2xvc2VfdmlkZW8pLCEwfSxrZXlfdXBfb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gYi5TKFwiYm9keVwiKS5vZmYoXCJrZXl1cC5mbmR0bi5yZXZlYWxcIikub24oXCJrZXl1cC5mbmR0bi5yZXZlYWxcIixmdW5jdGlvbihhKXt2YXIgYz1iLlMoXCJbXCIrYi5hdHRyX25hbWUoKStcIl0ub3BlblwiKSxkPWMuZGF0YShiLmF0dHJfbmFtZSghMCkrXCItaW5pdFwiKXx8Yi5zZXR0aW5ncztkJiYyNz09PWEud2hpY2gmJmQuY2xvc2Vfb25fZXNjJiYhYi5sb2NrZWQmJmIuY2xvc2UuY2FsbChiLGMpfSksITB9LGtleV91cF9vZmY6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuUyhcImJvZHlcIikub2ZmKFwia2V5dXAuZm5kdG4ucmV2ZWFsXCIpLCEwfSxvcGVuOmZ1bmN0aW9uKGMsZCl7dmFyIGUsZj10aGlzO2M/XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGMuc2VsZWN0b3I/ZT1mLlMoXCIjXCIrYy5kYXRhKGYuZGF0YV9hdHRyKFwicmV2ZWFsLWlkXCIpKSkuZmlyc3QoKTooZT1mLlModGhpcy5zY29wZSksZD1jKTplPWYuUyh0aGlzLnNjb3BlKTt2YXIgZz1lLmRhdGEoZi5hdHRyX25hbWUoITApK1wiLWluaXRcIik7aWYoZz1nfHx0aGlzLnNldHRpbmdzLGUuaGFzQ2xhc3MoXCJvcGVuXCIpJiZjLmF0dHIoXCJkYXRhLXJldmVhbC1pZFwiKT09ZS5hdHRyKFwiaWRcIikpcmV0dXJuIGYuY2xvc2UoZSk7aWYoIWUuaGFzQ2xhc3MoXCJvcGVuXCIpKXt2YXIgaD1mLlMoXCJbXCIrZi5hdHRyX25hbWUoKStcIl0ub3BlblwiKTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgZS5kYXRhKFwiY3NzLXRvcFwiKSYmZS5kYXRhKFwiY3NzLXRvcFwiLHBhcnNlSW50KGUuY3NzKFwidG9wXCIpLDEwKSkuZGF0YShcIm9mZnNldFwiLHRoaXMuY2FjaGVfb2Zmc2V0KGUpKSxlLmF0dHIoXCJ0YWJpbmRleFwiLFwiMFwiKS5hdHRyKFwiYXJpYS1oaWRkZW5cIixcImZhbHNlXCIpLHRoaXMua2V5X3VwX29uKGUpLGUub24oXCJvcGVuLmZuZHRuLnJldmVhbFwiLGZ1bmN0aW9uKGEpe1wiZm5kdG4ucmV2ZWFsXCIhPT1hLm5hbWVzcGFjZX0pLGUub24oXCJvcGVuLmZuZHRuLnJldmVhbFwiKS50cmlnZ2VyKFwib3Blbi5mbmR0bi5yZXZlYWxcIiksaC5sZW5ndGg8MSYmdGhpcy50b2dnbGVfYmcoZSwhMCksXCJzdHJpbmdcIj09dHlwZW9mIGQmJihkPXt1cmw6ZH0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBkJiZkLnVybCl7dmFyIGk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGQuc3VjY2Vzcz9kLnN1Y2Nlc3M6bnVsbDthLmV4dGVuZChkLHtzdWNjZXNzOmZ1bmN0aW9uKGIsYyxkKXtpZihhLmlzRnVuY3Rpb24oaSkpe3ZhciBqPWkoYixjLGQpO1wic3RyaW5nXCI9PXR5cGVvZiBqJiYoYj1qKX1cInVuZGVmaW5lZFwiIT10eXBlb2Ygb3B0aW9ucyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG9wdGlvbnMucmVwbGFjZUNvbnRlbnRTZWw/ZS5maW5kKG9wdGlvbnMucmVwbGFjZUNvbnRlbnRTZWwpLmh0bWwoYik6ZS5odG1sKGIpLGYuUyhlKS5mb3VuZGF0aW9uKFwic2VjdGlvblwiLFwicmVmbG93XCIpLGYuUyhlKS5jaGlsZHJlbigpLmZvdW5kYXRpb24oKSxoLmxlbmd0aD4wJiYoZy5tdWx0aXBsZV9vcGVuZWQ/Zi50b19iYWNrKGgpOmYuaGlkZShoLGcuY3NzLmNsb3NlKSksZi5zaG93KGUsZy5jc3Mub3Blbil9fSksZy5vbl9hamF4X2Vycm9yIT09YS5ub29wJiZhLmV4dGVuZChkLHtlcnJvcjpnLm9uX2FqYXhfZXJyb3J9KSxhLmFqYXgoZCl9ZWxzZSBoLmxlbmd0aD4wJiYoZy5tdWx0aXBsZV9vcGVuZWQ/Zi50b19iYWNrKGgpOmYuaGlkZShoLGcuY3NzLmNsb3NlKSksdGhpcy5zaG93KGUsZy5jc3Mub3Blbil9Zi5TKGIpLnRyaWdnZXIoXCJyZXNpemVcIil9LGNsb3NlOmZ1bmN0aW9uKGIpe3ZhciBiPWImJmIubGVuZ3RoP2I6dGhpcy5TKHRoaXMuc2NvcGUpLGM9dGhpcy5TKFwiW1wiK3RoaXMuYXR0cl9uYW1lKCkrXCJdLm9wZW5cIiksZD1iLmRhdGEodGhpcy5hdHRyX25hbWUoITApK1wiLWluaXRcIil8fHRoaXMuc2V0dGluZ3MsZT10aGlzO2MubGVuZ3RoPjAmJihiLnJlbW92ZUF0dHIoXCJ0YWJpbmRleFwiLFwiMFwiKS5hdHRyKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksdGhpcy5sb2NrZWQ9ITAsdGhpcy5rZXlfdXBfb2ZmKGIpLGIudHJpZ2dlcihcImNsb3NlLmZuZHRuLnJldmVhbFwiKSwoZC5tdWx0aXBsZV9vcGVuZWQmJjE9PT1jLmxlbmd0aHx8IWQubXVsdGlwbGVfb3BlbmVkfHxiLmxlbmd0aD4xKSYmKGUudG9nZ2xlX2JnKGIsITEpLGUudG9fZnJvbnQoYikpLGQubXVsdGlwbGVfb3BlbmVkPyhlLmhpZGUoYixkLmNzcy5jbG9zZSxkKSxlLnRvX2Zyb250KGEoYS5tYWtlQXJyYXkoYykucmV2ZXJzZSgpWzFdKSkpOmUuaGlkZShjLGQuY3NzLmNsb3NlLGQpKX0sY2xvc2VfdGFyZ2V0czpmdW5jdGlvbigpe3ZhciBhPVwiLlwiK3RoaXMuc2V0dGluZ3MuZGlzbWlzc19tb2RhbF9jbGFzcztyZXR1cm4gdGhpcy5zZXR0aW5ncy5jbG9zZV9vbl9iYWNrZ3JvdW5kX2NsaWNrP2ErXCIsIC5cIit0aGlzLnNldHRpbmdzLmJnX2NsYXNzOmF9LHRvZ2dsZV9iZzpmdW5jdGlvbihiLGMpezA9PT10aGlzLlMoXCIuXCIrdGhpcy5zZXR0aW5ncy5iZ19jbGFzcykubGVuZ3RoJiYodGhpcy5zZXR0aW5ncy5iZz1hKFwiPGRpdiAvPlwiLHtcImNsYXNzXCI6dGhpcy5zZXR0aW5ncy5iZ19jbGFzc30pLmFwcGVuZFRvKFwiYm9keVwiKS5oaWRlKCkpO3ZhciBlPXRoaXMuc2V0dGluZ3MuYmcuZmlsdGVyKFwiOnZpc2libGVcIikubGVuZ3RoPjA7YyE9ZSYmKChjPT1kP2U6IWMpP3RoaXMuaGlkZSh0aGlzLnNldHRpbmdzLmJnKTp0aGlzLnNob3codGhpcy5zZXR0aW5ncy5iZykpfSxzaG93OmZ1bmN0aW9uKGMsZCl7aWYoZCl7dmFyIGY9Yy5kYXRhKHRoaXMuYXR0cl9uYW1lKCEwKStcIi1pbml0XCIpfHx0aGlzLnNldHRpbmdzLGc9Zi5yb290X2VsZW1lbnQsaD10aGlzO2lmKDA9PT1jLnBhcmVudChnKS5sZW5ndGgpe3ZhciBpPWMud3JhcCgnPGRpdiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCIgLz4nKS5wYXJlbnQoKTtjLm9uKFwiY2xvc2VkLmZuZHRuLnJldmVhbC53cmFwcGVkXCIsZnVuY3Rpb24oKXtjLmRldGFjaCgpLmFwcGVuZFRvKGkpLGMudW53cmFwKCkudW5iaW5kKFwiY2xvc2VkLmZuZHRuLnJldmVhbC53cmFwcGVkXCIpfSksYy5kZXRhY2goKS5hcHBlbmRUbyhnKX12YXIgaj1lKGYuYW5pbWF0aW9uKTtpZihqLmFuaW1hdGV8fCh0aGlzLmxvY2tlZD0hMSksai5wb3Ape2QudG9wPWEoYikuc2Nyb2xsVG9wKCktYy5kYXRhKFwib2Zmc2V0XCIpK1wicHhcIjt2YXIgaz17dG9wOmEoYikuc2Nyb2xsVG9wKCkrYy5kYXRhKFwiY3NzLXRvcFwiKStcInB4XCIsb3BhY2l0eToxfTtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBjLmNzcyhkKS5hbmltYXRlKGssZi5hbmltYXRpb25fc3BlZWQsXCJsaW5lYXJcIixmdW5jdGlvbigpe2gubG9ja2VkPSExLGMudHJpZ2dlcihcIm9wZW5lZC5mbmR0bi5yZXZlYWxcIil9KS5hZGRDbGFzcyhcIm9wZW5cIil9LGYuYW5pbWF0aW9uX3NwZWVkLzIpfWlmKGouZmFkZSl7ZC50b3A9YShiKS5zY3JvbGxUb3AoKStjLmRhdGEoXCJjc3MtdG9wXCIpK1wicHhcIjt2YXIgaz17b3BhY2l0eToxfTtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBjLmNzcyhkKS5hbmltYXRlKGssZi5hbmltYXRpb25fc3BlZWQsXCJsaW5lYXJcIixmdW5jdGlvbigpe2gubG9ja2VkPSExLGMudHJpZ2dlcihcIm9wZW5lZC5mbmR0bi5yZXZlYWxcIil9KS5hZGRDbGFzcyhcIm9wZW5cIil9LGYuYW5pbWF0aW9uX3NwZWVkLzIpfXJldHVybiBjLmNzcyhkKS5zaG93KCkuY3NzKHtvcGFjaXR5OjF9KS5hZGRDbGFzcyhcIm9wZW5cIikudHJpZ2dlcihcIm9wZW5lZC5mbmR0bi5yZXZlYWxcIil9dmFyIGY9dGhpcy5zZXR0aW5ncztyZXR1cm4gZShmLmFuaW1hdGlvbikuZmFkZT9jLmZhZGVJbihmLmFuaW1hdGlvbl9zcGVlZC8yKToodGhpcy5sb2NrZWQ9ITEsYy5zaG93KCkpfSx0b19iYWNrOmZ1bmN0aW9uKGEpe2EuYWRkQ2xhc3MoXCJ0b2JhY2tcIil9LHRvX2Zyb250OmZ1bmN0aW9uKGEpe2EucmVtb3ZlQ2xhc3MoXCJ0b2JhY2tcIil9LGhpZGU6ZnVuY3Rpb24oYyxkKXtpZihkKXt2YXIgZj1jLmRhdGEodGhpcy5hdHRyX25hbWUoITApK1wiLWluaXRcIiksZz10aGlzO2Y9Znx8dGhpcy5zZXR0aW5nczt2YXIgaD1lKGYuYW5pbWF0aW9uKTtpZihoLmFuaW1hdGV8fCh0aGlzLmxvY2tlZD0hMSksaC5wb3Ape3ZhciBpPXt0b3A6LWEoYikuc2Nyb2xsVG9wKCktYy5kYXRhKFwib2Zmc2V0XCIpK1wicHhcIixvcGFjaXR5OjB9O3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGMuYW5pbWF0ZShpLGYuYW5pbWF0aW9uX3NwZWVkLFwibGluZWFyXCIsZnVuY3Rpb24oKXtnLmxvY2tlZD0hMSxjLmNzcyhkKS50cmlnZ2VyKFwiY2xvc2VkLmZuZHRuLnJldmVhbFwiKX0pLnJlbW92ZUNsYXNzKFwib3BlblwiKX0sZi5hbmltYXRpb25fc3BlZWQvMil9aWYoaC5mYWRlKXt2YXIgaT17b3BhY2l0eTowfTtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBjLmFuaW1hdGUoaSxmLmFuaW1hdGlvbl9zcGVlZCxcImxpbmVhclwiLGZ1bmN0aW9uKCl7Zy5sb2NrZWQ9ITEsYy5jc3MoZCkudHJpZ2dlcihcImNsb3NlZC5mbmR0bi5yZXZlYWxcIil9KS5yZW1vdmVDbGFzcyhcIm9wZW5cIil9LGYuYW5pbWF0aW9uX3NwZWVkLzIpfXJldHVybiBjLmhpZGUoKS5jc3MoZCkucmVtb3ZlQ2xhc3MoXCJvcGVuXCIpLnRyaWdnZXIoXCJjbG9zZWQuZm5kdG4ucmV2ZWFsXCIpfXZhciBmPXRoaXMuc2V0dGluZ3M7cmV0dXJuIGUoZi5hbmltYXRpb24pLmZhZGU/Yy5mYWRlT3V0KGYuYW5pbWF0aW9uX3NwZWVkLzIpOmMuaGlkZSgpfSxjbG9zZV92aWRlbzpmdW5jdGlvbihiKXt2YXIgYz1hKFwiLmZsZXgtdmlkZW9cIixiLnRhcmdldCksZD1hKFwiaWZyYW1lXCIsYyk7ZC5sZW5ndGg+MCYmKGQuYXR0cihcImRhdGEtc3JjXCIsZFswXS5zcmMpLGQuYXR0cihcInNyY1wiLGQuYXR0cihcInNyY1wiKSksYy5oaWRlKCkpfSxvcGVuX3ZpZGVvOmZ1bmN0aW9uKGIpe3ZhciBjPWEoXCIuZmxleC12aWRlb1wiLGIudGFyZ2V0KSxlPWMuZmluZChcImlmcmFtZVwiKTtpZihlLmxlbmd0aD4wKXt2YXIgZj1lLmF0dHIoXCJkYXRhLXNyY1wiKTtpZihcInN0cmluZ1wiPT10eXBlb2YgZillWzBdLnNyYz1lLmF0dHIoXCJkYXRhLXNyY1wiKTtlbHNle3ZhciBnPWVbMF0uc3JjO2VbMF0uc3JjPWQsZVswXS5zcmM9Z31jLnNob3coKX19LGRhdGFfYXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5uYW1lc3BhY2UubGVuZ3RoPjA/dGhpcy5uYW1lc3BhY2UrXCItXCIrYTphfSxjYWNoZV9vZmZzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5zaG93KCkuaGVpZ2h0KCkrcGFyc2VJbnQoYS5jc3MoXCJ0b3BcIiksMTApK2Euc2Nyb2xsWTtyZXR1cm4gYS5oaWRlKCksYn0sb2ZmOmZ1bmN0aW9uKCl7YSh0aGlzLnNjb3BlKS5vZmYoXCIuZm5kdG4ucmV2ZWFsXCIpfSxyZWZsb3c6ZnVuY3Rpb24oKXt9fX0oalF1ZXJ5LHdpbmRvdyx3aW5kb3cuZG9jdW1lbnQpLGZ1bmN0aW9uKGEsYixjLGQpe1widXNlIHN0cmljdFwiO0ZvdW5kYXRpb24ubGlicy5zbGlkZXI9e25hbWU6XCJzbGlkZXJcIix2ZXJzaW9uOlwiNS41LjJcIixzZXR0aW5nczp7c3RhcnQ6MCxlbmQ6MTAwLHN0ZXA6MSxwcmVjaXNpb246bnVsbCxpbml0aWFsOm51bGwsZGlzcGxheV9zZWxlY3RvcjpcIlwiLHZlcnRpY2FsOiExLHRyaWdnZXJfaW5wdXRfY2hhbmdlOiExLG9uX2NoYW5nZTpmdW5jdGlvbigpe319LGNhY2hlOnt9LGluaXQ6ZnVuY3Rpb24oYSxiLGMpe0ZvdW5kYXRpb24uaW5oZXJpdCh0aGlzLFwidGhyb3R0bGVcIiksdGhpcy5iaW5kaW5ncyhiLGMpLHRoaXMucmVmbG93KCl9LGV2ZW50czpmdW5jdGlvbigpe3ZhciBjPXRoaXM7YSh0aGlzLnNjb3BlKS5vZmYoXCIuc2xpZGVyXCIpLm9uKFwibW91c2Vkb3duLmZuZHRuLnNsaWRlciB0b3VjaHN0YXJ0LmZuZHRuLnNsaWRlciBwb2ludGVyZG93bi5mbmR0bi5zbGlkZXJcIixcIltcIitjLmF0dHJfbmFtZSgpK1wiXTpub3QoLmRpc2FibGVkLCBbZGlzYWJsZWRdKSAucmFuZ2Utc2xpZGVyLWhhbmRsZVwiLGZ1bmN0aW9uKGIpe2MuY2FjaGUuYWN0aXZlfHwoYi5wcmV2ZW50RGVmYXVsdCgpLGMuc2V0X2FjdGl2ZV9zbGlkZXIoYShiLnRhcmdldCkpKX0pLm9uKFwibW91c2Vtb3ZlLmZuZHRuLnNsaWRlciB0b3VjaG1vdmUuZm5kdG4uc2xpZGVyIHBvaW50ZXJtb3ZlLmZuZHRuLnNsaWRlclwiLGZ1bmN0aW9uKGQpe2lmKGMuY2FjaGUuYWN0aXZlKWlmKGQucHJldmVudERlZmF1bHQoKSxhLmRhdGEoYy5jYWNoZS5hY3RpdmVbMF0sXCJzZXR0aW5nc1wiKS52ZXJ0aWNhbCl7dmFyIGU9MDtkLnBhZ2VZfHwoZT1iLnNjcm9sbFkpLGMuY2FsY3VsYXRlX3Bvc2l0aW9uKGMuY2FjaGUuYWN0aXZlLGMuZ2V0X2N1cnNvcl9wb3NpdGlvbihkLFwieVwiKStlKX1lbHNlIGMuY2FsY3VsYXRlX3Bvc2l0aW9uKGMuY2FjaGUuYWN0aXZlLGMuZ2V0X2N1cnNvcl9wb3NpdGlvbihkLFwieFwiKSl9KS5vbihcIm1vdXNldXAuZm5kdG4uc2xpZGVyIHRvdWNoZW5kLmZuZHRuLnNsaWRlciBwb2ludGVydXAuZm5kdG4uc2xpZGVyXCIsZnVuY3Rpb24oYSl7Yy5yZW1vdmVfYWN0aXZlX3NsaWRlcigpfSkub24oXCJjaGFuZ2UuZm5kdG4uc2xpZGVyXCIsZnVuY3Rpb24oYSl7Yy5zZXR0aW5ncy5vbl9jaGFuZ2UoKX0pLGMuUyhiKS5vbihcInJlc2l6ZS5mbmR0bi5zbGlkZXJcIixjLnRocm90dGxlKGZ1bmN0aW9uKGEpe2MucmVmbG93KCl9LDMwMCkpLHRoaXMuUyhcIltcIit0aGlzLmF0dHJfbmFtZSgpK1wiXVwiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxkPWIuY2hpbGRyZW4oXCIucmFuZ2Utc2xpZGVyLWhhbmRsZVwiKVswXSxlPWMuaW5pdGlhbGl6ZV9zZXR0aW5ncyhkKTtcIlwiIT1lLmRpc3BsYXlfc2VsZWN0b3ImJmEoZS5kaXNwbGF5X3NlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpJiZhKHRoaXMpLmNoYW5nZShmdW5jdGlvbigpe2IuZm91bmRhdGlvbihcInNsaWRlclwiLFwic2V0X3ZhbHVlXCIsYSh0aGlzKS52YWwoKSl9KX0pfSl9LGdldF9jdXJzb3JfcG9zaXRpb246ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVwicGFnZVwiK2IudG9VcHBlckNhc2UoKSxlPVwiY2xpZW50XCIrYi50b1VwcGVyQ2FzZSgpO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBhW2RdP2M9YVtkXTpcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5vcmlnaW5hbEV2ZW50W2VdP2M9YS5vcmlnaW5hbEV2ZW50W2VdOmEub3JpZ2luYWxFdmVudC50b3VjaGVzJiZhLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdW2VdP2M9YS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF1bZV06YS5jdXJyZW50UG9pbnQmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmN1cnJlbnRQb2ludFtiXSYmKGM9YS5jdXJyZW50UG9pbnRbYl0pLGN9LHNldF9hY3RpdmVfc2xpZGVyOmZ1bmN0aW9uKGEpe3RoaXMuY2FjaGUuYWN0aXZlPWF9LHJlbW92ZV9hY3RpdmVfc2xpZGVyOmZ1bmN0aW9uKCl7dGhpcy5jYWNoZS5hY3RpdmU9bnVsbH0sY2FsY3VsYXRlX3Bvc2l0aW9uOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcyxlPWEuZGF0YShiWzBdLFwic2V0dGluZ3NcIiksZj0oYS5kYXRhKGJbMF0sXCJoYW5kbGVfbFwiKSxhLmRhdGEoYlswXSxcImhhbmRsZV9vXCIpLGEuZGF0YShiWzBdLFwiYmFyX2xcIikpLGc9YS5kYXRhKGJbMF0sXCJiYXJfb1wiKTtyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXt2YXIgYTthPUZvdW5kYXRpb24ucnRsJiYhZS52ZXJ0aWNhbD9kLmxpbWl0X3RvKChnK2YtYykvZiwwLDEpOmQubGltaXRfdG8oKGMtZykvZiwwLDEpLGE9ZS52ZXJ0aWNhbD8xLWE6YTt2YXIgaD1kLm5vcm1hbGl6ZWRfdmFsdWUoYSxlLnN0YXJ0LGUuZW5kLGUuc3RlcCxlLnByZWNpc2lvbik7ZC5zZXRfdWkoYixoKX0pfSxzZXRfdWk6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmRhdGEoYlswXSxcInNldHRpbmdzXCIpLGU9YS5kYXRhKGJbMF0sXCJoYW5kbGVfbFwiKSxmPWEuZGF0YShiWzBdLFwiYmFyX2xcIiksZz10aGlzLm5vcm1hbGl6ZWRfcGVyY2VudGFnZShjLGQuc3RhcnQsZC5lbmQpLGg9ZyooZi1lKS0xLGk9MTAwKmcsaj1iLnBhcmVudCgpLGs9Yi5wYXJlbnQoKS5jaGlsZHJlbihcImlucHV0W3R5cGU9aGlkZGVuXVwiKTtGb3VuZGF0aW9uLnJ0bCYmIWQudmVydGljYWwmJihoPS1oKSxoPWQudmVydGljYWw/LWgrZi1lKzE6aCx0aGlzLnNldF90cmFuc2xhdGUoYixoLGQudmVydGljYWwpLGQudmVydGljYWw/Yi5zaWJsaW5ncyhcIi5yYW5nZS1zbGlkZXItYWN0aXZlLXNlZ21lbnRcIikuY3NzKFwiaGVpZ2h0XCIsaStcIiVcIik6Yi5zaWJsaW5ncyhcIi5yYW5nZS1zbGlkZXItYWN0aXZlLXNlZ21lbnRcIikuY3NzKFwid2lkdGhcIixpK1wiJVwiKSxqLmF0dHIodGhpcy5hdHRyX25hbWUoKSxjKS50cmlnZ2VyKFwiY2hhbmdlLmZuZHRuLnNsaWRlclwiKSxrLnZhbChjKSxkLnRyaWdnZXJfaW5wdXRfY2hhbmdlJiZrLnRyaWdnZXIoXCJjaGFuZ2UuZm5kdG4uc2xpZGVyXCIpLGJbMF0uaGFzQXR0cmlidXRlKFwiYXJpYS12YWx1ZW1pblwiKXx8Yi5hdHRyKHtcImFyaWEtdmFsdWVtaW5cIjpkLnN0YXJ0LFwiYXJpYS12YWx1ZW1heFwiOmQuZW5kfSksYi5hdHRyKFwiYXJpYS12YWx1ZW5vd1wiLGMpLFwiXCIhPWQuZGlzcGxheV9zZWxlY3RvciYmYShkLmRpc3BsYXlfc2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oKXt0aGlzLmhhc0F0dHJpYnV0ZShcInZhbHVlXCIpP2EodGhpcykudmFsKGMpOmEodGhpcykudGV4dChjKX0pfSxub3JtYWxpemVkX3BlcmNlbnRhZ2U6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBNYXRoLm1pbigxLChhLWIpLyhjLWIpKX0sbm9ybWFsaXplZF92YWx1ZTpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWMtYixnPWEqZixoPShnLWclZCkvZCxpPWclZCxqPWk+PS41KmQ/ZDowO3JldHVybihoKmQraitiKS50b0ZpeGVkKGUpfSxzZXRfdHJhbnNsYXRlOmZ1bmN0aW9uKGIsYyxkKXtkP2EoYikuY3NzKFwiLXdlYmtpdC10cmFuc2Zvcm1cIixcInRyYW5zbGF0ZVkoXCIrYytcInB4KVwiKS5jc3MoXCItbW96LXRyYW5zZm9ybVwiLFwidHJhbnNsYXRlWShcIitjK1wicHgpXCIpLmNzcyhcIi1tcy10cmFuc2Zvcm1cIixcInRyYW5zbGF0ZVkoXCIrYytcInB4KVwiKS5jc3MoXCItby10cmFuc2Zvcm1cIixcInRyYW5zbGF0ZVkoXCIrYytcInB4KVwiKS5jc3MoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZVkoXCIrYytcInB4KVwiKTphKGIpLmNzcyhcIi13ZWJraXQtdHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGVYKFwiK2MrXCJweClcIikuY3NzKFwiLW1vei10cmFuc2Zvcm1cIixcInRyYW5zbGF0ZVgoXCIrYytcInB4KVwiKS5jc3MoXCItbXMtdHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGVYKFwiK2MrXCJweClcIikuY3NzKFwiLW8tdHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGVYKFwiK2MrXCJweClcIikuY3NzKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGVYKFwiK2MrXCJweClcIil9LGxpbWl0X3RvOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgoYSxiKSxjKX0saW5pdGlhbGl6ZV9zZXR0aW5nczpmdW5jdGlvbihiKXt2YXIgYyxkPWEuZXh0ZW5kKHt9LHRoaXMuc2V0dGluZ3MsdGhpcy5kYXRhX29wdGlvbnMoYShiKS5wYXJlbnQoKSkpO3JldHVybiBudWxsPT09ZC5wcmVjaXNpb24mJihjPShcIlwiK2Quc3RlcCkubWF0Y2goL1xcLihbXFxkXSopLyksZC5wcmVjaXNpb249YyYmY1sxXT9jWzFdLmxlbmd0aDowKSxkLnZlcnRpY2FsPyhhLmRhdGEoYixcImJhcl9vXCIsYShiKS5wYXJlbnQoKS5vZmZzZXQoKS50b3ApLGEuZGF0YShiLFwiYmFyX2xcIixhKGIpLnBhcmVudCgpLm91dGVySGVpZ2h0KCkpLGEuZGF0YShiLFwiaGFuZGxlX29cIixhKGIpLm9mZnNldCgpLnRvcCksYS5kYXRhKGIsXCJoYW5kbGVfbFwiLGEoYikub3V0ZXJIZWlnaHQoKSkpOihhLmRhdGEoYixcImJhcl9vXCIsYShiKS5wYXJlbnQoKS5vZmZzZXQoKS5sZWZ0KSxhLmRhdGEoYixcImJhcl9sXCIsYShiKS5wYXJlbnQoKS5vdXRlcldpZHRoKCkpLGEuZGF0YShiLFwiaGFuZGxlX29cIixhKGIpLm9mZnNldCgpLmxlZnQpLGEuZGF0YShiLFwiaGFuZGxlX2xcIixhKGIpLm91dGVyV2lkdGgoKSkpLGEuZGF0YShiLFwiYmFyXCIsYShiKS5wYXJlbnQoKSksYS5kYXRhKGIsXCJzZXR0aW5nc1wiLGQpfSxzZXRfaW5pdGlhbF9wb3NpdGlvbjpmdW5jdGlvbihiKXt2YXIgYz1hLmRhdGEoYi5jaGlsZHJlbihcIi5yYW5nZS1zbGlkZXItaGFuZGxlXCIpWzBdLFwic2V0dGluZ3NcIiksZD1cIm51bWJlclwiIT10eXBlb2YgYy5pbml0aWFsfHxpc05hTihjLmluaXRpYWwpP01hdGguZmxvb3IoLjUqKGMuZW5kLWMuc3RhcnQpL2Muc3RlcCkqYy5zdGVwK2Muc3RhcnQ6Yy5pbml0aWFsLGU9Yi5jaGlsZHJlbihcIi5yYW5nZS1zbGlkZXItaGFuZGxlXCIpO3RoaXMuc2V0X3VpKGUsZCl9LHNldF92YWx1ZTpmdW5jdGlvbihiKXt2YXIgYz10aGlzO2EoXCJbXCIrYy5hdHRyX25hbWUoKStcIl1cIix0aGlzLnNjb3BlKS5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5hdHRyKGMuYXR0cl9uYW1lKCksYil9KSxhKHRoaXMuc2NvcGUpLmF0dHIoYy5hdHRyX25hbWUoKSkmJmEodGhpcy5zY29wZSkuYXR0cihjLmF0dHJfbmFtZSgpLGIpLGMucmVmbG93KCl9LHJlZmxvdzpmdW5jdGlvbigpe3ZhciBiPXRoaXM7Yi5TKFwiW1wiK3RoaXMuYXR0cl9uYW1lKCkrXCJdXCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLmNoaWxkcmVuKFwiLnJhbmdlLXNsaWRlci1oYW5kbGVcIilbMF0sZD1hKHRoaXMpLmF0dHIoYi5hdHRyX25hbWUoKSk7Yi5pbml0aWFsaXplX3NldHRpbmdzKGMpLGQ/Yi5zZXRfdWkoYShjKSxwYXJzZUZsb2F0KGQpKTpiLnNldF9pbml0aWFsX3Bvc2l0aW9uKGEodGhpcykpfSl9fX0oalF1ZXJ5LHdpbmRvdyx3aW5kb3cuZG9jdW1lbnQpLGZ1bmN0aW9uKGEsYixjLGQpe1widXNlIHN0cmljdFwiO0ZvdW5kYXRpb24ubGlicy50YWI9e25hbWU6XCJ0YWJcIix2ZXJzaW9uOlwiNS41LjJcIixzZXR0aW5nczp7YWN0aXZlX2NsYXNzOlwiYWN0aXZlXCIsY2FsbGJhY2s6ZnVuY3Rpb24oKXt9LGRlZXBfbGlua2luZzohMSxzY3JvbGxfdG9fY29udGVudDohMCxpc19ob3ZlcjohMX0sZGVmYXVsdF90YWJfaGFzaGVzOltdLGluaXQ6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPXRoaXMsZj10aGlzLlM7ZihcIltcIit0aGlzLmF0dHJfbmFtZSgpK1wiXSA+IC5hY3RpdmUgPiBhXCIsdGhpcy5zY29wZSkuZWFjaChmdW5jdGlvbigpe2UuZGVmYXVsdF90YWJfaGFzaGVzLnB1c2godGhpcy5oYXNoKX0pLGUuZW50cnlfbG9jYXRpb249Yi5sb2NhdGlvbi5ocmVmLHRoaXMuYmluZGluZ3MoYyxkKSx0aGlzLmhhbmRsZV9sb2NhdGlvbl9oYXNoX2NoYW5nZSgpfSxldmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGM9dGhpcy5TLGQ9ZnVuY3Rpb24oYixkKXt2YXIgZT1jKGQpLmNsb3Nlc3QoXCJbXCIrYS5hdHRyX25hbWUoKStcIl1cIikuZGF0YShhLmF0dHJfbmFtZSghMCkrXCItaW5pdFwiKTsoIWUuaXNfaG92ZXJ8fE1vZGVybml6ci50b3VjaCkmJihiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wUHJvcGFnYXRpb24oKSxhLnRvZ2dsZV9hY3RpdmVfdGFiKGMoZCkucGFyZW50KCkpKX07Yyh0aGlzLnNjb3BlKS5vZmYoXCIudGFiXCIpLm9uKFwia2V5ZG93bi5mbmR0bi50YWJcIixcIltcIit0aGlzLmF0dHJfbmFtZSgpK1wiXSA+ICogPiBhXCIsZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWEua2V5Q29kZXx8YS53aGljaDs5PT1jJiYoYS5wcmV2ZW50RGVmYXVsdCgpLGQoYSxiKSl9KS5vbihcImNsaWNrLmZuZHRuLnRhYlwiLFwiW1wiK3RoaXMuYXR0cl9uYW1lKCkrXCJdID4gKiA+IGFcIixmdW5jdGlvbihhKXt2YXIgYj10aGlzO2QoYSxiKX0pLm9uKFwibW91c2VlbnRlci5mbmR0bi50YWJcIixcIltcIit0aGlzLmF0dHJfbmFtZSgpK1wiXSA+ICogPiBhXCIsZnVuY3Rpb24oYil7dmFyIGQ9Yyh0aGlzKS5jbG9zZXN0KFwiW1wiK2EuYXR0cl9uYW1lKCkrXCJdXCIpLmRhdGEoYS5hdHRyX25hbWUoITApK1wiLWluaXRcIik7ZC5pc19ob3ZlciYmYS50b2dnbGVfYWN0aXZlX3RhYihjKHRoaXMpLnBhcmVudCgpKX0pLGMoYikub24oXCJoYXNoY2hhbmdlLmZuZHRuLnRhYlwiLGZ1bmN0aW9uKGIpe2IucHJldmVudERlZmF1bHQoKSxhLmhhbmRsZV9sb2NhdGlvbl9oYXNoX2NoYW5nZSgpfSl9LGhhbmRsZV9sb2NhdGlvbl9oYXNoX2NoYW5nZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz10aGlzLlM7YyhcIltcIit0aGlzLmF0dHJfbmFtZSgpK1wiXVwiLHRoaXMuc2NvcGUpLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1jKHRoaXMpLmRhdGEoYi5hdHRyX25hbWUoITApK1wiLWluaXRcIik7aWYoZS5kZWVwX2xpbmtpbmcpe3ZhciBmO2lmKGY9ZS5zY3JvbGxfdG9fY29udGVudD9iLnNjb3BlLmxvY2F0aW9uLmhhc2g6Yi5zY29wZS5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoXCJmbmR0bi1cIixcIlwiKSxcIlwiIT1mKXt2YXIgZz1jKGYpO2lmKGcuaGFzQ2xhc3MoXCJjb250ZW50XCIpJiZnLnBhcmVudCgpLmhhc0NsYXNzKFwidGFicy1jb250ZW50XCIpKWIudG9nZ2xlX2FjdGl2ZV90YWIoYShcIltcIitiLmF0dHJfbmFtZSgpK1wiXSA+ICogPiBhW2hyZWY9XCIrZitcIl1cIikucGFyZW50KCkpO2Vsc2V7dmFyIGg9Zy5jbG9zZXN0KFwiLmNvbnRlbnRcIikuYXR0cihcImlkXCIpO2ghPWQmJmIudG9nZ2xlX2FjdGl2ZV90YWIoYShcIltcIitiLmF0dHJfbmFtZSgpK1wiXSA+ICogPiBhW2hyZWY9I1wiK2grXCJdXCIpLnBhcmVudCgpLGYpfX1lbHNlIGZvcih2YXIgaT0wO2k8Yi5kZWZhdWx0X3RhYl9oYXNoZXMubGVuZ3RoO2krKyliLnRvZ2dsZV9hY3RpdmVfdGFiKGEoXCJbXCIrYi5hdHRyX25hbWUoKStcIl0gPiAqID4gYVtocmVmPVwiK2IuZGVmYXVsdF90YWJfaGFzaGVzW2ldK1wiXVwiKS5wYXJlbnQoKSl9fSl9LHRvZ2dsZV9hY3RpdmVfdGFiOmZ1bmN0aW9uKGUsZil7dmFyIGc9dGhpcyxoPWcuUyxpPWUuY2xvc2VzdChcIltcIit0aGlzLmF0dHJfbmFtZSgpK1wiXVwiKSxqPWUuZmluZChcImFcIiksaz1lLmNoaWxkcmVuKFwiYVwiKS5maXJzdCgpLGw9XCIjXCIray5hdHRyKFwiaHJlZlwiKS5zcGxpdChcIiNcIilbMV0sbT1oKGwpLG49ZS5zaWJsaW5ncygpLG89aS5kYXRhKHRoaXMuYXR0cl9uYW1lKCEwKStcIi1pbml0XCIpLHA9ZnVuY3Rpb24oYil7dmFyIGQsZT1hKHRoaXMpLGY9YSh0aGlzKS5wYXJlbnRzKFwibGlcIikucHJldigpLmNoaWxkcmVuKCdbcm9sZT1cInRhYlwiXScpLGc9YSh0aGlzKS5wYXJlbnRzKFwibGlcIikubmV4dCgpLmNoaWxkcmVuKCdbcm9sZT1cInRhYlwiXScpO3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgMzc6ZD1mO2JyZWFrO2Nhc2UgMzk6ZD1nO2JyZWFrO2RlZmF1bHQ6ZD0hMX1kLmxlbmd0aCYmKGUuYXR0cih7dGFiaW5kZXg6XCItMVwiLFwiYXJpYS1zZWxlY3RlZFwiOm51bGx9KSxkLmF0dHIoe3RhYmluZGV4OlwiMFwiLFwiYXJpYS1zZWxlY3RlZFwiOiEwfSkuZm9jdXMoKSksYSgnW3JvbGU9XCJ0YWJwYW5lbFwiXScpLmF0dHIoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSxhKFwiI1wiK2EoYy5hY3RpdmVFbGVtZW50KS5hdHRyKFwiaHJlZlwiKS5zdWJzdHJpbmcoMSkpLmF0dHIoXCJhcmlhLWhpZGRlblwiLG51bGwpfSxxPWZ1bmN0aW9uKGEpe3ZhciBjPWIubG9jYXRpb24uaHJlZj09PWcuZW50cnlfbG9jYXRpb24sZD1vLnNjcm9sbF90b19jb250ZW50P2cuZGVmYXVsdF90YWJfaGFzaGVzWzBdOmM/Yi5sb2NhdGlvbi5oYXNoOlwiZm5kdG4tXCIrZy5kZWZhdWx0X3RhYl9oYXNoZXNbMF0ucmVwbGFjZShcIiNcIixcIlwiKTtjJiZhPT09ZHx8KGIubG9jYXRpb24uaGFzaD1hKX07ay5kYXRhKFwidGFiLWNvbnRlbnRcIikmJihsPVwiI1wiK2suZGF0YShcInRhYi1jb250ZW50XCIpLnNwbGl0KFwiI1wiKVsxXSxtPWgobCkpLG8uZGVlcF9saW5raW5nJiYoby5zY3JvbGxfdG9fY29udGVudD8ocShmfHxsKSxmPT1kfHxmPT1sP2UucGFyZW50KClbMF0uc2Nyb2xsSW50b1ZpZXcoKTpoKGwpWzBdLnNjcm9sbEludG9WaWV3KCkpOnEoZiE9ZD9cImZuZHRuLVwiK2YucmVwbGFjZShcIiNcIixcIlwiKTpcImZuZHRuLVwiK2wucmVwbGFjZShcIiNcIixcIlwiKSkpLGUuYWRkQ2xhc3Moby5hY3RpdmVfY2xhc3MpLnRyaWdnZXJIYW5kbGVyKFwib3BlbmVkXCIpLGouYXR0cih7XCJhcmlhLXNlbGVjdGVkXCI6XCJ0cnVlXCIsdGFiaW5kZXg6MH0pLG4ucmVtb3ZlQ2xhc3Moby5hY3RpdmVfY2xhc3MpLG4uZmluZChcImFcIikuYXR0cih7XCJhcmlhLXNlbGVjdGVkXCI6XCJmYWxzZVwiLHRhYmluZGV4Oi0xfSksbS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKG8uYWN0aXZlX2NsYXNzKS5hdHRyKHtcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCIsdGFiaW5kZXg6LTF9KSxtLmFkZENsYXNzKG8uYWN0aXZlX2NsYXNzKS5hdHRyKFwiYXJpYS1oaWRkZW5cIixcImZhbHNlXCIpLnJlbW92ZUF0dHIoXCJ0YWJpbmRleFwiKSxvLmNhbGxiYWNrKGUpLG0udHJpZ2dlckhhbmRsZXIoXCJ0b2dnbGVkXCIsW21dKSxpLnRyaWdnZXJIYW5kbGVyKFwidG9nZ2xlZFwiLFtlXSksai5vZmYoXCJrZXlkb3duXCIpLm9uKFwia2V5ZG93blwiLHApfSxkYXRhX2F0dHI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubmFtZXNwYWNlLmxlbmd0aD4wP3RoaXMubmFtZXNwYWNlK1wiLVwiK2E6YX0sb2ZmOmZ1bmN0aW9uKCl7fSxyZWZsb3c6ZnVuY3Rpb24oKXt9fX0oalF1ZXJ5LHdpbmRvdyx3aW5kb3cuZG9jdW1lbnQpLGZ1bmN0aW9uKGEsYixjLGQpe1widXNlIHN0cmljdFwiO0ZvdW5kYXRpb24ubGlicy50b29sdGlwPXtuYW1lOlwidG9vbHRpcFwiLHZlcnNpb246XCI1LjUuMlwiLHNldHRpbmdzOnthZGRpdGlvbmFsX2luaGVyaXRhYmxlX2NsYXNzZXM6W10sdG9vbHRpcF9jbGFzczpcIi50b29sdGlwXCIsYXBwZW5kX3RvOlwiYm9keVwiLHRvdWNoX2Nsb3NlX3RleHQ6XCJUYXAgVG8gQ2xvc2VcIixkaXNhYmxlX2Zvcl90b3VjaDohMSxob3Zlcl9kZWxheToyMDAsc2hvd19vbjpcImFsbFwiLHRpcF90ZW1wbGF0ZTpmdW5jdGlvbihhLGIpe3JldHVybic8c3BhbiBkYXRhLXNlbGVjdG9yPVwiJythKydcIiBpZD1cIicrYSsnXCIgY2xhc3M9XCInK0ZvdW5kYXRpb24ubGlicy50b29sdGlwLnNldHRpbmdzLnRvb2x0aXBfY2xhc3Muc3Vic3RyaW5nKDEpKydcIiByb2xlPVwidG9vbHRpcFwiPicrYisnPHNwYW4gY2xhc3M9XCJudWJcIj48L3NwYW4+PC9zcGFuPid9fSxjYWNoZTp7fSxpbml0OmZ1bmN0aW9uKGEsYixjKXtGb3VuZGF0aW9uLmluaGVyaXQodGhpcyxcInJhbmRvbV9zdHJcIiksdGhpcy5iaW5kaW5ncyhiLGMpfSxzaG91bGRfc2hvdzpmdW5jdGlvbihiLGMpe3ZhciBkPWEuZXh0ZW5kKHt9LHRoaXMuc2V0dGluZ3MsdGhpcy5kYXRhX29wdGlvbnMoYikpO3JldHVyblwiYWxsXCI9PT1kLnNob3dfb24/ITA6dGhpcy5zbWFsbCgpJiZcInNtYWxsXCI9PT1kLnNob3dfb24/ITA6dGhpcy5tZWRpdW0oKSYmXCJtZWRpdW1cIj09PWQuc2hvd19vbj8hMDp0aGlzLmxhcmdlKCkmJlwibGFyZ2VcIj09PWQuc2hvd19vbj8hMDohMX0sbWVkaXVtOmZ1bmN0aW9uKCl7cmV0dXJuIG1hdGNoTWVkaWEoRm91bmRhdGlvbi5tZWRpYV9xdWVyaWVzLm1lZGl1bSkubWF0Y2hlc30sbGFyZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gbWF0Y2hNZWRpYShGb3VuZGF0aW9uLm1lZGlhX3F1ZXJpZXMubGFyZ2UpLm1hdGNoZXN9LGV2ZW50czpmdW5jdGlvbihiKXtmdW5jdGlvbiBjKGEsYixjKXthLnRpbWVyfHwoYz8oYS50aW1lcj1udWxsLGUuc2hvd1RpcChiKSk6YS50aW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS50aW1lcj1udWxsLGUuc2hvd1RpcChiKX0uYmluZChhKSxlLnNldHRpbmdzLmhvdmVyX2RlbGF5KSl9ZnVuY3Rpb24gZChhLGIpe2EudGltZXImJihjbGVhclRpbWVvdXQoYS50aW1lciksYS50aW1lcj1udWxsKSxlLmhpZGUoYil9dmFyIGU9dGhpcyxmPWUuUztlLmNyZWF0ZSh0aGlzLlMoYikpLGEodGhpcy5zY29wZSkub2ZmKFwiLnRvb2x0aXBcIikub24oXCJtb3VzZWVudGVyLmZuZHRuLnRvb2x0aXAgbW91c2VsZWF2ZS5mbmR0bi50b29sdGlwIHRvdWNoc3RhcnQuZm5kdG4udG9vbHRpcCBNU1BvaW50ZXJEb3duLmZuZHRuLnRvb2x0aXBcIixcIltcIit0aGlzLmF0dHJfbmFtZSgpK1wiXVwiLGZ1bmN0aW9uKGIpe3ZhciBnPWYodGhpcyksaD1hLmV4dGVuZCh7fSxlLnNldHRpbmdzLGUuZGF0YV9vcHRpb25zKGcpKSxpPSExO2lmKE1vZGVybml6ci50b3VjaCYmL3RvdWNoc3RhcnR8TVNQb2ludGVyRG93bi9pLnRlc3QoYi50eXBlKSYmZihiLnRhcmdldCkuaXMoXCJhXCIpKXJldHVybiExO2lmKC9tb3VzZS9pLnRlc3QoYi50eXBlKSYmZS5pZV90b3VjaChiKSlyZXR1cm4hMTtpZihnLmhhc0NsYXNzKFwib3BlblwiKSlNb2Rlcm5penIudG91Y2gmJi90b3VjaHN0YXJ0fE1TUG9pbnRlckRvd24vaS50ZXN0KGIudHlwZSkmJmIucHJldmVudERlZmF1bHQoKSxlLmhpZGUoZyk7ZWxzZXtpZihoLmRpc2FibGVfZm9yX3RvdWNoJiZNb2Rlcm5penIudG91Y2gmJi90b3VjaHN0YXJ0fE1TUG9pbnRlckRvd24vaS50ZXN0KGIudHlwZSkpcmV0dXJuO2lmKCFoLmRpc2FibGVfZm9yX3RvdWNoJiZNb2Rlcm5penIudG91Y2gmJi90b3VjaHN0YXJ0fE1TUG9pbnRlckRvd24vaS50ZXN0KGIudHlwZSkmJihiLnByZXZlbnREZWZhdWx0KCksZihoLnRvb2x0aXBfY2xhc3MrXCIub3BlblwiKS5oaWRlKCksaT0hMCxhKFwiLm9wZW5bXCIrZS5hdHRyX25hbWUoKStcIl1cIikubGVuZ3RoPjApKXt2YXIgaj1mKGEoXCIub3BlbltcIitlLmF0dHJfbmFtZSgpK1wiXVwiKVswXSk7ZS5oaWRlKGopfS9lbnRlcnxvdmVyL2kudGVzdChiLnR5cGUpP2ModGhpcyxnKTpcIm1vdXNlb3V0XCI9PT1iLnR5cGV8fFwibW91c2VsZWF2ZVwiPT09Yi50eXBlP2QodGhpcyxnKTpjKHRoaXMsZywhMCl9fSkub24oXCJtb3VzZWxlYXZlLmZuZHRuLnRvb2x0aXAgdG91Y2hzdGFydC5mbmR0bi50b29sdGlwIE1TUG9pbnRlckRvd24uZm5kdG4udG9vbHRpcFwiLFwiW1wiK3RoaXMuYXR0cl9uYW1lKCkrXCJdLm9wZW5cIixmdW5jdGlvbihiKXtyZXR1cm4vbW91c2UvaS50ZXN0KGIudHlwZSkmJmUuaWVfdG91Y2goYik/ITE6dm9pZCgoXCJ0b3VjaFwiIT1hKHRoaXMpLmRhdGEoXCJ0b29sdGlwLW9wZW4tZXZlbnQtdHlwZVwiKXx8XCJtb3VzZWxlYXZlXCIhPWIudHlwZSkmJihcIm1vdXNlXCI9PWEodGhpcykuZGF0YShcInRvb2x0aXAtb3Blbi1ldmVudC10eXBlXCIpJiYvTVNQb2ludGVyRG93bnx0b3VjaHN0YXJ0L2kudGVzdChiLnR5cGUpP2UuY29udmVydF90b190b3VjaChhKHRoaXMpKTpkKHRoaXMsYSh0aGlzKSkpKX0pLm9uKFwiRE9NTm9kZVJlbW92ZWQgRE9NQXR0ck1vZGlmaWVkXCIsXCJbXCIrdGhpcy5hdHRyX25hbWUoKStcIl06bm90KGEpXCIsZnVuY3Rpb24oYSl7ZCh0aGlzLGYodGhpcykpfSl9LGllX3RvdWNoOmZ1bmN0aW9uKGEpe3JldHVybiExfSxzaG93VGlwOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0VGlwKGEpO3JldHVybiB0aGlzLnNob3VsZF9zaG93KGEsYik/dGhpcy5zaG93KGEpOnZvaWQgMH0sZ2V0VGlwOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuc2VsZWN0b3IoYiksZD1hLmV4dGVuZCh7fSx0aGlzLnNldHRpbmdzLHRoaXMuZGF0YV9vcHRpb25zKGIpKSxlPW51bGw7cmV0dXJuIGMmJihlPXRoaXMuUygnc3BhbltkYXRhLXNlbGVjdG9yPVwiJytjKydcIl0nK2QudG9vbHRpcF9jbGFzcykpLFwib2JqZWN0XCI9PXR5cGVvZiBlP2U6ITF9LHNlbGVjdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPWEuYXR0cih0aGlzLmF0dHJfbmFtZSgpKXx8YS5hdHRyKFwiZGF0YS1zZWxlY3RvclwiKTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgYiYmKGI9dGhpcy5yYW5kb21fc3RyKDYpLGEuYXR0cihcImRhdGEtc2VsZWN0b3JcIixiKS5hdHRyKFwiYXJpYS1kZXNjcmliZWRieVwiLGIpKSxifSxjcmVhdGU6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcyxlPWEuZXh0ZW5kKHt9LHRoaXMuc2V0dGluZ3MsdGhpcy5kYXRhX29wdGlvbnMoYykpLGY9dGhpcy5zZXR0aW5ncy50aXBfdGVtcGxhdGU7XCJzdHJpbmdcIj09dHlwZW9mIGUudGlwX3RlbXBsYXRlJiZiLmhhc093blByb3BlcnR5KGUudGlwX3RlbXBsYXRlKSYmKGY9YltlLnRpcF90ZW1wbGF0ZV0pO3ZhciBnPWEoZih0aGlzLnNlbGVjdG9yKGMpLGEoXCI8ZGl2PjwvZGl2PlwiKS5odG1sKGMuYXR0cihcInRpdGxlXCIpKS5odG1sKCkpKSxoPXRoaXMuaW5oZXJpdGFibGVfY2xhc3NlcyhjKTtnLmFkZENsYXNzKGgpLmFwcGVuZFRvKGUuYXBwZW5kX3RvKSxNb2Rlcm5penIudG91Y2gmJihnLmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJ0YXAtdG8tY2xvc2VcIj4nK2UudG91Y2hfY2xvc2VfdGV4dCtcIjwvc3Bhbj5cIiksZy5vbihcInRvdWNoc3RhcnQuZm5kdG4udG9vbHRpcCBNU1BvaW50ZXJEb3duLmZuZHRuLnRvb2x0aXBcIixmdW5jdGlvbihhKXtkLmhpZGUoYyl9KSksYy5yZW1vdmVBdHRyKFwidGl0bGVcIikuYXR0cihcInRpdGxlXCIsXCJcIil9LHJlcG9zaXRpb246ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoLGk7aWYoYy5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIikuc2hvdygpLGU9Yi5kYXRhKFwid2lkdGhcIiksZj1jLmNoaWxkcmVuKFwiLm51YlwiKSxnPWYub3V0ZXJIZWlnaHQoKSxoPWYub3V0ZXJIZWlnaHQoKSxjLmNzcyh0aGlzLnNtYWxsKCk/e3dpZHRoOlwiMTAwJVwifTp7d2lkdGg6ZT9lOlwiYXV0b1wifSksaT1mdW5jdGlvbihhLGIsYyxkLGUsZil7cmV0dXJuIGEuY3NzKHt0b3A6Yj9iOlwiYXV0b1wiLGJvdHRvbTpkP2Q6XCJhdXRvXCIsbGVmdDplP2U6XCJhdXRvXCIscmlnaHQ6Yz9jOlwiYXV0b1wifSkuZW5kKCl9LGkoYyxiLm9mZnNldCgpLnRvcCtiLm91dGVySGVpZ2h0KCkrMTAsXCJhdXRvXCIsXCJhdXRvXCIsYi5vZmZzZXQoKS5sZWZ0KSx0aGlzLnNtYWxsKCkpaShjLGIub2Zmc2V0KCkudG9wK2Iub3V0ZXJIZWlnaHQoKSsxMCxcImF1dG9cIixcImF1dG9cIiwxMi41LGEodGhpcy5zY29wZSkud2lkdGgoKSksYy5hZGRDbGFzcyhcInRpcC1vdmVycmlkZVwiKSxpKGYsLWcsXCJhdXRvXCIsXCJhdXRvXCIsYi5vZmZzZXQoKS5sZWZ0KTtlbHNle3ZhciBqPWIub2Zmc2V0KCkubGVmdDtGb3VuZGF0aW9uLnJ0bCYmKGYuYWRkQ2xhc3MoXCJydGxcIiksaj1iLm9mZnNldCgpLmxlZnQrYi5vdXRlcldpZHRoKCktYy5vdXRlcldpZHRoKCkpLGkoYyxiLm9mZnNldCgpLnRvcCtiLm91dGVySGVpZ2h0KCkrMTAsXCJhdXRvXCIsXCJhdXRvXCIsaiksZi5hdHRyKFwic3R5bGVcIikmJmYucmVtb3ZlQXR0cihcInN0eWxlXCIpLGMucmVtb3ZlQ2xhc3MoXCJ0aXAtb3ZlcnJpZGVcIiksZCYmZC5pbmRleE9mKFwidGlwLXRvcFwiKT4tMT8oRm91bmRhdGlvbi5ydGwmJmYuYWRkQ2xhc3MoXCJydGxcIiksaShjLGIub2Zmc2V0KCkudG9wLWMub3V0ZXJIZWlnaHQoKSxcImF1dG9cIixcImF1dG9cIixqKS5yZW1vdmVDbGFzcyhcInRpcC1vdmVycmlkZVwiKSk6ZCYmZC5pbmRleE9mKFwidGlwLWxlZnRcIik+LTE/KGkoYyxiLm9mZnNldCgpLnRvcCtiLm91dGVySGVpZ2h0KCkvMi1jLm91dGVySGVpZ2h0KCkvMixcImF1dG9cIixcImF1dG9cIixiLm9mZnNldCgpLmxlZnQtYy5vdXRlcldpZHRoKCktZykucmVtb3ZlQ2xhc3MoXCJ0aXAtb3ZlcnJpZGVcIiksZi5yZW1vdmVDbGFzcyhcInJ0bFwiKSk6ZCYmZC5pbmRleE9mKFwidGlwLXJpZ2h0XCIpPi0xJiYoaShjLGIub2Zmc2V0KCkudG9wK2Iub3V0ZXJIZWlnaHQoKS8yLWMub3V0ZXJIZWlnaHQoKS8yLFwiYXV0b1wiLFwiYXV0b1wiLGIub2Zmc2V0KCkubGVmdCtiLm91dGVyV2lkdGgoKStnKS5yZW1vdmVDbGFzcyhcInRpcC1vdmVycmlkZVwiKSxmLnJlbW92ZUNsYXNzKFwicnRsXCIpKX1jLmNzcyhcInZpc2liaWxpdHlcIixcInZpc2libGVcIikuaGlkZSgpfSxzbWFsbDpmdW5jdGlvbigpe3JldHVybiBtYXRjaE1lZGlhKEZvdW5kYXRpb24ubWVkaWFfcXVlcmllcy5zbWFsbCkubWF0Y2hlcyYmIW1hdGNoTWVkaWEoRm91bmRhdGlvbi5tZWRpYV9xdWVyaWVzLm1lZGl1bSkubWF0Y2hlc30saW5oZXJpdGFibGVfY2xhc3NlczpmdW5jdGlvbihiKXt2YXIgYz1hLmV4dGVuZCh7fSx0aGlzLnNldHRpbmdzLHRoaXMuZGF0YV9vcHRpb25zKGIpKSxkPVtcInRpcC10b3BcIixcInRpcC1sZWZ0XCIsXCJ0aXAtYm90dG9tXCIsXCJ0aXAtcmlnaHRcIixcInJhZGl1c1wiLFwicm91bmRcIl0uY29uY2F0KGMuYWRkaXRpb25hbF9pbmhlcml0YWJsZV9jbGFzc2VzKSxlPWIuYXR0cihcImNsYXNzXCIpLGY9ZT9hLm1hcChlLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihiLGMpe3JldHVybi0xIT09YS5pbkFycmF5KGIsZCk/Yjp2b2lkIDB9KS5qb2luKFwiIFwiKTpcIlwiO3JldHVybiBhLnRyaW0oZil9LGNvbnZlcnRfdG9fdG91Y2g6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxkPWMuZ2V0VGlwKGIpLGU9YS5leHRlbmQoe30sYy5zZXR0aW5ncyxjLmRhdGFfb3B0aW9ucyhiKSk7MD09PWQuZmluZChcIi50YXAtdG8tY2xvc2VcIikubGVuZ3RoJiYoZC5hcHBlbmQoJzxzcGFuIGNsYXNzPVwidGFwLXRvLWNsb3NlXCI+JytlLnRvdWNoX2Nsb3NlX3RleHQrXCI8L3NwYW4+XCIpLGQub24oXCJjbGljay5mbmR0bi50b29sdGlwLnRhcGNsb3NlIHRvdWNoc3RhcnQuZm5kdG4udG9vbHRpcC50YXBjbG9zZSBNU1BvaW50ZXJEb3duLmZuZHRuLnRvb2x0aXAudGFwY2xvc2VcIixmdW5jdGlvbihhKXtjLmhpZGUoYil9KSksYi5kYXRhKFwidG9vbHRpcC1vcGVuLWV2ZW50LXR5cGVcIixcInRvdWNoXCIpfSxzaG93OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0VGlwKGEpO1widG91Y2hcIj09YS5kYXRhKFwidG9vbHRpcC1vcGVuLWV2ZW50LXR5cGVcIikmJnRoaXMuY29udmVydF90b190b3VjaChhKSx0aGlzLnJlcG9zaXRpb24oYSxiLGEuYXR0cihcImNsYXNzXCIpKSxhLmFkZENsYXNzKFwib3BlblwiKSxiLmZhZGVJbigxNTApfSxoaWRlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0VGlwKGEpO2IuZmFkZU91dCgxNTAsZnVuY3Rpb24oKXtiLmZpbmQoXCIudGFwLXRvLWNsb3NlXCIpLnJlbW92ZSgpLGIub2ZmKFwiY2xpY2suZm5kdG4udG9vbHRpcC50YXBjbG9zZSBNU1BvaW50ZXJEb3duLmZuZHRuLnRhcGNsb3NlXCIpLGEucmVtb3ZlQ2xhc3MoXCJvcGVuXCIpfSl9LG9mZjpmdW5jdGlvbigpe3ZhciBiPXRoaXM7dGhpcy5TKHRoaXMuc2NvcGUpLm9mZihcIi5mbmR0bi50b29sdGlwXCIpLHRoaXMuUyh0aGlzLnNldHRpbmdzLnRvb2x0aXBfY2xhc3MpLmVhY2goZnVuY3Rpb24oYyl7YShcIltcIitiLmF0dHJfbmFtZSgpK1wiXVwiKS5lcShjKS5hdHRyKFwidGl0bGVcIixhKHRoaXMpLnRleHQoKSl9KS5yZW1vdmUoKX0scmVmbG93OmZ1bmN0aW9uKCl7fX19KGpRdWVyeSx3aW5kb3csd2luZG93LmRvY3VtZW50KSxmdW5jdGlvbihhLGIsYyxkKXtcInVzZSBzdHJpY3RcIjtGb3VuZGF0aW9uLmxpYnMudG9wYmFyPXtuYW1lOlwidG9wYmFyXCIsdmVyc2lvbjpcIjUuNS4yXCIsc2V0dGluZ3M6e2luZGV4OjAsc3RhcnRfb2Zmc2V0OjAsXG5zdGlja3lfY2xhc3M6XCJzdGlja3lcIixjdXN0b21fYmFja190ZXh0OiEwLGJhY2tfdGV4dDpcIkJhY2tcIixtb2JpbGVfc2hvd19wYXJlbnRfbGluazohMCxpc19ob3ZlcjohMCxzY3JvbGx0b3A6ITAsc3RpY2t5X29uOlwiYWxsXCIsZHJvcGRvd25fYXV0b2Nsb3NlOiEwfSxpbml0OmZ1bmN0aW9uKGIsYyxkKXtGb3VuZGF0aW9uLmluaGVyaXQodGhpcyxcImFkZF9jdXN0b21fcnVsZSByZWdpc3Rlcl9tZWRpYSB0aHJvdHRsZVwiKTt2YXIgZT10aGlzO2UucmVnaXN0ZXJfbWVkaWEoXCJ0b3BiYXJcIixcImZvdW5kYXRpb24tbXEtdG9wYmFyXCIpLHRoaXMuYmluZGluZ3MoYyxkKSxlLlMoXCJbXCIrdGhpcy5hdHRyX25hbWUoKStcIl1cIix0aGlzLnNjb3BlKS5lYWNoKGZ1bmN0aW9uKCl7e3ZhciBiPWEodGhpcyksYz1iLmRhdGEoZS5hdHRyX25hbWUoITApK1wiLWluaXRcIik7ZS5TKFwic2VjdGlvbiwgLnRvcC1iYXItc2VjdGlvblwiLHRoaXMpfWIuZGF0YShcImluZGV4XCIsMCk7dmFyIGQ9Yi5wYXJlbnQoKTtkLmhhc0NsYXNzKFwiZml4ZWRcIil8fGUuaXNfc3RpY2t5KGIsZCxjKT8oZS5zZXR0aW5ncy5zdGlja3lfY2xhc3M9Yy5zdGlja3lfY2xhc3MsZS5zZXR0aW5ncy5zdGlja3lfdG9wYmFyPWIsYi5kYXRhKFwiaGVpZ2h0XCIsZC5vdXRlckhlaWdodCgpKSxiLmRhdGEoXCJzdGlja3lvZmZzZXRcIixkLm9mZnNldCgpLnRvcCkpOmIuZGF0YShcImhlaWdodFwiLGIub3V0ZXJIZWlnaHQoKSksYy5hc3NlbWJsZWR8fGUuYXNzZW1ibGUoYiksYy5pc19ob3Zlcj9lLlMoXCIuaGFzLWRyb3Bkb3duXCIsYikuYWRkQ2xhc3MoXCJub3QtY2xpY2tcIik6ZS5TKFwiLmhhcy1kcm9wZG93blwiLGIpLnJlbW92ZUNsYXNzKFwibm90LWNsaWNrXCIpLGUuYWRkX2N1c3RvbV9ydWxlKFwiLmYtdG9wYmFyLWZpeGVkIHsgcGFkZGluZy10b3A6IFwiK2IuZGF0YShcImhlaWdodFwiKStcInB4IH1cIiksZC5oYXNDbGFzcyhcImZpeGVkXCIpJiZlLlMoXCJib2R5XCIpLmFkZENsYXNzKFwiZi10b3BiYXItZml4ZWRcIil9KX0saXNfc3RpY2t5OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iLmhhc0NsYXNzKGMuc3RpY2t5X2NsYXNzKSxlPW1hdGNoTWVkaWEoRm91bmRhdGlvbi5tZWRpYV9xdWVyaWVzLnNtYWxsKS5tYXRjaGVzLGY9bWF0Y2hNZWRpYShGb3VuZGF0aW9uLm1lZGlhX3F1ZXJpZXMubWVkaXVtKS5tYXRjaGVzLGc9bWF0Y2hNZWRpYShGb3VuZGF0aW9uLm1lZGlhX3F1ZXJpZXMubGFyZ2UpLm1hdGNoZXM7cmV0dXJuIGQmJlwiYWxsXCI9PT1jLnN0aWNreV9vbj8hMDpkJiZ0aGlzLnNtYWxsKCkmJi0xIT09Yy5zdGlja3lfb24uaW5kZXhPZihcInNtYWxsXCIpJiZlJiYhZiYmIWc/ITA6ZCYmdGhpcy5tZWRpdW0oKSYmLTEhPT1jLnN0aWNreV9vbi5pbmRleE9mKFwibWVkaXVtXCIpJiZlJiZmJiYhZz8hMDpkJiZ0aGlzLmxhcmdlKCkmJi0xIT09Yy5zdGlja3lfb24uaW5kZXhPZihcImxhcmdlXCIpJiZlJiZmJiZnPyEwOiExfSx0b2dnbGU6ZnVuY3Rpb24oYyl7dmFyIGQsZT10aGlzO2Q9Yz9lLlMoYykuY2xvc2VzdChcIltcIit0aGlzLmF0dHJfbmFtZSgpK1wiXVwiKTplLlMoXCJbXCIrdGhpcy5hdHRyX25hbWUoKStcIl1cIik7dmFyIGY9ZC5kYXRhKHRoaXMuYXR0cl9uYW1lKCEwKStcIi1pbml0XCIpLGc9ZS5TKFwic2VjdGlvbiwgLnRvcC1iYXItc2VjdGlvblwiLGQpO2UuYnJlYWtwb2ludCgpJiYoZS5ydGw/KGcuY3NzKHtyaWdodDpcIjAlXCJ9KSxhKFwiPi5uYW1lXCIsZykuY3NzKHtyaWdodDpcIjEwMCVcIn0pKTooZy5jc3Moe2xlZnQ6XCIwJVwifSksYShcIj4ubmFtZVwiLGcpLmNzcyh7bGVmdDpcIjEwMCVcIn0pKSxlLlMoXCJsaS5tb3ZlZFwiLGcpLnJlbW92ZUNsYXNzKFwibW92ZWRcIiksZC5kYXRhKFwiaW5kZXhcIiwwKSxkLnRvZ2dsZUNsYXNzKFwiZXhwYW5kZWRcIikuY3NzKFwiaGVpZ2h0XCIsXCJcIikpLGYuc2Nyb2xsdG9wP2QuaGFzQ2xhc3MoXCJleHBhbmRlZFwiKT9kLnBhcmVudCgpLmhhc0NsYXNzKFwiZml4ZWRcIikmJihmLnNjcm9sbHRvcD8oZC5wYXJlbnQoKS5yZW1vdmVDbGFzcyhcImZpeGVkXCIpLGQuYWRkQ2xhc3MoXCJmaXhlZFwiKSxlLlMoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwiZi10b3BiYXItZml4ZWRcIiksYi5zY3JvbGxUbygwLDApKTpkLnBhcmVudCgpLnJlbW92ZUNsYXNzKFwiZXhwYW5kZWRcIikpOmQuaGFzQ2xhc3MoXCJmaXhlZFwiKSYmKGQucGFyZW50KCkuYWRkQ2xhc3MoXCJmaXhlZFwiKSxkLnJlbW92ZUNsYXNzKFwiZml4ZWRcIiksZS5TKFwiYm9keVwiKS5hZGRDbGFzcyhcImYtdG9wYmFyLWZpeGVkXCIpKTooZS5pc19zdGlja3koZCxkLnBhcmVudCgpLGYpJiZkLnBhcmVudCgpLmFkZENsYXNzKFwiZml4ZWRcIiksZC5wYXJlbnQoKS5oYXNDbGFzcyhcImZpeGVkXCIpJiYoZC5oYXNDbGFzcyhcImV4cGFuZGVkXCIpPyhkLmFkZENsYXNzKFwiZml4ZWRcIiksZC5wYXJlbnQoKS5hZGRDbGFzcyhcImV4cGFuZGVkXCIpLGUuUyhcImJvZHlcIikuYWRkQ2xhc3MoXCJmLXRvcGJhci1maXhlZFwiKSk6KGQucmVtb3ZlQ2xhc3MoXCJmaXhlZFwiKSxkLnBhcmVudCgpLnJlbW92ZUNsYXNzKFwiZXhwYW5kZWRcIiksZS51cGRhdGVfc3RpY2t5X3Bvc2l0aW9uaW5nKCkpKSl9LHRpbWVyOm51bGwsZXZlbnRzOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMsZT10aGlzLlM7ZSh0aGlzLnNjb3BlKS5vZmYoXCIudG9wYmFyXCIpLm9uKFwiY2xpY2suZm5kdG4udG9wYmFyXCIsXCJbXCIrdGhpcy5hdHRyX25hbWUoKStcIl0gLnRvZ2dsZS10b3BiYXJcIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksZC50b2dnbGUodGhpcyl9KS5vbihcImNsaWNrLmZuZHRuLnRvcGJhciBjb250ZXh0bWVudS5mbmR0bi50b3BiYXJcIiwnLnRvcC1iYXIgLnRvcC1iYXItc2VjdGlvbiBsaSBhW2hyZWZePVwiI1wiXSxbJyt0aGlzLmF0dHJfbmFtZSgpKyddIC50b3AtYmFyLXNlY3Rpb24gbGkgYVtocmVmXj1cIiNcIl0nLGZ1bmN0aW9uKGIpe3ZhciBjPWEodGhpcykuY2xvc2VzdChcImxpXCIpLGU9Yy5jbG9zZXN0KFwiW1wiK2QuYXR0cl9uYW1lKCkrXCJdXCIpLGY9ZS5kYXRhKGQuYXR0cl9uYW1lKCEwKStcIi1pbml0XCIpO2lmKGYuZHJvcGRvd25fYXV0b2Nsb3NlJiZmLmlzX2hvdmVyKXt2YXIgZz1hKHRoaXMpLmNsb3Nlc3QoXCIuaG92ZXJcIik7Zy5yZW1vdmVDbGFzcyhcImhvdmVyXCIpfSFkLmJyZWFrcG9pbnQoKXx8Yy5oYXNDbGFzcyhcImJhY2tcIil8fGMuaGFzQ2xhc3MoXCJoYXMtZHJvcGRvd25cIil8fGQudG9nZ2xlKCl9KS5vbihcImNsaWNrLmZuZHRuLnRvcGJhclwiLFwiW1wiK3RoaXMuYXR0cl9uYW1lKCkrXCJdIGxpLmhhcy1kcm9wZG93blwiLGZ1bmN0aW9uKGIpe3ZhciBjPWUodGhpcyksZj1lKGIudGFyZ2V0KSxnPWMuY2xvc2VzdChcIltcIitkLmF0dHJfbmFtZSgpK1wiXVwiKSxoPWcuZGF0YShkLmF0dHJfbmFtZSghMCkrXCItaW5pdFwiKTtyZXR1cm4gZi5kYXRhKFwicmV2ZWFsSWRcIik/dm9pZCBkLnRvZ2dsZSgpOnZvaWQoZC5icmVha3BvaW50KCl8fCghaC5pc19ob3Zlcnx8TW9kZXJuaXpyLnRvdWNoKSYmKGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksYy5oYXNDbGFzcyhcImhvdmVyXCIpPyhjLnJlbW92ZUNsYXNzKFwiaG92ZXJcIikuZmluZChcImxpXCIpLnJlbW92ZUNsYXNzKFwiaG92ZXJcIiksYy5wYXJlbnRzKFwibGkuaG92ZXJcIikucmVtb3ZlQ2xhc3MoXCJob3ZlclwiKSk6KGMuYWRkQ2xhc3MoXCJob3ZlclwiKSxhKGMpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJob3ZlclwiKSxcIkFcIj09PWZbMF0ubm9kZU5hbWUmJmYucGFyZW50KCkuaGFzQ2xhc3MoXCJoYXMtZHJvcGRvd25cIikmJmIucHJldmVudERlZmF1bHQoKSkpKX0pLm9uKFwiY2xpY2suZm5kdG4udG9wYmFyXCIsXCJbXCIrdGhpcy5hdHRyX25hbWUoKStcIl0gLmhhcy1kcm9wZG93bj5hXCIsZnVuY3Rpb24oYSl7aWYoZC5icmVha3BvaW50KCkpe2EucHJldmVudERlZmF1bHQoKTt2YXIgYj1lKHRoaXMpLGM9Yi5jbG9zZXN0KFwiW1wiK2QuYXR0cl9uYW1lKCkrXCJdXCIpLGY9Yy5maW5kKFwic2VjdGlvbiwgLnRvcC1iYXItc2VjdGlvblwiKSxnPShiLm5leHQoXCIuZHJvcGRvd25cIikub3V0ZXJIZWlnaHQoKSxiLmNsb3Nlc3QoXCJsaVwiKSk7Yy5kYXRhKFwiaW5kZXhcIixjLmRhdGEoXCJpbmRleFwiKSsxKSxnLmFkZENsYXNzKFwibW92ZWRcIiksZC5ydGw/KGYuY3NzKHtyaWdodDotKDEwMCpjLmRhdGEoXCJpbmRleFwiKSkrXCIlXCJ9KSxmLmZpbmQoXCI+Lm5hbWVcIikuY3NzKHtyaWdodDoxMDAqYy5kYXRhKFwiaW5kZXhcIikrXCIlXCJ9KSk6KGYuY3NzKHtsZWZ0Oi0oMTAwKmMuZGF0YShcImluZGV4XCIpKStcIiVcIn0pLGYuZmluZChcIj4ubmFtZVwiKS5jc3Moe2xlZnQ6MTAwKmMuZGF0YShcImluZGV4XCIpK1wiJVwifSkpLGMuY3NzKFwiaGVpZ2h0XCIsYi5zaWJsaW5ncyhcInVsXCIpLm91dGVySGVpZ2h0KCEwKStjLmRhdGEoXCJoZWlnaHRcIikpfX0pLGUoYikub2ZmKFwiLnRvcGJhclwiKS5vbihcInJlc2l6ZS5mbmR0bi50b3BiYXJcIixkLnRocm90dGxlKGZ1bmN0aW9uKCl7ZC5yZXNpemUuY2FsbChkKX0sNTApKS50cmlnZ2VyKFwicmVzaXplLmZuZHRuLnRvcGJhclwiKS5sb2FkKGZ1bmN0aW9uKCl7ZSh0aGlzKS50cmlnZ2VyKFwicmVzaXplLmZuZHRuLnRvcGJhclwiKX0pLGUoXCJib2R5XCIpLm9mZihcIi50b3BiYXJcIikub24oXCJjbGljay5mbmR0bi50b3BiYXJcIixmdW5jdGlvbihhKXt2YXIgYj1lKGEudGFyZ2V0KS5jbG9zZXN0KFwibGlcIikuY2xvc2VzdChcImxpLmhvdmVyXCIpO2IubGVuZ3RoPjB8fGUoXCJbXCIrZC5hdHRyX25hbWUoKStcIl0gbGkuaG92ZXJcIikucmVtb3ZlQ2xhc3MoXCJob3ZlclwiKX0pLGUodGhpcy5zY29wZSkub24oXCJjbGljay5mbmR0bi50b3BiYXJcIixcIltcIit0aGlzLmF0dHJfbmFtZSgpK1wiXSAuaGFzLWRyb3Bkb3duIC5iYWNrXCIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBiPWUodGhpcyksYz1iLmNsb3Nlc3QoXCJbXCIrZC5hdHRyX25hbWUoKStcIl1cIiksZj1jLmZpbmQoXCJzZWN0aW9uLCAudG9wLWJhci1zZWN0aW9uXCIpLGc9KGMuZGF0YShkLmF0dHJfbmFtZSghMCkrXCItaW5pdFwiKSxiLmNsb3Nlc3QoXCJsaS5tb3ZlZFwiKSksaD1nLnBhcmVudCgpO2MuZGF0YShcImluZGV4XCIsYy5kYXRhKFwiaW5kZXhcIiktMSksZC5ydGw/KGYuY3NzKHtyaWdodDotKDEwMCpjLmRhdGEoXCJpbmRleFwiKSkrXCIlXCJ9KSxmLmZpbmQoXCI+Lm5hbWVcIikuY3NzKHtyaWdodDoxMDAqYy5kYXRhKFwiaW5kZXhcIikrXCIlXCJ9KSk6KGYuY3NzKHtsZWZ0Oi0oMTAwKmMuZGF0YShcImluZGV4XCIpKStcIiVcIn0pLGYuZmluZChcIj4ubmFtZVwiKS5jc3Moe2xlZnQ6MTAwKmMuZGF0YShcImluZGV4XCIpK1wiJVwifSkpLDA9PT1jLmRhdGEoXCJpbmRleFwiKT9jLmNzcyhcImhlaWdodFwiLFwiXCIpOmMuY3NzKFwiaGVpZ2h0XCIsaC5vdXRlckhlaWdodCghMCkrYy5kYXRhKFwiaGVpZ2h0XCIpKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zy5yZW1vdmVDbGFzcyhcIm1vdmVkXCIpfSwzMDApfSksZSh0aGlzLnNjb3BlKS5maW5kKFwiLmRyb3Bkb3duIGFcIikuZm9jdXMoZnVuY3Rpb24oKXthKHRoaXMpLnBhcmVudHMoXCIuaGFzLWRyb3Bkb3duXCIpLmFkZENsYXNzKFwiaG92ZXJcIil9KS5ibHVyKGZ1bmN0aW9uKCl7YSh0aGlzKS5wYXJlbnRzKFwiLmhhcy1kcm9wZG93blwiKS5yZW1vdmVDbGFzcyhcImhvdmVyXCIpfSl9LHJlc2l6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5TKFwiW1wiK3RoaXMuYXR0cl9uYW1lKCkrXCJdXCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYixkPWEuUyh0aGlzKSxlPWQuZGF0YShhLmF0dHJfbmFtZSghMCkrXCItaW5pdFwiKSxmPWQucGFyZW50KFwiLlwiK2Euc2V0dGluZ3Muc3RpY2t5X2NsYXNzKTtpZighYS5icmVha3BvaW50KCkpe3ZhciBnPWQuaGFzQ2xhc3MoXCJleHBhbmRlZFwiKTtkLmNzcyhcImhlaWdodFwiLFwiXCIpLnJlbW92ZUNsYXNzKFwiZXhwYW5kZWRcIikuZmluZChcImxpXCIpLnJlbW92ZUNsYXNzKFwiaG92ZXJcIiksZyYmYS50b2dnbGUoZCl9YS5pc19zdGlja3koZCxmLGUpJiYoZi5oYXNDbGFzcyhcImZpeGVkXCIpPyhmLnJlbW92ZUNsYXNzKFwiZml4ZWRcIiksYj1mLm9mZnNldCgpLnRvcCxhLlMoYy5ib2R5KS5oYXNDbGFzcyhcImYtdG9wYmFyLWZpeGVkXCIpJiYoYi09ZC5kYXRhKFwiaGVpZ2h0XCIpKSxkLmRhdGEoXCJzdGlja3lvZmZzZXRcIixiKSxmLmFkZENsYXNzKFwiZml4ZWRcIikpOihiPWYub2Zmc2V0KCkudG9wLGQuZGF0YShcInN0aWNreW9mZnNldFwiLGIpKSl9KX0sYnJlYWtwb2ludDpmdW5jdGlvbigpe3JldHVybiFtYXRjaE1lZGlhKEZvdW5kYXRpb24ubWVkaWFfcXVlcmllcy50b3BiYXIpLm1hdGNoZXN9LHNtYWxsOmZ1bmN0aW9uKCl7cmV0dXJuIG1hdGNoTWVkaWEoRm91bmRhdGlvbi5tZWRpYV9xdWVyaWVzLnNtYWxsKS5tYXRjaGVzfSxtZWRpdW06ZnVuY3Rpb24oKXtyZXR1cm4gbWF0Y2hNZWRpYShGb3VuZGF0aW9uLm1lZGlhX3F1ZXJpZXMubWVkaXVtKS5tYXRjaGVzfSxsYXJnZTpmdW5jdGlvbigpe3JldHVybiBtYXRjaE1lZGlhKEZvdW5kYXRpb24ubWVkaWFfcXVlcmllcy5sYXJnZSkubWF0Y2hlc30sYXNzZW1ibGU6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxkPWIuZGF0YSh0aGlzLmF0dHJfbmFtZSghMCkrXCItaW5pdFwiKSxlPWMuUyhcInNlY3Rpb24sIC50b3AtYmFyLXNlY3Rpb25cIixiKTtlLmRldGFjaCgpLGMuUyhcIi5oYXMtZHJvcGRvd24+YVwiLGUpLmVhY2goZnVuY3Rpb24oKXt2YXIgYixlPWMuUyh0aGlzKSxmPWUuc2libGluZ3MoXCIuZHJvcGRvd25cIiksZz1lLmF0dHIoXCJocmVmXCIpO2YuZmluZChcIi50aXRsZS5iYWNrXCIpLmxlbmd0aHx8KGI9YSgxPT1kLm1vYmlsZV9zaG93X3BhcmVudF9saW5rJiZnPyc8bGkgY2xhc3M9XCJ0aXRsZSBiYWNrIGpzLWdlbmVyYXRlZFwiPjxoNT48YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCI+PC9hPjwvaDU+PC9saT48bGkgY2xhc3M9XCJwYXJlbnQtbGluayBoaWRlLWZvci1tZWRpdW0tdXBcIj48YSBjbGFzcz1cInBhcmVudC1saW5rIGpzLWdlbmVyYXRlZFwiIGhyZWY9XCInK2crJ1wiPicrZS5odG1sKCkrXCI8L2E+PC9saT5cIjonPGxpIGNsYXNzPVwidGl0bGUgYmFjayBqcy1nZW5lcmF0ZWRcIj48aDU+PGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiPjwvYT48L2g1PicpLGEoXCJoNT5hXCIsYikuaHRtbCgxPT1kLmN1c3RvbV9iYWNrX3RleHQ/ZC5iYWNrX3RleHQ6XCImbGFxdW87IFwiK2UuaHRtbCgpKSxmLnByZXBlbmQoYikpfSksZS5hcHBlbmRUbyhiKSx0aGlzLnN0aWNreSgpLHRoaXMuYXNzZW1ibGVkKGIpfSxhc3NlbWJsZWQ6ZnVuY3Rpb24oYil7Yi5kYXRhKHRoaXMuYXR0cl9uYW1lKCEwKSxhLmV4dGVuZCh7fSxiLmRhdGEodGhpcy5hdHRyX25hbWUoITApKSx7YXNzZW1ibGVkOiEwfSkpfSxoZWlnaHQ6ZnVuY3Rpb24oYil7dmFyIGM9MCxkPXRoaXM7cmV0dXJuIGEoXCI+IGxpXCIsYikuZWFjaChmdW5jdGlvbigpe2MrPWQuUyh0aGlzKS5vdXRlckhlaWdodCghMCl9KSxjfSxzdGlja3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuUyhiKS5vbihcInNjcm9sbFwiLGZ1bmN0aW9uKCl7YS51cGRhdGVfc3RpY2t5X3Bvc2l0aW9uaW5nKCl9KX0sdXBkYXRlX3N0aWNreV9wb3NpdGlvbmluZzpmdW5jdGlvbigpe3ZhciBhPVwiLlwiK3RoaXMuc2V0dGluZ3Muc3RpY2t5X2NsYXNzLGM9dGhpcy5TKGIpLGQ9dGhpcztpZihkLnNldHRpbmdzLnN0aWNreV90b3BiYXImJmQuaXNfc3RpY2t5KHRoaXMuc2V0dGluZ3Muc3RpY2t5X3RvcGJhcix0aGlzLnNldHRpbmdzLnN0aWNreV90b3BiYXIucGFyZW50KCksdGhpcy5zZXR0aW5ncykpe3ZhciBlPXRoaXMuc2V0dGluZ3Muc3RpY2t5X3RvcGJhci5kYXRhKFwic3RpY2t5b2Zmc2V0XCIpK3RoaXMuc2V0dGluZ3Muc3RhcnRfb2Zmc2V0O2QuUyhhKS5oYXNDbGFzcyhcImV4cGFuZGVkXCIpfHwoYy5zY3JvbGxUb3AoKT5lP2QuUyhhKS5oYXNDbGFzcyhcImZpeGVkXCIpfHwoZC5TKGEpLmFkZENsYXNzKFwiZml4ZWRcIiksZC5TKFwiYm9keVwiKS5hZGRDbGFzcyhcImYtdG9wYmFyLWZpeGVkXCIpKTpjLnNjcm9sbFRvcCgpPD1lJiZkLlMoYSkuaGFzQ2xhc3MoXCJmaXhlZFwiKSYmKGQuUyhhKS5yZW1vdmVDbGFzcyhcImZpeGVkXCIpLGQuUyhcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJmLXRvcGJhci1maXhlZFwiKSkpfX0sb2ZmOmZ1bmN0aW9uKCl7dGhpcy5TKHRoaXMuc2NvcGUpLm9mZihcIi5mbmR0bi50b3BiYXJcIiksdGhpcy5TKGIpLm9mZihcIi5mbmR0bi50b3BiYXJcIil9LHJlZmxvdzpmdW5jdGlvbigpe319fShqUXVlcnksd2luZG93LHdpbmRvdy5kb2N1bWVudCk7Il0sImZpbGUiOiJmb3VuZGF0aW9uL2pzL2ZvdW5kYXRpb24ubWluLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=